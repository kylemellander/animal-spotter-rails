function stackBlurImage(e,t,n,i){var o=document.getElementById(e),r=o.naturalWidth,s=o.naturalHeight,a=document.getElementById(t);a.style.width=r+"px",a.style.height=s+"px",a.width=r,a.height=s;var l=a.getContext("2d");l.clearRect(0,0,r,s),l.drawImage(o,0,0),isNaN(n)||1>n||(i?stackBlurCanvasRGBA(t,0,0,r,s,n):stackBlurCanvasRGB(t,0,0,r,s,n))}function stackBlurCanvasRGBA(e,t,n,i,o,r){if(!(isNaN(r)||1>r)){r|=0;var s,a=document.getElementById(e),l=a.getContext("2d");try{try{s=l.getImageData(t,n,i,o)}catch(c){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),s=l.getImageData(t,n,i,o)}catch(c){throw alert("Cannot access local image"),new Error("unable to access local image data: "+c)}}}catch(c){throw alert("Cannot access image"),new Error("unable to access image data: "+c)}var d,u,h,p,f,m,g,v,b,y,w,x,_,k,S,C,I,E,P,T,B,A,z,L,$=s.data,D=r+r+1,M=i-1,F=o-1,R=r+1,O=R*(R+1)/2,U=new BlurStack,N=U;for(h=1;D>h;h++)if(N=N.next=new BlurStack,h==R)var V=N;N.next=U;var q=null,G=null;g=m=0;var H=mul_table[r],j=shg_table[r];for(u=0;o>u;u++){for(C=I=E=P=v=b=y=w=0,x=R*(T=$[m]),_=R*(B=$[m+1]),k=R*(A=$[m+2]),S=R*(z=$[m+3]),v+=O*T,b+=O*B,y+=O*A,w+=O*z,N=U,h=0;R>h;h++)N.r=T,N.g=B,N.b=A,N.a=z,N=N.next;for(h=1;R>h;h++)p=m+((h>M?M:h)<<2),v+=(N.r=T=$[p])*(L=R-h),b+=(N.g=B=$[p+1])*L,y+=(N.b=A=$[p+2])*L,w+=(N.a=z=$[p+3])*L,C+=T,I+=B,E+=A,P+=z,N=N.next;for(q=U,G=V,d=0;i>d;d++)$[m+3]=z=w*H>>j,0!=z?(z=255/z,$[m]=(v*H>>j)*z,$[m+1]=(b*H>>j)*z,$[m+2]=(y*H>>j)*z):$[m]=$[m+1]=$[m+2]=0,v-=x,b-=_,y-=k,w-=S,x-=q.r,_-=q.g,k-=q.b,S-=q.a,p=g+((p=d+r+1)<M?p:M)<<2,C+=q.r=$[p],I+=q.g=$[p+1],E+=q.b=$[p+2],P+=q.a=$[p+3],v+=C,b+=I,y+=E,w+=P,q=q.next,x+=T=G.r,_+=B=G.g,k+=A=G.b,S+=z=G.a,C-=T,I-=B,E-=A,P-=z,G=G.next,m+=4;g+=i}for(d=0;i>d;d++){for(I=E=P=C=b=y=w=v=0,m=d<<2,x=R*(T=$[m]),_=R*(B=$[m+1]),k=R*(A=$[m+2]),S=R*(z=$[m+3]),v+=O*T,b+=O*B,y+=O*A,w+=O*z,N=U,h=0;R>h;h++)N.r=T,N.g=B,N.b=A,N.a=z,N=N.next;for(f=i,h=1;r>=h;h++)m=f+d<<2,v+=(N.r=T=$[m])*(L=R-h),b+=(N.g=B=$[m+1])*L,y+=(N.b=A=$[m+2])*L,w+=(N.a=z=$[m+3])*L,C+=T,I+=B,E+=A,P+=z,N=N.next,F>h&&(f+=i);for(m=d,q=U,G=V,u=0;o>u;u++)p=m<<2,$[p+3]=z=w*H>>j,z>0?(z=255/z,$[p]=(v*H>>j)*z,$[p+1]=(b*H>>j)*z,$[p+2]=(y*H>>j)*z):$[p]=$[p+1]=$[p+2]=0,v-=x,b-=_,y-=k,w-=S,x-=q.r,_-=q.g,k-=q.b,S-=q.a,p=d+((p=u+R)<F?p:F)*i<<2,v+=C+=q.r=$[p],b+=I+=q.g=$[p+1],y+=E+=q.b=$[p+2],w+=P+=q.a=$[p+3],q=q.next,x+=T=G.r,_+=B=G.g,k+=A=G.b,S+=z=G.a,C-=T,I-=B,E-=A,P-=z,G=G.next,m+=i}l.putImageData(s,t,n)}}function stackBlurCanvasRGB(e,t,n,i,o,r){if(!(isNaN(r)||1>r)){r|=0;var s,a=document.getElementById(e),l=a.getContext("2d");try{try{s=l.getImageData(t,n,i,o)}catch(c){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),s=l.getImageData(t,n,i,o)}catch(c){throw alert("Cannot access local image"),new Error("unable to access local image data: "+c)}}}catch(c){throw alert("Cannot access image"),new Error("unable to access image data: "+c)}var d,u,h,p,f,m,g,v,b,y,w,x,_,k,S,C,I,E,P,T,B=s.data,A=r+r+1,z=i-1,L=o-1,$=r+1,D=$*($+1)/2,M=new BlurStack,F=M;for(h=1;A>h;h++)if(F=F.next=new BlurStack,h==$)var R=F;F.next=M;var O=null,U=null;g=m=0;var N=mul_table[r],V=shg_table[r];for(u=0;o>u;u++){for(k=S=C=v=b=y=0,w=$*(I=B[m]),x=$*(E=B[m+1]),_=$*(P=B[m+2]),v+=D*I,b+=D*E,y+=D*P,F=M,h=0;$>h;h++)F.r=I,F.g=E,F.b=P,F=F.next;for(h=1;$>h;h++)p=m+((h>z?z:h)<<2),v+=(F.r=I=B[p])*(T=$-h),b+=(F.g=E=B[p+1])*T,y+=(F.b=P=B[p+2])*T,k+=I,S+=E,C+=P,F=F.next;for(O=M,U=R,d=0;i>d;d++)B[m]=v*N>>V,B[m+1]=b*N>>V,B[m+2]=y*N>>V,v-=w,b-=x,y-=_,w-=O.r,x-=O.g,_-=O.b,p=g+((p=d+r+1)<z?p:z)<<2,k+=O.r=B[p],S+=O.g=B[p+1],C+=O.b=B[p+2],v+=k,b+=S,y+=C,O=O.next,w+=I=U.r,x+=E=U.g,_+=P=U.b,k-=I,S-=E,C-=P,U=U.next,m+=4;g+=i}for(d=0;i>d;d++){for(S=C=k=b=y=v=0,m=d<<2,w=$*(I=B[m]),x=$*(E=B[m+1]),_=$*(P=B[m+2]),v+=D*I,b+=D*E,y+=D*P,F=M,h=0;$>h;h++)F.r=I,F.g=E,F.b=P,F=F.next;for(f=i,h=1;r>=h;h++)m=f+d<<2,v+=(F.r=I=B[m])*(T=$-h),b+=(F.g=E=B[m+1])*T,y+=(F.b=P=B[m+2])*T,k+=I,S+=E,C+=P,F=F.next,L>h&&(f+=i);for(m=d,O=M,U=R,u=0;o>u;u++)p=m<<2,B[p]=v*N>>V,B[p+1]=b*N>>V,B[p+2]=y*N>>V,v-=w,b-=x,y-=_,w-=O.r,x-=O.g,_-=O.b,p=d+((p=u+$)<L?p:L)*i<<2,v+=k+=O.r=B[p],b+=S+=O.g=B[p+1],y+=C+=O.b=B[p+2],O=O.next,w+=I=U.r,x+=E=U.g,_+=P=U.b,k-=I,S-=E,C-=P,U=U.next,m+=i}l.putImageData(s,t,n)}}function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function RGBColor(e){this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in t)e==n&&(e=t[n]);for(var i=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],o=0;o<i.length;o++){var r=i[o].re,s=i[o].process,a=r.exec(e);a&&(channels=s(a),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n},this.getHelpXML=function(){for(var e=new Array,n=0;n<i.length;n++)for(var o=i[n].example,r=0;r<o.length;r++)e[e.length]=o[r];for(var s in t)e[e.length]=s;var a=document.createElement("ul");a.setAttribute("id","rgbcolor-examples");for(var n=0;n<e.length;n++)try{var l=document.createElement("li"),c=new RGBColor(e[n]),d=document.createElement("div");d.style.cssText="margin: 3px; border: 1px solid black; background:"+c.toHex()+"; color:"+c.toHex(),d.appendChild(document.createTextNode("test"));var u=document.createTextNode(" "+e[n]+" -> "+c.toRGB()+" -> "+c.toHex());l.appendChild(d),l.appendChild(u),a.appendChild(l)}catch(h){}return a}}var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},i=e.URL||e.webkitURL||e,o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r=!e.externalHost&&"download"in o,s=e.webkitRequestFileSystem,a=e.requestFileSystem||s||e.mozRequestFileSystem,l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c="application/octet-stream",d=0,u=[],h=function(){for(var e=u.length;e--;){var t=u[e];"string"==typeof t?i.revokeObjectURL(t):t.remove()}u.length=0},p=function(e,t,n){t=[].concat(t);for(var i=t.length;i--;){var o=e["on"+t[i]];if("function"==typeof o)try{o.call(e,n||e)}catch(r){l(r)}}},f=function(i,l){var h,f,m,g=this,v=i.type,b=!1,y=function(){var e=n().createObjectURL(i);return u.push(e),e},w=function(){p(g,"writestart progress write writeend".split(" "))},x=function(){(b||!h)&&(h=y(i)),f?f.location.href=h:window.open(h,"_blank"),g.readyState=g.DONE,w()},_=function(e){return function(){return g.readyState!==g.DONE?e.apply(this,arguments):void 0}},k={create:!0,exclusive:!1};if(g.readyState=g.INIT,l||(l="download"),r){h=y(i),t=e.document,o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o.href=h,o.download=l;var S=t.createEvent("MouseEvents");return S.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(S),g.readyState=g.DONE,void w()}return e.chrome&&v&&v!==c&&(m=i.slice||i.webkitSlice,i=m.call(i,0,i.size,c),b=!0),s&&"download"!==l&&(l+=".download"),(v===c||s)&&(f=e),a?(d+=i.size,void a(e.TEMPORARY,d,_(function(e){e.root.getDirectory("saved",k,_(function(e){var t=function(){e.getFile(l,k,_(function(e){e.createWriter(_(function(t){t.onwriteend=function(t){f.location.href=e.toURL(),u.push(e),g.readyState=g.DONE,p(g,"writeend",t)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&x()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=g["on"+e]}),t.write(i),g.abort=function(){t.abort(),g.readyState=g.DONE},g.readyState=g.WRITING}),x)}),x)};e.getFile(l,{create:!1},_(function(e){e.remove(),t()}),_(function(e){e.code===e.NOT_FOUND_ERR?t():x()}))}),x)}),x)):void x()},m=f.prototype,g=function(e,t){return new f(e,t)};return m.abort=function(){var e=this;e.readyState=e.DONE,p(e,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,e.addEventListener("unload",h,!1),g.unload=function(){h(),e.removeEventListener("unload",h,!1)},g}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&(module.exports=saveAs);var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];!function(e){"use strict";var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),i=n&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),o=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,r=(n||o)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,r,s,a,l,c;for(t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]),r=new ArrayBuffer(t.length),s=new Uint8Array(r),a=0;a<t.length;a+=1)s[a]=t.charCodeAt(a);return l=e.split(",")[0].split(":")[1].split(";")[0],n?new Blob([i?s:r],{type:l}):(c=new o,c.append(r),c.getBlob(l))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(e,n,i){e(i&&t.toDataURL&&r?r(this.toDataURL(n,i)):this.mozGetAsFile("blob",n))}:t.toDataURL&&r&&(t.toBlob=function(e,t,n){e(r(this.toDataURL(t,n)))})),"function"==typeof define&&define.amd?define(function(){return r}):e.dataURLtoBlob=r}(this),function(){function e(){var e={};return e.FRAMERATE=30,e.MAX_VIRTUAL_PIXELS=3e4,e.init=function(t){var n=0;e.UniqueId=function(){return n++,"canvg"+n},e.Definitions={},e.Styles={},e.Animations=[],e.Images=[],e.ctx=t,e.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(e,t){this.viewPorts.push({width:e,height:t})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(e){return null!=e&&"number"==typeof e?e:"x"==e?this.width():"y"==e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},e.init(),e.ImagesLoaded=function(){for(var t=0;t<e.Images.length;t++)if(!e.Images[t].loaded)return!1;return!0},e.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},e.compressSpaces=function(e){return e.replace(/[\s\r\t\n]+/gm," ")},e.ajax=function(e){var t;return t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t?(t.open("GET",e,!1),t.send(null),t.responseText):null},e.parseXml=function(e){if(window.DOMParser){var t=new DOMParser;return t.parseFromString(e,"text/xml")}e=e.replace(/<!DOCTYPE svg[^>]*>/,"");var n=new ActiveXObject("Microsoft.XMLDOM");return n.async="false",n.loadXML(e),n},e.Property=function(e,t){this.name=e,this.value=t},e.Property.prototype.getValue=function(){return this.value},e.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},e.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var e=parseFloat(this.value);return(this.value+"").match(/%$/)&&(e/=100),e},e.Property.prototype.valueOrDefault=function(e){return this.hasValue()?this.value:e},e.Property.prototype.numValueOrDefault=function(e){return this.hasValue()?this.numValue():e},e.Property.prototype.addOpacity=function(t){var n=this.value;if(null!=t&&""!=t&&"string"==typeof this.value){var i=new RGBColor(this.value);i.ok&&(n="rgba("+i.r+", "+i.g+", "+i.b+", "+t+")")}return new e.Property(this.name,n)},e.Property.prototype.getDefinition=function(){var t=this.value.match(/#([^\)'"]+)/);return t&&(t=t[1]),t||(t=this.value),e.Definitions[t]},e.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},e.Property.prototype.getFillStyleDefinition=function(t,n){var i=this.getDefinition();if(null!=i&&i.createGradient)return i.createGradient(e.ctx,t,n);if(null!=i&&i.createPattern){if(i.getHrefAttribute().hasValue()){var o=i.attribute("patternTransform");i=i.getHrefAttribute().getDefinition(),o.hasValue()&&(i.attribute("patternTransform",!0).value=o.value)}return i.createPattern(e.ctx,t)}return null},e.Property.prototype.getDPI=function(e){return 96},e.Property.prototype.getEM=function(t){var n=12,i=new e.Property("fontSize",e.Font.Parse(e.ctx.font).fontSize);return i.hasValue()&&(n=i.toPixels(t)),n},e.Property.prototype.getUnits=function(){var e=this.value+"";return e.replace(/[0-9\.\-]/g,"")},e.Property.prototype.toPixels=function(t,n){if(!this.hasValue())return 0;var i=this.value+"";if(i.match(/em$/))return this.numValue()*this.getEM(t);if(i.match(/ex$/))return this.numValue()*this.getEM(t)/2;if(i.match(/px$/))return this.numValue();if(i.match(/pt$/))return this.numValue()*this.getDPI(t)*(1/72);if(i.match(/pc$/))return 15*this.numValue();if(i.match(/cm$/))return this.numValue()*this.getDPI(t)/2.54;if(i.match(/mm$/))return this.numValue()*this.getDPI(t)/25.4;if(i.match(/in$/))return this.numValue()*this.getDPI(t);if(i.match(/%$/))return this.numValue()*e.ViewPort.ComputeSize(t);var o=this.numValue();return n&&1>o?o*e.ViewPort.ComputeSize(t):o},e.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/s$/)?1e3*this.numValue():e.match(/ms$/)?this.numValue():this.numValue()},e.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/deg$/)?this.numValue()*(Math.PI/180):e.match(/grad$/)?this.numValue()*(Math.PI/200):e.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},e.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(t,n,i,o,r,s){var a=null!=s?this.Parse(s):this.CreateFont("","","","","",e.ctx.font);return{fontFamily:r||a.fontFamily,fontSize:o||a.fontSize,fontStyle:t||a.fontStyle,fontWeight:i||a.fontWeight,fontVariant:n||a.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var t=this;this.Parse=function(n){for(var i={},o=e.trim(e.compressSpaces(n||"")).split(" "),r={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},s="",a=0;a<o.length;a++)r.fontStyle||-1==t.Styles.indexOf(o[a])?r.fontVariant||-1==t.Variants.indexOf(o[a])?r.fontWeight||-1==t.Weights.indexOf(o[a])?r.fontSize?"inherit"!=o[a]&&(s+=o[a]):("inherit"!=o[a]&&(i.fontSize=o[a].split("/")[0]),r.fontStyle=r.fontVariant=r.fontWeight=r.fontSize=!0):("inherit"!=o[a]&&(i.fontWeight=o[a]),r.fontStyle=r.fontVariant=r.fontWeight=!0):("inherit"!=o[a]&&(i.fontVariant=o[a]),r.fontStyle=r.fontVariant=!0):("inherit"!=o[a]&&(i.fontStyle=o[a]),r.fontStyle=!0);return""!=s&&(i.fontFamily=s),i}},e.ToNumberArray=function(t){for(var n=e.trim(e.compressSpaces((t||"").replace(/,/g," "))).split(" "),i=0;i<n.length;i++)n[i]=parseFloat(n[i]);return n},e.Point=function(e,t){this.x=e,this.y=t},e.Point.prototype.angleTo=function(e){return Math.atan2(e.y-this.y,e.x-this.x)},e.Point.prototype.applyTransform=function(e){var t=this.x*e[0]+this.y*e[2]+e[4],n=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=n},e.CreatePoint=function(t){var n=e.ToNumberArray(t);return new e.Point(n[0],n[1])},e.CreatePath=function(t){for(var n=e.ToNumberArray(t),i=[],o=0;o<n.length;o+=2)i.push(new e.Point(n[o],n[o+1]));return i},e.BoundingBox=function(e,t,n,o){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(e,t){null!=e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),null!=t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},this.addX=function(e){this.addPoint(e,null)},this.addY=function(e){this.addPoint(null,e)},this.addBoundingBox=function(e){this.addPoint(e.x1,e.y1),this.addPoint(e.x2,e.y2)},this.addQuadraticCurve=function(e,t,n,i,o,r){var s=e+2/3*(n-e),a=t+2/3*(i-t),l=s+1/3*(o-e),c=a+1/3*(r-t);this.addBezierCurve(e,t,s,l,a,c,o,r)},this.addBezierCurve=function(e,t,n,o,r,s,a,l){var c=[e,t],d=[n,o],u=[r,s],h=[a,l];for(this.addPoint(c[0],c[1]),this.addPoint(h[0],h[1]),i=0;i<=1;i++){var p=function(e){return Math.pow(1-e,3)*c[i]+3*Math.pow(1-e,2)*e*d[i]+3*(1-e)*Math.pow(e,2)*u[i]+Math.pow(e,3)*h[i]},f=6*c[i]-12*d[i]+6*u[i],m=-3*c[i]+9*d[i]-9*u[i]+3*h[i],g=3*d[i]-3*c[i];if(0!=m){var v=Math.pow(f,2)-4*g*m;if(!(0>v)){var b=(-f+Math.sqrt(v))/(2*m);b>0&&1>b&&(0==i&&this.addX(p(b)),1==i&&this.addY(p(b)));var y=(-f-Math.sqrt(v))/(2*m);y>0&&1>y&&(0==i&&this.addX(p(y)),1==i&&this.addY(p(y)))}}else{if(0==f)continue;var w=-g/f;w>0&&1>w&&(0==i&&this.addX(p(w)),1==i&&this.addY(p(w)))}}},this.isPointInBox=function(e,t){return this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2},this.addPoint(e,t),this.addPoint(n,o)},e.Transform=function(t){var n=this;this.Type={},this.Type.translate=function(t){this.p=e.CreatePoint(t),this.apply=function(e){e.translate(this.p.x||0,this.p.y||0)},this.unapply=function(e){e.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(e){e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(t){var n=e.ToNumberArray(t);this.angle=new e.Property("angle",n[0]),this.cx=n[1]||0,this.cy=n[2]||0,this.apply=function(e){e.translate(this.cx,this.cy),e.rotate(this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.unapply=function(e){e.translate(this.cx,this.cy),e.rotate(-1*this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.applyToPoint=function(e){var t=this.angle.toRadians();e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),e.applyTransform([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0]),e.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(t){this.p=e.CreatePoint(t),this.apply=function(e){e.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(e){e.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(e){e.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(t){this.m=e.ToNumberArray(t),this.apply=function(e){e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(e){e.applyTransform(this.m)}},this.Type.SkewBase=function(t){this.base=n.Type.matrix,this.base(t),this.angle=new e.Property("angle",t)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=n.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=n.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].apply(e)},this.unapply=function(e){for(var t=this.transforms.length-1;t>=0;t--)this.transforms[t].unapply(e)},this.applyToPoint=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].applyToPoint(e)};for(var i=e.trim(e.compressSpaces(t)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),o=0;o<i.length;o++){var r=e.trim(i[o].split("(")[0]),s=i[o].split("(")[1].replace(")",""),a=new this.Type[r](s);a.type=r,this.transforms.push(a)}},e.AspectRatio=function(t,n,i,o,r,s,a,l,c,d){n=e.compressSpaces(n),n=n.replace(/^defer\s/,"");var u=n.split(" ")[0]||"xMidYMid",h=n.split(" ")[1]||"meet",p=i/o,f=r/s,m=Math.min(p,f),g=Math.max(p,f);"meet"==h&&(o*=m,s*=m),"slice"==h&&(o*=g,s*=g),c=new e.Property("refX",c),d=new e.Property("refY",d),c.hasValue()&&d.hasValue()?t.translate(-m*c.toPixels("x"),-m*d.toPixels("y")):(u.match(/^xMid/)&&("meet"==h&&m==f||"slice"==h&&g==f)&&t.translate(i/2-o/2,0),u.match(/YMid$/)&&("meet"==h&&m==p||"slice"==h&&g==p)&&t.translate(0,r/2-s/2),u.match(/^xMax/)&&("meet"==h&&m==f||"slice"==h&&g==f)&&t.translate(i-o,0),u.match(/YMax$/)&&("meet"==h&&m==p||"slice"==h&&g==p)&&t.translate(0,r-s)),"none"==u?t.scale(p,f):"meet"==h?t.scale(m,m):"slice"==h&&t.scale(g,g),t.translate(null==a?0:-a,null==l?0:-l)},e.Element={},e.EmptyProperty=new e.Property("EMPTY",""),e.Element.ElementBase=function(t){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(t,n){var i=this.attributes[t];return null!=i?i:(1==n&&(i=new e.Property(t,""),this.attributes[t]=i),i||e.EmptyProperty)},this.getHrefAttribute=function(){for(var t in this.attributes)if(t.match(/:href$/))return this.attributes[t];return e.EmptyProperty},this.style=function(t,n){var i=this.styles[t];if(null!=i)return i;var o=this.attribute(t);if(null!=o&&o.hasValue())return this.styles[t]=o,o;var r=this.parent;if(null!=r){var s=r.style(t);if(null!=s&&s.hasValue())return s}return 1==n&&(i=new e.Property(t,""),this.styles[t]=i),i||e.EmptyProperty},this.render=function(e){if("none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value){if(e.save(),this.attribute("mask").hasValue()){var t=this.attribute("mask").getDefinition();null!=t&&t.apply(e,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(e,this)}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}},this.setContext=function(e){},this.clearContext=function(e){},this.renderChildren=function(e){for(var t=0;t<this.children.length;t++)this.children[t].render(e)},this.addChild=function(t,n){var i=t;n&&(i=e.CreateElement(t)),i.parent=this,this.children.push(i)},null!=t&&1==t.nodeType){for(var n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];if(1==i.nodeType&&this.addChild(i,!0),this.captureTextNodes&&3==i.nodeType){var o=i.nodeValue||i.text||"";""!=e.trim(e.compressSpaces(o))&&this.addChild(new e.Element.tspan(i),!1)}}for(var n=0;n<t.attributes.length;n++){var r=t.attributes[n];this.attributes[r.nodeName]=new e.Property(r.nodeName,r.nodeValue)}var s=e.Styles[t.nodeName];if(null!=s)for(var a in s)this.styles[a]=s[a];if(this.attribute("class").hasValue())for(var l=e.compressSpaces(this.attribute("class").value).split(" "),c=0;c<l.length;c++){if(s=e.Styles["."+l[c]],null!=s)for(var a in s)this.styles[a]=s[a];if(s=e.Styles[t.nodeName+"."+l[c]],null!=s)for(var a in s)this.styles[a]=s[a]}if(this.attribute("id").hasValue()){var s=e.Styles["#"+this.attribute("id").value];if(null!=s)for(var a in s)this.styles[a]=s[a]}if(this.attribute("style").hasValue())for(var s=this.attribute("style").value.split(";"),n=0;n<s.length;n++)if(""!=e.trim(s[n])){var d=s[n].split(":"),a=e.trim(d[0]),u=e.trim(d[1]);this.styles[a]=new e.Property(a,u)}this.attribute("id").hasValue()&&null==e.Definitions[this.attribute("id").value]&&(e.Definitions[this.attribute("id").value]=this)}},e.Element.RenderedElementBase=function(t){this.base=e.Element.ElementBase,this.base(t),this.setContext=function(t){if(this.style("fill").isUrlDefinition()){var n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=n&&(t.fillStyle=n)}else if(this.style("fill").hasValue()){var i=this.style("fill");"currentColor"==i.value&&(i.value=this.style("color").value),t.fillStyle="none"==i.value?"rgba(0,0,0,0)":i.value}if(this.style("fill-opacity").hasValue()){var i=new e.Property("fill",t.fillStyle);i=i.addOpacity(this.style("fill-opacity").value),t.fillStyle=i.value}if(this.style("stroke").isUrlDefinition()){var n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));null!=n&&(t.strokeStyle=n)}else if(this.style("stroke").hasValue()){var o=this.style("stroke");"currentColor"==o.value&&(o.value=this.style("color").value),t.strokeStyle="none"==o.value?"rgba(0,0,0,0)":o.value}if(this.style("stroke-opacity").hasValue()){var o=new e.Property("stroke",t.strokeStyle);o=o.addOpacity(this.style("stroke-opacity").value),t.strokeStyle=o.value}if(this.style("stroke-width").hasValue()){var r=this.style("stroke-width").toPixels();t.lineWidth=0==r?.001:r}if(this.style("stroke-linecap").hasValue()&&(t.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(t.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(t.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()){var s=e.ToNumberArray(this.style("stroke-dasharray").value);"undefined"!=typeof t.setLineDash?t.setLineDash(s):"undefined"!=typeof t.webkitLineDash?t.webkitLineDash=s:"undefined"!=typeof t.mozDash&&(t.mozDash=s);var a=this.style("stroke-dashoffset").numValueOrDefault(1);"undefined"!=typeof t.lineDashOffset?t.lineDashOffset=a:"undefined"!=typeof t.webkitLineDashOffset?t.webkitLineDashOffset=a:"undefined"!=typeof t.mozDashOffset&&(t.mozDashOffset=a)}if("undefined"!=typeof t.font&&(t.font=e.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()){var l=new e.Transform(this.attribute("transform").value);l.apply(t)}if(this.style("clip-path").hasValue()){var c=this.style("clip-path").getDefinition();null!=c&&c.apply(t)}this.style("opacity").hasValue()&&(t.globalAlpha=this.style("opacity").numValue())}},e.Element.RenderedElementBase.prototype=new e.Element.ElementBase,e.Element.PathElementBase=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.path=function(t){return null!=t&&t.beginPath(),new e.BoundingBox},this.renderChildren=function(t){this.path(t),e.Mouse.checkPath(this,t),""!=t.fillStyle&&(this.attribute("fill-rule").hasValue()?t.fill(this.attribute("fill-rule").value):t.fill()),""!=t.strokeStyle&&t.stroke();var n=this.getMarkers();if(null!=n){if(this.style("marker-start").isUrlDefinition()){var i=this.style("marker-start").getDefinition();i.render(t,n[0][0],n[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var i=this.style("marker-mid").getDefinition(),o=1;o<n.length-1;o++)i.render(t,n[o][0],n[o][1]);if(this.style("marker-end").isUrlDefinition()){var i=this.style("marker-end").getDefinition();i.render(t,n[n.length-1][0],n[n.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},e.Element.PathElementBase.prototype=new e.Element.RenderedElementBase,e.Element.svg=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.baseClearContext=this.clearContext,this.clearContext=function(t){this.baseClearContext(t),e.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,this.baseSetContext(t),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),
t.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var n=e.ViewPort.width(),i=e.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){n=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");var o=0,r=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(o=-this.attribute("refX").toPixels("x"),r=-this.attribute("refY").toPixels("y")),t.beginPath(),t.moveTo(o,r),t.lineTo(n,r),t.lineTo(n,i),t.lineTo(o,i),t.closePath(),t.clip()}if(e.ViewPort.SetCurrent(n,i),this.attribute("viewBox").hasValue()){var s=e.ToNumberArray(this.attribute("viewBox").value),a=s[0],l=s[1];n=s[2],i=s[3],e.AspectRatio(t,this.attribute("preserveAspectRatio").value,e.ViewPort.width(),n,e.ViewPort.height(),i,a,l,this.attribute("refX").value,this.attribute("refY").value),e.ViewPort.RemoveCurrent(),e.ViewPort.SetCurrent(s[2],s[3])}}},e.Element.svg.prototype=new e.Element.RenderedElementBase,e.Element.rect=function(t){this.base=e.Element.PathElementBase,this.base(t),this.path=function(t){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y"),s=this.attribute("rx").toPixels("x"),a=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(a=s),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(s=a),s=Math.min(s,o/2),a=Math.min(a,r/2),null!=t&&(t.beginPath(),t.moveTo(n+s,i),t.lineTo(n+o-s,i),t.quadraticCurveTo(n+o,i,n+o,i+a),t.lineTo(n+o,i+r-a),t.quadraticCurveTo(n+o,i+r,n+o-s,i+r),t.lineTo(n+s,i+r),t.quadraticCurveTo(n,i+r,n,i+r-a),t.lineTo(n,i+a),t.quadraticCurveTo(n,i,n+s,i),t.closePath()),new e.BoundingBox(n,i,n+o,i+r)}},e.Element.rect.prototype=new e.Element.PathElementBase,e.Element.circle=function(t){this.base=e.Element.PathElementBase,this.base(t),this.path=function(t){var n=this.attribute("cx").toPixels("x"),i=this.attribute("cy").toPixels("y"),o=this.attribute("r").toPixels();return null!=t&&(t.beginPath(),t.arc(n,i,o,0,2*Math.PI,!0),t.closePath()),new e.BoundingBox(n-o,i-o,n+o,i+o)}},e.Element.circle.prototype=new e.Element.PathElementBase,e.Element.ellipse=function(t){this.base=e.Element.PathElementBase,this.base(t),this.path=function(t){var n=4*((Math.sqrt(2)-1)/3),i=this.attribute("rx").toPixels("x"),o=this.attribute("ry").toPixels("y"),r=this.attribute("cx").toPixels("x"),s=this.attribute("cy").toPixels("y");return null!=t&&(t.beginPath(),t.moveTo(r,s-o),t.bezierCurveTo(r+n*i,s-o,r+i,s-n*o,r+i,s),t.bezierCurveTo(r+i,s+n*o,r+n*i,s+o,r,s+o),t.bezierCurveTo(r-n*i,s+o,r-i,s+n*o,r-i,s),t.bezierCurveTo(r-i,s-n*o,r-n*i,s-o,r,s-o),t.closePath()),new e.BoundingBox(r-i,s-o,r+i,s+o)}},e.Element.ellipse.prototype=new e.Element.PathElementBase,e.Element.line=function(t){this.base=e.Element.PathElementBase,this.base(t),this.getPoints=function(){return[new e.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new e.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(t){var n=this.getPoints();return null!=t&&(t.beginPath(),t.moveTo(n[0].x,n[0].y),t.lineTo(n[1].x,n[1].y)),new e.BoundingBox(n[0].x,n[0].y,n[1].x,n[1].y)},this.getMarkers=function(){var e=this.getPoints(),t=e[0].angleTo(e[1]);return[[e[0],t],[e[1],t]]}},e.Element.line.prototype=new e.Element.PathElementBase,e.Element.polyline=function(t){this.base=e.Element.PathElementBase,this.base(t),this.points=e.CreatePath(this.attribute("points").value),this.path=function(t){var n=new e.BoundingBox(this.points[0].x,this.points[0].y);null!=t&&(t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y));for(var i=1;i<this.points.length;i++)n.addPoint(this.points[i].x,this.points[i].y),null!=t&&t.lineTo(this.points[i].x,this.points[i].y);return n},this.getMarkers=function(){for(var e=[],t=0;t<this.points.length-1;t++)e.push([this.points[t],this.points[t].angleTo(this.points[t+1])]);return e.push([this.points[this.points.length-1],e[e.length-1][1]]),e}},e.Element.polyline.prototype=new e.Element.PathElementBase,e.Element.polygon=function(t){this.base=e.Element.polyline,this.base(t),this.basePath=this.path,this.path=function(e){var t=this.basePath(e);return null!=e&&(e.lineTo(this.points[0].x,this.points[0].y),e.closePath()),t}},e.Element.polygon.prototype=new e.Element.polyline,e.Element.path=function(t){this.base=e.Element.PathElementBase,this.base(t);var n=this.attribute("d").value;n=n.replace(/,/gm," "),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),n=n.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([0-9])([+\-])/gm,"$1 $2"),n=n.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),n=n.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),n=e.compressSpaces(n),n=e.trim(n),this.PathParser=new function(t){this.tokens=t.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new e.Point(0,0),this.control=new e.Point(0,0),this.current=new e.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var t=new e.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(t)},this.getAsControlPoint=function(){var e=this.getPoint();return this.control=e,e},this.getAsCurrentPoint=function(){var e=this.getPoint();return this.current=e,e},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase())return this.current;var t=new e.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return t},this.makeAbsolute=function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e},this.addMarker=function(e,t,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(e,null==t?null:t.angleTo(e))},this.addMarkerAngle=function(e,t){this.points.push(e),this.angles.push(t)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var e=0;e<this.angles.length;e++)if(null==this.angles[e])for(var t=e+1;t<this.angles.length;t++)if(null!=this.angles[t]){this.angles[e]=this.angles[t];break}return this.angles}}(n),this.path=function(t){var n=this.PathParser;n.reset();var i=new e.BoundingBox;for(null!=t&&t.beginPath();!n.isEnd();)switch(n.nextCommand(),n.command){case"M":case"m":var o=n.getAsCurrentPoint();for(n.addMarker(o),i.addPoint(o.x,o.y),null!=t&&t.moveTo(o.x,o.y),n.start=n.current;!n.isCommandOrEnd();){var o=n.getAsCurrentPoint();n.addMarker(o,n.start),i.addPoint(o.x,o.y),null!=t&&t.lineTo(o.x,o.y)}break;case"L":case"l":for(;!n.isCommandOrEnd();){var r=n.current,o=n.getAsCurrentPoint();n.addMarker(o,r),i.addPoint(o.x,o.y),null!=t&&t.lineTo(o.x,o.y)}break;case"H":case"h":for(;!n.isCommandOrEnd();){var s=new e.Point((n.isRelativeCommand()?n.current.x:0)+n.getScalar(),n.current.y);n.addMarker(s,n.current),n.current=s,i.addPoint(n.current.x,n.current.y),null!=t&&t.lineTo(n.current.x,n.current.y)}break;case"V":case"v":for(;!n.isCommandOrEnd();){var s=new e.Point(n.current.x,(n.isRelativeCommand()?n.current.y:0)+n.getScalar());n.addMarker(s,n.current),n.current=s,i.addPoint(n.current.x,n.current.y),null!=t&&t.lineTo(n.current.x,n.current.y)}break;case"C":case"c":for(;!n.isCommandOrEnd();){var a=n.current,l=n.getPoint(),c=n.getAsControlPoint(),d=n.getAsCurrentPoint();n.addMarker(d,c,l),i.addBezierCurve(a.x,a.y,l.x,l.y,c.x,c.y,d.x,d.y),null!=t&&t.bezierCurveTo(l.x,l.y,c.x,c.y,d.x,d.y)}break;case"S":case"s":for(;!n.isCommandOrEnd();){var a=n.current,l=n.getReflectedControlPoint(),c=n.getAsControlPoint(),d=n.getAsCurrentPoint();n.addMarker(d,c,l),i.addBezierCurve(a.x,a.y,l.x,l.y,c.x,c.y,d.x,d.y),null!=t&&t.bezierCurveTo(l.x,l.y,c.x,c.y,d.x,d.y)}break;case"Q":case"q":for(;!n.isCommandOrEnd();){var a=n.current,c=n.getAsControlPoint(),d=n.getAsCurrentPoint();n.addMarker(d,c,c),i.addQuadraticCurve(a.x,a.y,c.x,c.y,d.x,d.y),null!=t&&t.quadraticCurveTo(c.x,c.y,d.x,d.y)}break;case"T":case"t":for(;!n.isCommandOrEnd();){var a=n.current,c=n.getReflectedControlPoint();n.control=c;var d=n.getAsCurrentPoint();n.addMarker(d,c,c),i.addQuadraticCurve(a.x,a.y,c.x,c.y,d.x,d.y),null!=t&&t.quadraticCurveTo(c.x,c.y,d.x,d.y)}break;case"A":case"a":for(;!n.isCommandOrEnd();){var a=n.current,u=n.getScalar(),h=n.getScalar(),p=n.getScalar()*(Math.PI/180),f=n.getScalar(),m=n.getScalar(),d=n.getAsCurrentPoint(),g=new e.Point(Math.cos(p)*(a.x-d.x)/2+Math.sin(p)*(a.y-d.y)/2,-Math.sin(p)*(a.x-d.x)/2+Math.cos(p)*(a.y-d.y)/2),v=Math.pow(g.x,2)/Math.pow(u,2)+Math.pow(g.y,2)/Math.pow(h,2);v>1&&(u*=Math.sqrt(v),h*=Math.sqrt(v));var b=(f==m?-1:1)*Math.sqrt((Math.pow(u,2)*Math.pow(h,2)-Math.pow(u,2)*Math.pow(g.y,2)-Math.pow(h,2)*Math.pow(g.x,2))/(Math.pow(u,2)*Math.pow(g.y,2)+Math.pow(h,2)*Math.pow(g.x,2)));isNaN(b)&&(b=0);var y=new e.Point(b*u*g.y/h,b*-h*g.x/u),w=new e.Point((a.x+d.x)/2+Math.cos(p)*y.x-Math.sin(p)*y.y,(a.y+d.y)/2+Math.sin(p)*y.x+Math.cos(p)*y.y),x=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},_=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(x(e)*x(t))},k=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(_(e,t))},S=k([1,0],[(g.x-y.x)/u,(g.y-y.y)/h]),C=[(g.x-y.x)/u,(g.y-y.y)/h],I=[(-g.x-y.x)/u,(-g.y-y.y)/h],E=k(C,I);_(C,I)<=-1&&(E=Math.PI),_(C,I)>=1&&(E=0);var P=1-m?1:-1,T=S+P*(E/2),B=new e.Point(w.x+u*Math.cos(T),w.y+h*Math.sin(T));if(n.addMarkerAngle(B,T-P*Math.PI/2),n.addMarkerAngle(d,T-P*Math.PI),i.addPoint(d.x,d.y),null!=t){var _=u>h?u:h,A=u>h?1:u/h,z=u>h?h/u:1;t.translate(w.x,w.y),t.rotate(p),t.scale(A,z),t.arc(0,0,_,S,S+E,1-m),t.scale(1/A,1/z),t.rotate(-p),t.translate(-w.x,-w.y)}}break;case"Z":case"z":null!=t&&t.closePath(),n.current=n.start}return i},this.getMarkers=function(){for(var e=this.PathParser.getMarkerPoints(),t=this.PathParser.getMarkerAngles(),n=[],i=0;i<e.length;i++)n.push([e[i],t[i]]);return n}},e.Element.path.prototype=new e.Element.PathElementBase,e.Element.pattern=function(t){this.base=e.Element.ElementBase,this.base(t),this.createPattern=function(t,n){var i=this.attribute("width").toPixels("x",!0),o=this.attribute("height").toPixels("y",!0),r=new e.Element.svg;r.attributes.viewBox=new e.Property("viewBox",this.attribute("viewBox").value),r.attributes.width=new e.Property("width",i+"px"),r.attributes.height=new e.Property("height",o+"px"),r.attributes.transform=new e.Property("transform",this.attribute("patternTransform").value),r.children=this.children;var s=document.createElement("canvas");s.width=i,s.height=o;var a=s.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&a.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var l=-1;1>=l;l++)for(var c=-1;1>=c;c++)a.save(),a.translate(l*s.width,c*s.height),r.render(a),a.restore();var d=t.createPattern(s,"repeat");return d}},e.Element.pattern.prototype=new e.Element.ElementBase,e.Element.marker=function(t){this.base=e.Element.ElementBase,this.base(t),this.baseRender=this.render,this.render=function(t,n,i){t.translate(n.x,n.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(i),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(t.lineWidth,t.lineWidth),t.save();var o=new e.Element.svg;o.attributes.viewBox=new e.Property("viewBox",this.attribute("viewBox").value),o.attributes.refX=new e.Property("refX",this.attribute("refX").value),o.attributes.refY=new e.Property("refY",this.attribute("refY").value),o.attributes.width=new e.Property("width",this.attribute("markerWidth").value),o.attributes.height=new e.Property("height",this.attribute("markerHeight").value),o.attributes.fill=new e.Property("fill",this.attribute("fill").valueOrDefault("black")),o.attributes.stroke=new e.Property("stroke",this.attribute("stroke").valueOrDefault("none")),o.children=this.children,o.render(t),t.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(-i),t.translate(-n.x,-n.y)}},e.Element.marker.prototype=new e.Element.ElementBase,e.Element.defs=function(t){this.base=e.Element.ElementBase,this.base(t),this.render=function(e){}},e.Element.defs.prototype=new e.Element.ElementBase,e.Element.GradientBase=function(t){this.base=e.Element.ElementBase,this.base(t),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var n=0;n<this.children.length;n++){var i=this.children[n];"stop"==i.type&&this.stops.push(i)}this.getGradient=function(){},this.createGradient=function(t,n,i){var o=this;this.getHrefAttribute().hasValue()&&(o=this.getHrefAttribute().getDefinition());var r=function(t){if(i.hasValue()){var n=new e.Property("color",t);return n.addOpacity(i.value).value}return t},s=this.getGradient(t,n);if(null==s)return r(o.stops[o.stops.length-1].color);for(var a=0;a<o.stops.length;a++)s.addColorStop(o.stops[a].offset,r(o.stops[a].color));if(this.attribute("gradientTransform").hasValue()){var l=e.ViewPort.viewPorts[0],c=new e.Element.rect;c.attributes.x=new e.Property("x",-e.MAX_VIRTUAL_PIXELS/3),c.attributes.y=new e.Property("y",-e.MAX_VIRTUAL_PIXELS/3),c.attributes.width=new e.Property("width",e.MAX_VIRTUAL_PIXELS),c.attributes.height=new e.Property("height",e.MAX_VIRTUAL_PIXELS);var d=new e.Element.g;d.attributes.transform=new e.Property("transform",this.attribute("gradientTransform").value),d.children=[c];var u=new e.Element.svg;u.attributes.x=new e.Property("x",0),u.attributes.y=new e.Property("y",0),u.attributes.width=new e.Property("width",l.width),u.attributes.height=new e.Property("height",l.height),u.children=[d];var h=document.createElement("canvas");h.width=l.width,h.height=l.height;var p=h.getContext("2d");return p.fillStyle=s,u.render(p),p.createPattern(h,"no-repeat")}return s}},e.Element.GradientBase.prototype=new e.Element.ElementBase,e.Element.linearGradient=function(t){this.base=e.Element.GradientBase,this.base(t),this.getGradient=function(e,t){var n=t.getBoundingBox();this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var i="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),o="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),r="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),s="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return i==r&&o==s?null:e.createLinearGradient(i,o,r,s)}},e.Element.linearGradient.prototype=new e.Element.GradientBase,e.Element.radialGradient=function(t){this.base=e.Element.GradientBase,this.base(t),this.getGradient=function(e,t){var n=t.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var i="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),o="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),r=i,s=o;this.attribute("fx").hasValue()&&(r="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(s="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var a="objectBoundingBox"==this.gradientUnits?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return e.createRadialGradient(r,s,0,i,o,a)}},e.Element.radialGradient.prototype=new e.Element.GradientBase,e.Element.stop=function(t){this.base=e.Element.ElementBase,this.base(t),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var n=this.style("stop-color");this.style("stop-opacity").hasValue()&&(n=n.addOpacity(this.style("stop-opacity").value)),this.color=n.value},e.Element.stop.prototype=new e.Element.ElementBase,e.Element.AnimateBase=function(t){this.base=e.Element.ElementBase,this.base(t),e.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var e=this.attribute("attributeType").value,t=this.attribute("attributeName").value;return"CSS"==e?this.parent.style(t,!0):this.parent.attribute(t,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(e){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value&&"indefinite"!=this.attribute("repeatDur").value)return"remove"!=this.attribute("fill").valueOrDefault("remove")||this.removed?!1:(this.removed=!0,this.getProperty().value=this.initialValue,!0);this.duration=0}this.duration=this.duration+e;var t=!1;if(this.begin<this.duration){var n=this.calcValue();if(this.attribute("type").hasValue()){var i=this.attribute("type").value;n=i+"("+n+")"}this.getProperty().value=n,t=!0}return t},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var t={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var n=t.progress*(this.values.value.length-1),i=Math.floor(n),o=Math.ceil(n);t.from=new e.Property("from",parseFloat(this.values.value[i])),t.to=new e.Property("to",parseFloat(this.values.value[o])),t.progress=(n-i)/(o-i)}else t.from=this.from,t.to=this.to;return t}},e.Element.AnimateBase.prototype=new e.Element.ElementBase,e.Element.animate=function(t){this.base=e.Element.AnimateBase,this.base(t),this.calcValue=function(){var e=this.progress(),t=e.from.numValue()+(e.to.numValue()-e.from.numValue())*e.progress;return t+this.initialUnits}},e.Element.animate.prototype=new e.Element.AnimateBase,e.Element.animateColor=function(t){this.base=e.Element.AnimateBase,this.base(t),this.calcValue=function(){var e=this.progress(),t=new RGBColor(e.from.value),n=new RGBColor(e.to.value);if(t.ok&&n.ok){var i=t.r+(n.r-t.r)*e.progress,o=t.g+(n.g-t.g)*e.progress,r=t.b+(n.b-t.b)*e.progress;return"rgb("+parseInt(i,10)+","+parseInt(o,10)+","+parseInt(r,10)+")"}return this.attribute("from").value}},e.Element.animateColor.prototype=new e.Element.AnimateBase,e.Element.animateTransform=function(t){this.base=e.Element.AnimateBase,this.base(t),this.calcValue=function(){for(var t=this.progress(),n=e.ToNumberArray(t.from.value),i=e.ToNumberArray(t.to.value),o="",r=0;r<n.length;r++)o+=n[r]+(i[r]-n[r])*t.progress+" ";return o}},e.Element.animateTransform.prototype=new e.Element.animate,e.Element.font=function(t){this.base=e.Element.ElementBase,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var n=0;n<this.children.length;n++){var i=this.children[n];"font-face"==i.type?(this.fontFace=i,i.style("font-family").hasValue()&&(e.Definitions[i.style("font-family").value]=this)):"missing-glyph"==i.type?this.missingGlyph=i:"glyph"==i.type&&(""!=i.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[i.unicode]&&(this.glyphs[i.unicode]=[]),this.glyphs[i.unicode][i.arabicForm]=i):this.glyphs[i.unicode]=i)}},e.Element.font.prototype=new e.Element.ElementBase,e.Element.fontface=function(t){this.base=e.Element.ElementBase,this.base(t),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},e.Element.fontface.prototype=new e.Element.ElementBase,e.Element.missingglyph=function(t){this.base=e.Element.path,this.base(t),this.horizAdvX=0},e.Element.missingglyph.prototype=new e.Element.path,e.Element.glyph=function(t){this.base=e.Element.path,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},e.Element.glyph.prototype=new e.Element.path,e.Element.text=function(t){this.captureTextNodes=!0,this.base=e.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.style("dominant-baseline").hasValue()&&(e.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(e.textBaseline=this.style("alignment-baseline").value)},this.getBoundingBox=function(){return new e.BoundingBox(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"),0,0)},this.renderChildren=function(e){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.x+=this.getAnchorDelta(e,this,0);for(var t=0;t<this.children.length;t++)this.renderChild(e,this,t)},this.getAnchorDelta=function(e,t,n){var i=this.style("text-anchor").valueOrDefault("start");if("start"!=i){for(var o=0,r=n;r<t.children.length;r++){var s=t.children[r];if(r>n&&s.attribute("x").hasValue())break;o+=s.measureTextRecursive(e)}return-1*("end"==i?o:o/2)}return 0},this.renderChild=function(e,t,n){var i=t.children[n];i.attribute("x").hasValue()?i.x=i.attribute("x").toPixels("x")+this.getAnchorDelta(e,t,n):(this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),i.attribute("dx").hasValue()&&(this.x+=i.attribute("dx").toPixels("x")),i.x=this.x),this.x=i.x+i.measureText(e),i.attribute("y").hasValue()?i.y=i.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),i.attribute("dy").hasValue()&&(this.y+=i.attribute("dy").toPixels("y")),i.y=this.y),this.y=i.y,i.render(e);for(var n=0;n<i.children.length;n++)this.renderChild(e,i,n)}},e.Element.text.prototype=new e.Element.RenderedElementBase,e.Element.TextElementBase=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.getGlyph=function(e,t,n){var i=t[n],o=null;if(e.isArabic){var r="isolated";(0==n||" "==t[n-1])&&n<t.length-2&&" "!=t[n+1]&&(r="terminal"),n>0&&" "!=t[n-1]&&n<t.length-2&&" "!=t[n+1]&&(r="medial"),n>0&&" "!=t[n-1]&&(n==t.length-1||" "==t[n+1])&&(r="initial"),"undefined"!=typeof e.glyphs[i]&&(o=e.glyphs[i][r],null==o&&"glyph"==e.glyphs[i].type&&(o=e.glyphs[i]))}else o=e.glyphs[i];return null==o&&(o=e.missingGlyph),o},this.renderChildren=function(t){var n=this.parent.style("font-family").getDefinition();if(null==n)""!=t.fillStyle&&t.fillText(e.compressSpaces(this.getText()),this.x,this.y),""!=t.strokeStyle&&t.strokeText(e.compressSpaces(this.getText()),this.x,this.y);else{var i=this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize),o=this.parent.style("font-style").valueOrDefault(e.Font.Parse(e.ctx.font).fontStyle),r=this.getText();n.isRTL&&(r=r.split("").reverse().join(""));for(var s=e.ToNumberArray(this.parent.attribute("dx").value),a=0;a<r.length;a++){var l=this.getGlyph(n,r,a),c=i/n.fontFace.unitsPerEm;t.translate(this.x,this.y),t.scale(c,-c);var d=t.lineWidth;t.lineWidth=t.lineWidth*n.fontFace.unitsPerEm/i,"italic"==o&&t.transform(1,0,.4,1,0,0),l.render(t),"italic"==o&&t.transform(1,0,-.4,1,0,0),t.lineWidth=d,t.scale(1/c,-1/c),t.translate(-this.x,-this.y),this.x+=i*(l.horizAdvX||n.horizAdvX)/n.fontFace.unitsPerEm,"undefined"==typeof s[a]||isNaN(s[a])||(this.x+=s[a])}}},this.getText=function(){},this.measureTextRecursive=function(e){for(var t=this.measureText(e),n=0;n<this.children.length;n++)t+=this.children[n].measureTextRecursive(e);return t},this.measureText=function(t){var n=this.parent.style("font-family").getDefinition();if(null!=n){var i=this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize),o=0,r=this.getText();n.isRTL&&(r=r.split("").reverse().join(""));for(var s=e.ToNumberArray(this.parent.attribute("dx").value),a=0;a<r.length;a++){var l=this.getGlyph(n,r,a);o+=(l.horizAdvX||n.horizAdvX)*i/n.fontFace.unitsPerEm,"undefined"==typeof s[a]||isNaN(s[a])||(o+=s[a])}return o}var c=e.compressSpaces(this.getText());if(!t.measureText)return 10*c.length;t.save(),this.setContext(t);var d=t.measureText(c).width;return t.restore(),d}},e.Element.TextElementBase.prototype=new e.Element.RenderedElementBase,e.Element.tspan=function(t){this.captureTextNodes=!0,this.base=e.Element.TextElementBase,this.base(t),this.text=t.nodeValue||t.text||"",this.getText=function(){return this.text}},e.Element.tspan.prototype=new e.Element.TextElementBase,e.Element.tref=function(t){this.base=e.Element.TextElementBase,this.base(t),this.getText=function(){var e=this.getHrefAttribute().getDefinition();return null!=e?e.children[0].getText():void 0}},e.Element.tref.prototype=new e.Element.TextElementBase,e.Element.a=function(t){this.base=e.Element.TextElementBase,this.base(t),this.hasText=!0;for(var n=0;n<t.childNodes.length;n++)3!=t.childNodes[n].nodeType&&(this.hasText=!1);this.text=this.hasText?t.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(t){if(this.hasText){this.baseRenderChildren(t);var n=new e.Property("fontSize",e.Font.Parse(e.ctx.font).fontSize);e.Mouse.checkBoundingBox(this,new e.BoundingBox(this.x,this.y-n.toPixels("y"),this.x+this.measureText(t),this.y))}else{var i=new e.Element.g;i.children=this.children,i.parent=this,i.render(t)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){e.ctx.canvas.style.cursor="pointer"}},e.Element.a.prototype=new e.Element.TextElementBase,e.Element.image=function(t){this.base=e.Element.RenderedElementBase,this.base(t);var n=this.getHrefAttribute().value,i=n.match(/\.svg$/);if(e.Images.push(this),this.loaded=!1,i)this.img=e.ajax(n),this.loaded=!0;else{this.img=document.createElement("img");var o=this;this.img.onload=function(){o.loaded=!0},this.img.onerror=function(){"undefined"!=typeof console&&(console.log('ERROR: image "'+n+'" not found'),o.loaded=!0)},this.img.src=n}this.renderChildren=function(t){var n=this.attribute("x").toPixels("x"),o=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");0!=r&&0!=s&&(t.save(),i?t.drawSvg(this.img,n,o,r,s):(t.translate(n,o),e.AspectRatio(t,this.attribute("preserveAspectRatio").value,r,this.img.width,s,this.img.height,0,0),t.drawImage(this.img,0,0)),t.restore())},this.getBoundingBox=function(){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y");return new e.BoundingBox(t,n,t+i,n+o)}},e.Element.image.prototype=new e.Element.RenderedElementBase,e.Element.g=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.getBoundingBox=function(){for(var t=new e.BoundingBox,n=0;n<this.children.length;n++)t.addBoundingBox(this.children[n].getBoundingBox());return t}},e.Element.g.prototype=new e.Element.RenderedElementBase,e.Element.symbol=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){if(this.baseSetContext(t),this.attribute("viewBox").hasValue()){var n=e.ToNumberArray(this.attribute("viewBox").value),i=n[0],o=n[1];width=n[2],height=n[3],e.AspectRatio(t,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,i,o),e.ViewPort.SetCurrent(n[2],n[3])}}},e.Element.symbol.prototype=new e.Element.RenderedElementBase,e.Element.style=function(t){this.base=e.Element.ElementBase,this.base(t);for(var n="",i=0;i<t.childNodes.length;i++)n+=t.childNodes[i].nodeValue;n=n.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),n=e.compressSpaces(n);for(var o=n.split("}"),i=0;i<o.length;i++)if(""!=e.trim(o[i]))for(var r=o[i].split("{"),s=r[0].split(","),a=r[1].split(";"),l=0;l<s.length;l++){var c=e.trim(s[l]);if(""!=c){for(var d={},u=0;u<a.length;u++){var h=a[u].indexOf(":"),p=a[u].substr(0,h),f=a[u].substr(h+1,a[u].length-h);null!=p&&null!=f&&(d[e.trim(p)]=new e.Property(e.trim(p),e.trim(f)))}if(e.Styles[c]=d,"@font-face"==c)for(var m=d["font-family"].value.replace(/"/g,""),g=d.src.value.split(","),v=0;v<g.length;v++)if(g[v].indexOf('format("svg")')>0)for(var b=g[v].indexOf("url"),y=g[v].indexOf(")",b),w=g[v].substr(b+5,y-b-6),x=e.parseXml(e.ajax(w)),_=x.getElementsByTagName("font"),k=0;k<_.length;k++){var S=e.CreateElement(_[k]);e.Definitions[m]=S}}}},e.Element.style.prototype=new e.Element.ElementBase,e.Element.use=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var e=this.getHrefAttribute().getDefinition();return this.attribute("width").hasValue()&&(e.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(e.attribute("height",!0).value=this.attribute("height").value),e},this.path=function(e){var t=this.getDefinition();null!=t&&t.path(e)},this.getBoundingBox=function(){var e=this.getDefinition();return null!=e?e.getBoundingBox():void 0},this.renderChildren=function(e){var t=this.getDefinition();if(null!=t){var n=t.parent;t.parent=null,t.render(e),t.parent=n}}},e.Element.use.prototype=new e.Element.RenderedElementBase,e.Element.mask=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(t,n){var i=this.attribute("x").toPixels("x"),o=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");if(0==r&&0==s){for(var a=new e.BoundingBox,l=0;l<this.children.length;l++)a.addBoundingBox(this.children[l].getBoundingBox());var i=Math.floor(a.x1),o=Math.floor(a.y1),r=Math.floor(a.width()),s=Math.floor(a.height())}var c=n.attribute("mask").value;n.attribute("mask").value="";var d=document.createElement("canvas");d.width=i+r,d.height=o+s;var u=d.getContext("2d");this.renderChildren(u);var h=document.createElement("canvas");h.width=i+r,h.height=o+s;var p=h.getContext("2d");n.render(p),p.globalCompositeOperation="destination-in",p.fillStyle=u.createPattern(d,"no-repeat"),p.fillRect(0,0,i+r,o+s),t.fillStyle=p.createPattern(h,"no-repeat"),t.fillRect(0,0,i+r,o+s),n.attribute("mask").value=c;
},this.render=function(e){}},e.Element.mask.prototype=new e.Element.ElementBase,e.Element.clipPath=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(t){for(var n=0;n<this.children.length;n++){var i=this.children[n];if("undefined"!=typeof i.path){var o=null;i.attribute("transform").hasValue()&&(o=new e.Transform(i.attribute("transform").value),o.apply(t)),i.path(t),t.clip(),o&&o.unapply(t)}}},this.render=function(e){}},e.Element.clipPath.prototype=new e.Element.ElementBase,e.Element.filter=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(e,t){var n=t.getBoundingBox(),i=Math.floor(n.x1),o=Math.floor(n.y1),r=Math.floor(n.width()),s=Math.floor(n.height()),a=t.style("filter").value;t.style("filter").value="";for(var l=0,c=0,d=0;d<this.children.length;d++){var u=this.children[d].extraFilterDistance||0;l=Math.max(l,u),c=Math.max(c,u)}var h=document.createElement("canvas");h.width=r+2*l,h.height=s+2*c;var p=h.getContext("2d");p.translate(-i+l,-o+c),t.render(p);for(var d=0;d<this.children.length;d++)this.children[d].apply(p,0,0,r+2*l,s+2*c);e.drawImage(h,0,0,r+2*l,s+2*c,i-l,o-c,r+2*l,s+2*c),t.style("filter",!0).value=a},this.render=function(e){}},e.Element.filter.prototype=new e.Element.ElementBase,e.Element.feMorphology=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(e,t,n,i,o){}},e.Element.feMorphology.prototype=new e.Element.ElementBase,e.Element.feColorMatrix=function(t){function n(e,t,n,i,o,r){return e[n*i*4+4*t+r]}function i(e,t,n,i,o,r,s){e[n*i*4+4*t+r]=s}this.base=e.Element.ElementBase,this.base(t),this.apply=function(e,t,o,r,s){for(var a=e.getImageData(0,0,r,s),o=0;s>o;o++)for(var t=0;r>t;t++){var l=n(a.data,t,o,r,s,0),c=n(a.data,t,o,r,s,1),d=n(a.data,t,o,r,s,2),u=(l+c+d)/3;i(a.data,t,o,r,s,0,u),i(a.data,t,o,r,s,1,u),i(a.data,t,o,r,s,2,u)}e.clearRect(0,0,r,s),e.putImageData(a,0,0)}},e.Element.feColorMatrix.prototype=new e.Element.ElementBase,e.Element.feGaussianBlur=function(t){this.base=e.Element.ElementBase,this.base(t),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(t,n,i,o,r){return"undefined"==typeof stackBlurCanvasRGBA?void("undefined"!=typeof console&&console.log("ERROR: StackBlur.js must be included for blur to work")):(t.canvas.id=e.UniqueId(),t.canvas.style.display="none",document.body.appendChild(t.canvas),stackBlurCanvasRGBA(t.canvas.id,n,i,o,r,this.blurRadius),void document.body.removeChild(t.canvas))}},e.Element.feGaussianBlur.prototype=new e.Element.ElementBase,e.Element.title=function(e){},e.Element.title.prototype=new e.Element.ElementBase,e.Element.desc=function(e){},e.Element.desc.prototype=new e.Element.ElementBase,e.Element.MISSING=function(e){"undefined"!=typeof console&&console.log("ERROR: Element '"+e.nodeName+"' not yet implemented.")},e.Element.MISSING.prototype=new e.Element.ElementBase,e.CreateElement=function(t){var n=t.nodeName.replace(/^[^:]+:/,"");n=n.replace(/\-/g,"");var i=null;return i="undefined"!=typeof e.Element[n]?new e.Element[n](t):new e.Element.MISSING(t),i.type=t.nodeName,i},e.load=function(t,n){e.loadXml(t,e.ajax(n))},e.loadXml=function(t,n){e.loadXmlDoc(t,e.parseXml(n))},e.loadXmlDoc=function(t,n){e.init(t);var i=function(e){for(var n=t.canvas;n;)e.x-=n.offsetLeft,e.y-=n.offsetTop,n=n.offsetParent;return window.scrollX&&(e.x+=window.scrollX),window.scrollY&&(e.y+=window.scrollY),e};1!=e.opts.ignoreMouse&&(t.canvas.onclick=function(t){var n=i(new e.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));e.Mouse.onclick(n.x,n.y)},t.canvas.onmousemove=function(t){var n=i(new e.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));e.Mouse.onmousemove(n.x,n.y)});var o=e.CreateElement(n.documentElement);o.root=!0;var r=!0,s=function(){e.ViewPort.Clear(),t.canvas.parentNode&&e.ViewPort.SetCurrent(t.canvas.parentNode.clientWidth,t.canvas.parentNode.clientHeight),1!=e.opts.ignoreDimensions&&(o.style("width").hasValue()&&(t.canvas.width=o.style("width").toPixels("x"),t.canvas.style.width=t.canvas.width+"px"),o.style("height").hasValue()&&(t.canvas.height=o.style("height").toPixels("y"),t.canvas.style.height=t.canvas.height+"px"));var i=t.canvas.clientWidth||t.canvas.width,s=t.canvas.clientHeight||t.canvas.height;if(1==e.opts.ignoreDimensions&&o.style("width").hasValue()&&o.style("height").hasValue()&&(i=o.style("width").toPixels("x"),s=o.style("height").toPixels("y")),e.ViewPort.SetCurrent(i,s),null!=e.opts.offsetX&&(o.attribute("x",!0).value=e.opts.offsetX),null!=e.opts.offsetY&&(o.attribute("y",!0).value=e.opts.offsetY),null!=e.opts.scaleWidth&&null!=e.opts.scaleHeight){var a=1,l=1,c=e.ToNumberArray(o.attribute("viewBox").value);o.attribute("width").hasValue()?a=o.attribute("width").toPixels("x")/e.opts.scaleWidth:isNaN(c[2])||(a=c[2]/e.opts.scaleWidth),o.attribute("height").hasValue()?l=o.attribute("height").toPixels("y")/e.opts.scaleHeight:isNaN(c[3])||(l=c[3]/e.opts.scaleHeight),o.attribute("width",!0).value=e.opts.scaleWidth,o.attribute("height",!0).value=e.opts.scaleHeight,o.attribute("viewBox",!0).value="0 0 "+i*a+" "+s*l,o.attribute("preserveAspectRatio",!0).value="none"}1!=e.opts.ignoreClear&&t.clearRect(0,0,i,s),o.render(t),r&&(r=!1,"function"==typeof e.opts.renderCallback&&e.opts.renderCallback(n))},a=!0;e.ImagesLoaded()&&(a=!1,s()),e.intervalID=setInterval(function(){var t=!1;if(a&&e.ImagesLoaded()&&(a=!1,t=!0),1!=e.opts.ignoreMouse&&(t|=e.Mouse.hasEvents()),1!=e.opts.ignoreAnimation)for(var n=0;n<e.Animations.length;n++)t|=e.Animations[n].update(1e3/e.FRAMERATE);"function"==typeof e.opts.forceRedraw&&1==e.opts.forceRedraw()&&(t=!0),t&&(s(),e.Mouse.runEvents())},1e3/e.FRAMERATE)},e.stop=function(){e.intervalID&&clearInterval(e.intervalID)},e.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(e,t){this.events.push({type:"onclick",x:e,y:t,run:function(e){e.onclick&&e.onclick()}})},this.onmousemove=function(e,t){this.events.push({type:"onmousemove",x:e,y:t,run:function(e){e.onmousemove&&e.onmousemove()}})},this.eventElements=[],this.checkPath=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInPath&&t.isPointInPath(i.x,i.y)&&(this.eventElements[n]=e)}},this.checkBoundingBox=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInBox(i.x,i.y)&&(this.eventElements[n]=e)}},this.runEvents=function(){e.ctx.canvas.style.cursor="";for(var t=0;t<this.events.length;t++)for(var n=this.events[t],i=this.eventElements[t];i;)n.run(i),i=i.parent;this.events=[],this.eventElements=[]}},e}this.canvg=function(t,n,i){if(null!=t||null!=n||null!=i){i=i||{},"string"==typeof t&&(t=document.getElementById(t)),null!=t.svg&&t.svg.stop();var o=e();(1!=t.childNodes.length||"OBJECT"!=t.childNodes[0].nodeName)&&(t.svg=o),o.opts=i;var r=t.getContext("2d");"undefined"!=typeof n.documentElement?o.loadXmlDoc(r,n):"<"==n.substr(0,1)?o.loadXml(r,n):o.load(r,n)}else for(var s=document.getElementsByTagName("svg"),a=0;a<s.length;a++){var l=s[a],c=document.createElement("canvas");c.width=l.clientWidth,c.height=l.clientHeight,l.parentNode.insertBefore(c,l),l.parentNode.removeChild(l);var d=document.createElement("div");d.appendChild(l),canvg(c,d.innerHTML)}}}(),"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(e,t,n,i,o){canvg(this.canvas,e,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:t,offsetY:n,scaleWidth:i,scaleHeight:o})}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.JSZip=e()}}(function(){return function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e,t){for(var n,o,r,s,a,l,c,d="",u=0;u<e.length;)n=e.charCodeAt(u++),o=e.charCodeAt(u++),r=e.charCodeAt(u++),s=n>>2,a=(3&n)<<4|o>>4,l=(15&o)<<2|r>>6,c=63&r,isNaN(o)?l=c=64:isNaN(r)&&(c=64),d=d+i.charAt(s)+i.charAt(a)+i.charAt(l)+i.charAt(c);return d},n.decode=function(e,t){var n,o,r,s,a,l,c,d="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)s=i.indexOf(e.charAt(u++)),a=i.indexOf(e.charAt(u++)),l=i.indexOf(e.charAt(u++)),c=i.indexOf(e.charAt(u++)),n=s<<2|a>>4,o=(15&a)<<4|l>>2,r=(3&l)<<6|c,d+=String.fromCharCode(n),64!=l&&(d+=String.fromCharCode(o)),64!=c&&(d+=String.fromCharCode(r));return d}},{}],2:[function(e,t,n){"use strict";function i(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}i.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},t.exports=i},{}],3:[function(e,t,n){"use strict";n.STORE={magic:"\x00\x00",compress:function(e,t){return e},uncompress:function(e){return e},compressInputType:null,uncompressInputType:null},n.DEFLATE=e("./flate")},{"./flate":8}],4:[function(e,t,n){"use strict";var i=e("./utils"),o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];t.exports=function(e,t){if("undefined"==typeof e||!e.length)return 0;var n="string"!==i.getTypeOf(e);"undefined"==typeof t&&(t=0);var r=0,s=0,a=0;t=-1^t;for(var l=0,c=e.length;c>l;l++)a=n?e[l]:e.charCodeAt(l),s=255&(t^a),r=o[s],t=t>>>8^r;return-1^t}},{"./utils":21}],5:[function(e,t,n){"use strict";function i(e){this.data=null,this.length=0,this.index=0}var o=e("./utils");i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<e||0>e)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return o.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1)}},t.exports=i},{"./utils":21}],6:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!1,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],7:[function(e,t,n){"use strict";var i=e("./utils");n.string2binary=function(e){return i.string2binary(e)},n.string2Uint8Array=function(e){return i.transformTo("uint8array",e)},n.uint8Array2String=function(e){return i.transformTo("string",e)},n.string2Blob=function(e){var t=i.transformTo("arraybuffer",e);return i.arrayBuffer2Blob(t)},n.arrayBuffer2Blob=function(e){return i.arrayBuffer2Blob(e)},n.transformTo=function(e,t){return i.transformTo(e,t)},n.getTypeOf=function(e){return i.getTypeOf(e)},n.checkSupport=function(e){return i.checkSupport(e)},n.MAX_VALUE_16BITS=i.MAX_VALUE_16BITS,n.MAX_VALUE_32BITS=i.MAX_VALUE_32BITS,n.pretty=function(e){return i.pretty(e)},n.findCompression=function(e){return i.findCompression(e)},n.isRegExp=function(e){return i.isRegExp(e)}},{"./utils":21}],8:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=e("pako");n.uncompressInputType=i?"uint8array":"array",n.compressInputType=i?"uint8array":"array",n.magic="\b\x00",n.compress=function(e,t){return o.deflateRaw(e,{level:t.level||-1})},n.uncompress=function(e){return o.inflateRaw(e)}},{pako:24}],9:[function(e,t,n){"use strict";function i(e,t){return this instanceof i?(this.files={},this.comment=null,this.root="",e&&this.load(e,t),void(this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e})):new i(e,t)}var o=e("./base64");i.prototype=e("./object"),i.prototype.load=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.utils=e("./deprecatedPublicUtils"),i.base64={encode:function(e){return o.encode(e)},decode:function(e){return o.decode(e)}},i.compressions=e("./compressions"),t.exports=i},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(e,t,n){"use strict";var i=e("./base64"),o=e("./zipEntries");t.exports=function(e,t){var n,r,s,a;for(t=t||{},t.base64&&(e=i.decode(e)),r=new o(e,t),n=r.files,s=0;s<n.length;s++)a=n[s],this.file(a.fileName,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileComment.length?a.fileComment:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders});return r.zipComment.length&&(this.comment=r.zipComment),this}},{"./base64":1,"./zipEntries":22}],11:[function(e,t,n){(function(e){"use strict";t.exports=function(t,n){return new e(t,n)},t.exports.test=function(t){return e.isBuffer(t)}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],12:[function(e,t,n){"use strict";function i(e){this.data=e,this.length=this.data.length,this.index=0}var o=e("./uint8ArrayReader");i.prototype=new o,i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.index,this.index+e);return this.index+=e,t},t.exports=i},{"./uint8ArrayReader":18}],13:[function(e,t,n){"use strict";var i=e("./support"),o=e("./utils"),r=e("./crc32"),s=e("./signature"),a=e("./defaults"),l=e("./base64"),c=e("./compressions"),d=e("./compressedObject"),u=e("./nodeBuffer"),h=e("./utf8"),p=e("./stringWriter"),f=e("./uint8ArrayWriter"),m=function(e){if(e._data instanceof d&&(e._data=e._data.getContent(),e.options.binary=!0,e.options.base64=!1,"uint8array"===o.getTypeOf(e._data))){var t=e._data;e._data=new Uint8Array(t.length),0!==t.length&&e._data.set(t,0)}return e._data},g=function(e){var t=m(e),n=o.getTypeOf(t);return"string"===n?!e.options.binary&&i.nodebuffer?u(t,"utf-8"):e.asBinary():t},v=function(e){var t=m(this);return null===t||"undefined"==typeof t?"":(this.options.base64&&(t=l.decode(t)),t=e&&this.options.binary?B.utf8decode(t):o.transformTo("string",t),e||this.options.binary||(t=o.transformTo("string",B.utf8encode(t))),t)},b=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};b.prototype={asText:function(){return v.call(this,!0)},asBinary:function(){return v.call(this,!1)},asNodeBuffer:function(){var e=g(this);return o.transformTo("nodebuffer",e)},asUint8Array:function(){var e=g(this);return o.transformTo("uint8array",e)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var y=function(e,t){var n,i="";for(n=0;t>n;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},w=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"==typeof n[t]&&(n[t]=arguments[e][t]);return n},x=function(e){return e=e||{},e.base64!==!0||null!==e.binary&&void 0!==e.binary||(e.binary=!0),e=w(e,a),e.date=e.date||new Date,null!==e.compression&&(e.compression=e.compression.toUpperCase()),e},_=function(e,t,n){var i,r=o.getTypeOf(t);if(n=x(n),"string"==typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(e=S(e)),n.createFolders&&(i=k(e))&&C.call(this,i,!0),n.dir||null===t||"undefined"==typeof t)n.base64=!1,n.binary=!1,t=null,r=null;else if("string"===r)n.binary&&!n.base64&&n.optimizedBinaryString!==!0&&(t=o.string2binary(t));else{if(n.base64=!1,n.binary=!0,!(r||t instanceof d))throw new Error("The data of '"+e+"' is in an unsupported format !");"arraybuffer"===r&&(t=o.transformTo("uint8array",t))}var s=new b(e,t,n);return this.files[e]=s,s},k=function(e){"/"==e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},S=function(e){return"/"!=e.slice(-1)&&(e+="/"),e},C=function(e,t){return t="undefined"!=typeof t?t:!1,e=S(e),this.files[e]||_.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},I=function(e,t,n){var i,s=new d;return e._data instanceof d?(s.uncompressedSize=e._data.uncompressedSize,s.crc32=e._data.crc32,0===s.uncompressedSize||e.dir?(t=c.STORE,s.compressedContent="",s.crc32=0):e._data.compressionMethod===t.magic?s.compressedContent=e._data.getCompressedContent():(i=e._data.getContent(),s.compressedContent=t.compress(o.transformTo(t.compressInputType,i),n))):(i=g(e),(!i||0===i.length||e.dir)&&(t=c.STORE,i=""),s.uncompressedSize=i.length,s.crc32=r(i),s.compressedContent=t.compress(o.transformTo(t.compressInputType,i),n)),s.compressedSize=s.compressedContent.length,s.compressionMethod=t.magic,s},E=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16},P=function(e,t){return 63&(e||0)},T=function(e,t,n,i,a){var l,c,d,u,p=(n.compressedContent,o.transformTo("string",h.utf8encode(t.name))),f=t.comment||"",m=o.transformTo("string",h.utf8encode(f)),g=p.length!==t.name.length,v=m.length!==f.length,b=t.options,w="",x="",_="";d=t._initialMetadata.dir!==t.dir?t.dir:b.dir,u=t._initialMetadata.date!==t.date?t.date:b.date;var k=0,S=0;d&&(k|=16),"UNIX"===a?(S=798,k|=E(t.unixPermissions,d)):(S=20,k|=P(t.dosPermissions,d)),l=u.getHours(),l<<=6,l|=u.getMinutes(),l<<=5,l|=u.getSeconds()/2,c=u.getFullYear()-1980,c<<=4,c|=u.getMonth()+1,c<<=5,c|=u.getDate(),g&&(x=y(1,1)+y(r(p),4)+p,w+="up"+y(x.length,2)+x),v&&(_=y(1,1)+y(this.crc32(m),4)+m,w+="uc"+y(_.length,2)+_);var C="";C+="\n\x00",C+=g||v?"\x00\b":"\x00\x00",C+=n.compressionMethod,C+=y(l,2),C+=y(c,2),C+=y(n.crc32,4),C+=y(n.compressedSize,4),C+=y(n.uncompressedSize,4),C+=y(p.length,2),C+=y(w.length,2);var I=s.LOCAL_FILE_HEADER+C+p+w,T=s.CENTRAL_FILE_HEADER+y(S,2)+C+y(m.length,2)+"\x00\x00\x00\x00"+y(k,4)+y(i,4)+p+w+m;return{fileRecord:I,dirRecord:T,compressedObject:n}},B={load:function(e,t){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(e){var t,n,i,o,r=[];for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],o=new b(i.name,i._data,w(i.options)),n=t.slice(this.root.length,t.length),t.slice(0,this.root.length)===this.root&&e(n,o)&&r.push(o));return r},file:function(e,t,n){if(1===arguments.length){if(o.isRegExp(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}return this.filter(function(t,n){return!n.dir&&t===e})[0]||null}return e=this.root+e,_.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(o.isRegExp(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=C.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!=e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){e=w(e||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip"}),o.checkSupport(e.type),("darwin"===e.platform||"freebsd"===e.platform||"linux"===e.platform||"sunos"===e.platform)&&(e.platform="UNIX"),"win32"===e.platform&&(e.platform="DOS");var t,n,i=[],r=0,a=0,d=o.transformTo("string",this.utf8encode(e.comment||this.comment||""));for(var u in this.files)if(this.files.hasOwnProperty(u)){var h=this.files[u],m=h.options.compression||e.compression.toUpperCase(),g=c[m];if(!g)throw new Error(m+" is not a valid compression method !");var v=h.options.compressionOptions||e.compressionOptions||{},b=I.call(this,h,g,v),x=T.call(this,u,h,b,r,e.platform);r+=x.fileRecord.length+b.compressedSize,a+=x.dirRecord.length,i.push(x)}var _="";_=s.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+y(i.length,2)+y(i.length,2)+y(a,4)+y(r,4)+y(d.length,2)+d;var k=e.type.toLowerCase();for(t="uint8array"===k||"arraybuffer"===k||"blob"===k||"nodebuffer"===k?new f(r+a+_.length):new p(r+a+_.length),n=0;n<i.length;n++)t.append(i[n].fileRecord),t.append(i[n].compressedObject.compressedContent);for(n=0;n<i.length;n++)t.append(i[n].dirRecord);t.append(_);var S=t.finalize();switch(e.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return o.transformTo(e.type.toLowerCase(),S);case"blob":return o.arrayBuffer2Blob(o.transformTo("arraybuffer",S),e.mimeType);case"base64":return e.base64?l.encode(S):S;default:return S}},crc32:function(e,t){return r(e,t)},utf8encode:function(e){return o.transformTo("string",h.utf8encode(e))},utf8decode:function(e){return h.utf8decode(e)}};t.exports=B},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],15:[function(e,t,n){"use strict";function i(e,t){this.data=e,t||(this.data=r.string2binary(this.data)),this.length=this.data.length,this.index=0}var o=e("./dataReader"),r=e("./utils");i.prototype=new o,i.prototype.byteAt=function(e){return this.data.charCodeAt(e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.index,this.index+e);return this.index+=e,t},t.exports=i},{"./dataReader":5,"./utils":21}],16:[function(e,t,n){"use strict";var i=e("./utils"),o=function(){this.data=[]};o.prototype={append:function(e){e=i.transformTo("string",e),this.data.push(e)},finalize:function(){return this.data.join("")}},t.exports=o},{"./utils":21}],17:[function(e,t,n){(function(e){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof e,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var t=new ArrayBuffer(0);try{n.blob=0===new Blob([t],{type:"application/zip"}).size}catch(i){try{var o=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=new o;r.append(t),n.blob=0===r.getBlob("application/zip").size}catch(i){n.blob=!1}}}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],18:[function(e,t,n){"use strict";function i(e){e&&(this.data=e,this.length=this.data.length,this.index=0)}var o=e("./dataReader");i.prototype=new o,i.prototype.byteAt=function(e){return this.data[e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),o=e.charCodeAt(3),r=this.length-4;r>=0;--r)if(this.data[r]===t&&this.data[r+1]===n&&this.data[r+2]===i&&this.data[r+3]===o)return r;return-1},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.index,this.index+e);return this.index+=e,t},t.exports=i},{"./dataReader":5}],19:[function(e,t,n){"use strict";var i=e("./utils"),o=function(e){this.data=new Uint8Array(e),this.index=0};o.prototype={append:function(e){0!==e.length&&(e=i.transformTo("uint8array",e),this.data.set(e,this.index),this.index+=e.length)},finalize:function(){return this.data}},t.exports=o},{"./utils":21}],20:[function(e,t,n){"use strict";for(var i=e("./utils"),o=e("./support"),r=e("./nodeBuffer"),s=new Array(256),a=0;256>a;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;s[254]=s[254]=1;var l=function(e){var t,n,i,r,s,a=e.length,l=0;for(r=0;a>r;r++)n=e.charCodeAt(r),55296===(64512&n)&&a>r+1&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),l+=128>n?1:2048>n?2:65536>n?3:4;for(t=o.uint8array?new Uint8Array(l):new Array(l),s=0,r=0;l>s;r++)n=e.charCodeAt(r),55296===(64512&n)&&a>r+1&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),128>n?t[s++]=n:2048>n?(t[s++]=192|n>>>6,t[s++]=128|63&n):65536>n?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},c=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return 0>n?t:0===n?t:n+s[e[n]]>t?n:t},d=function(e){var t,n,o,r,a=e.length,l=new Array(2*a);for(n=0,t=0;a>t;)if(o=e[t++],128>o)l[n++]=o;else if(r=s[o],r>4)l[n++]=65533,t+=r-1;else{for(o&=2===r?31:3===r?15:7;r>1&&a>t;)o=o<<6|63&e[t++],r--;r>1?l[n++]=65533:65536>o?l[n++]=o:(o-=65536,l[n++]=55296|o>>10&1023,l[n++]=56320|1023&o)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)};n.utf8encode=function(e){return o.nodebuffer?r(e,"utf-8"):l(e)},n.utf8decode=function(e){if(o.nodebuffer)return i.transformTo("nodebuffer",e).toString("utf-8");e=i.transformTo(o.uint8array?"uint8array":"array",e);for(var t=[],n=0,r=e.length,s=65536;r>n;){var a=c(e,Math.min(n+s,r));o.uint8array?t.push(d(e.subarray(n,a))):t.push(d(e.slice(n,a))),n=a}return t.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(e,t,n){"use strict";function i(e){return e}function o(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function r(e){var t=65536,i=[],o=e.length,r=n.getTypeOf(e),s=0,a=!0;try{switch(r){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,c(0))}}catch(l){a=!1}if(!a){for(var d="",u=0;u<e.length;u++)d+=String.fromCharCode(e[u]);return d}for(;o>s&&t>1;)try{"array"===r||"nodebuffer"===r?i.push(String.fromCharCode.apply(null,e.slice(s,Math.min(s+t,o)))):i.push(String.fromCharCode.apply(null,e.subarray(s,Math.min(s+t,o)))),s+=t}catch(l){t=Math.floor(t/2)}return i.join("")}function s(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}var a=e("./support"),l=e("./compressions"),c=e("./nodeBuffer");n.string2binary=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n));return t},n.arrayBuffer2Blob=function(e,t){n.checkSupport("blob"),t=t||"application/zip";try{return new Blob([e],{type:t})}catch(i){try{var o=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=new o;return r.append(e),r.getBlob(t)}catch(i){throw new Error("Bug : can't construct the Blob.")}}},n.applyFromCharCode=r;var d={};d.string={string:i,array:function(e){return o(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return o(e,new Uint8Array(e.length))},nodebuffer:function(e){return o(e,c(e.length))}},d.array={string:r,array:i,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return c(e)}},d.arraybuffer={string:function(e){return r(new Uint8Array(e))},array:function(e){return s(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:i,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return c(new Uint8Array(e))}},d.uint8array={string:r,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:i,nodebuffer:function(e){return c(e)}},d.nodebuffer={string:r,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return s(e,new Uint8Array(e.length))},nodebuffer:i},n.transformTo=function(e,t){if(t||(t=""),!e)return t;n.checkSupport(e);var i=n.getTypeOf(t),o=d[i][e](t);return o},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":a.nodebuffer&&c.test(e)?"nodebuffer":a.uint8array&&e instanceof Uint8Array?"uint8array":a.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){var t=a[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this browser")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)t=e.charCodeAt(n),i+="\\x"+(16>t?"0":"")+t.toString(16).toUpperCase();return i},n.findCompression=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null},n.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(e,t,n){"use strict";function i(e,t){this.files=[],this.loadOptions=t,e&&this.load(e)}var o=e("./stringReader"),r=e("./nodeBufferReader"),s=e("./uint8ArrayReader"),a=e("./utils"),l=e("./signature"),c=e("./zipEntry"),d=e("./support"),u=e("./object");i.prototype={checkSignature:function(e){var t=this.reader.readString(4);if(t!==e)throw new Error("Corrupted zip or bug : unexpected signature ("+a.pretty(t)+", expected "+a.pretty(e)+")");
},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=u.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44,o=0;i>o;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readString(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===l.CENTRAL_FILE_HEADER;)e=new c({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(-1===e){var t=!0;try{this.reader.setIndex(0),this.checkSignature(l.LOCAL_FILE_HEADER),t=!1}catch(n){}throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}if(this.reader.setIndex(e),this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),-1===e)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(e),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(e){var t=a.getTypeOf(e);"string"!==t||d.uint8array?"nodebuffer"===t?this.reader=new r(e):this.reader=new s(a.transformTo("uint8array",e)):this.reader=new o(e,this.loadOptions.optimizedBinaryString)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=i},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(e,t,n){"use strict";function i(e,t){this.options=e,this.loadOptions=t}var o=e("./stringReader"),r=e("./utils"),s=e("./compressedObject"),a=e("./object"),l=0,c=3;i.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(e,t,n){return function(){var i=e.index;e.setIndex(t);var o=e.readData(n);return e.setIndex(i),o}},prepareContent:function(e,t,n,i,o){return function(){var e=r.transformTo(i.uncompressInputType,this.getCompressedContent()),t=i.uncompress(e);if(t.length!==o)throw new Error("Bug : uncompressed data size mismatch");return t}},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readString(this.fileNameLength),e.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(t=r.findCompression(this.compressionMethod),null===t)throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new s,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(e,e.index,this.compressedSize,t),this.decompressed.getContent=this.prepareContent(e,e.index,this.compressedSize,t,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=r.transformTo("string",this.decompressed.getContent()),a.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(e){if(this.versionMadeBy=e.readInt(2),this.versionNeeded=e.readInt(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4),this.fileNameLength=e.readInt(2),this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=e.readString(this.fileNameLength),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readString(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=16&this.externalFileAttributes?!0:!1,e===l&&(this.dosPermissions=63&this.externalFileAttributes),e===c&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileName.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=new o(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,o=e.index;for(this.extraFields=this.extraFields||{};e.index<o+this.extraFieldsLength;)t=e.readInt(2),n=e.readInt(2),i=e.readString(n),this.extraFields[t]={id:t,length:n,value:i}},handleUTF8:function(){if(this.useUTF8())this.fileName=a.utf8decode(this.fileName),this.fileComment=a.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();null!==e&&(this.fileName=e);var t=this.findExtraFieldUnicodeComment();null!==t&&(this.fileComment=t)}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=new o(e.value);return 1!==t.readInt(1)?null:a.crc32(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readString(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=new o(e.value);return 1!==t.readInt(1)?null:a.crc32(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readString(e.length-5))}return null}},t.exports=i},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(e,t,n){"use strict";var i=e("./lib/utils/common").assign,o=e("./lib/deflate"),r=e("./lib/inflate"),s=e("./lib/zlib/constants"),a={};i(a,o,r,s),t.exports=a},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(e,t,n){"use strict";function i(e,t){var n=new b(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function o(e,t){return t=t||{},t.raw=!0,i(e,t)}function r(e,t){return t=t||{},t.gzip=!0,i(e,t)}var s=e("./zlib/deflate.js"),a=e("./utils/common"),l=e("./utils/strings"),c=e("./zlib/messages"),d=e("./zlib/zstream"),u=0,h=4,p=0,f=1,m=-1,g=0,v=8,b=function(e){this.options=a.assign({level:m,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==p)throw new Error(c[n]);t.header&&s.deflateSetHeader(this.strm,t.header)};b.prototype.push=function(e,t){var n,i,o=this.strm,r=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:t===!0?h:u,"string"==typeof e?o.input=l.string2buf(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new a.Buf8(r),o.next_out=0,o.avail_out=r),n=s.deflate(o,i),n!==f&&n!==p)return this.onEnd(n),this.ended=!0,!1;(0===o.avail_out||0===o.avail_in&&i===h)&&("string"===this.options.to?this.onData(l.buf2binstring(a.shrinkBuf(o.output,o.next_out))):this.onData(a.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&n!==f);return i===h?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===p):!0},b.prototype.onData=function(e){this.chunks.push(e)},b.prototype.onEnd=function(e){e===p&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=b,n.deflate=i,n.deflateRaw=o,n.gzip=r},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(e,t,n){"use strict";function i(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function o(e,t){return t=t||{},t.raw=!0,i(e,t)}var r=e("./zlib/inflate.js"),s=e("./utils/common"),a=e("./utils/strings"),l=e("./zlib/constants"),c=e("./zlib/messages"),d=e("./zlib/zstream"),u=e("./zlib/gzheader"),h=function(e){this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==l.Z_OK)throw new Error(c[n]);this.header=new u,r.inflateGetHeader(this.strm,this.header)};h.prototype.push=function(e,t){var n,i,o,c,d,u=this.strm,h=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:t===!0?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof e?u.input=a.binstring2buf(e):u.input=e,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new s.Buf8(h),u.next_out=0,u.avail_out=h),n=r.inflate(u,l.Z_NO_FLUSH),n!==l.Z_STREAM_END&&n!==l.Z_OK)return this.onEnd(n),this.ended=!0,!1;u.next_out&&(0===u.avail_out||n===l.Z_STREAM_END||0===u.avail_in&&i===l.Z_FINISH)&&("string"===this.options.to?(o=a.utf8border(u.output,u.next_out),c=u.next_out-o,d=a.buf2string(u.output,o),u.next_out=c,u.avail_out=h-c,c&&s.arraySet(u.output,u.output,o,c,0),this.onData(d)):this.onData(s.shrinkBuf(u.output,u.next_out)))}while(u.avail_in>0&&n!==l.Z_STREAM_END);return n===l.Z_STREAM_END&&(i=l.Z_FINISH),i===l.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l.Z_OK):!0},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=i,n.inflateRaw=o,n.ungzip=i},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,i,o){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+i),o);for(var r=0;i>r;r++)e[o+r]=t[n+r]},flattenChunks:function(e){var t,n,i,o,r,s;for(i=0,t=0,n=e.length;n>t;t++)i+=e[t].length;for(s=new Uint8Array(i),o=0,t=0,n=e.length;n>t;t++)r=e[t],s.set(r,o),o+=r.length;return s}},r={arraySet:function(e,t,n,i,o){for(var r=0;i>r;r++)e[o+r]=t[n+r]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(i)},{}],28:[function(e,t,n){"use strict";function i(e,t){if(65537>t&&(e.subarray&&s||!e.subarray&&r))return String.fromCharCode.apply(null,o.shrinkBuf(e,t));for(var n="",i=0;t>i;i++)n+=String.fromCharCode(e[i]);return n}var o=e("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(a){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){s=!1}for(var l=new o.Buf8(256),c=0;256>c;c++)l[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;l[254]=l[254]=1,n.string2buf=function(e){var t,n,i,r,s,a=e.length,l=0;for(r=0;a>r;r++)n=e.charCodeAt(r),55296===(64512&n)&&a>r+1&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),l+=128>n?1:2048>n?2:65536>n?3:4;for(t=new o.Buf8(l),s=0,r=0;l>s;r++)n=e.charCodeAt(r),55296===(64512&n)&&a>r+1&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),128>n?t[s++]=n:2048>n?(t[s++]=192|n>>>6,t[s++]=128|63&n):65536>n?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},n.buf2binstring=function(e){return i(e,e.length)},n.binstring2buf=function(e){for(var t=new o.Buf8(e.length),n=0,i=t.length;i>n;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,o,r,s,a=t||e.length,c=new Array(2*a);for(o=0,n=0;a>n;)if(r=e[n++],128>r)c[o++]=r;else if(s=l[r],s>4)c[o++]=65533,n+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&a>n;)r=r<<6|63&e[n++],s--;s>1?c[o++]=65533:65536>r?c[o++]=r:(r-=65536,c[o++]=55296|r>>10&1023,c[o++]=56320|1023&r)}return i(c,o)},n.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return 0>n?t:0===n?t:n+l[e[n]]>t?n:t}},{"./common":27}],29:[function(e,t,n){"use strict";function i(e,t,n,i){for(var o=65535&e|0,r=e>>>16&65535|0,s=0;0!==n;){s=n>2e3?2e3:n,n-=s;do o=o+t[i++]|0,r=r+o|0;while(--s);o%=65521,r%=65521}return o|r<<16|0}t.exports=i},{}],30:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(e,t,n){"use strict";function i(){for(var e,t=[],n=0;256>n;n++){e=n;for(var i=0;8>i;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function o(e,t,n,i){var o=r,s=i+n;e=-1^e;for(var a=i;s>a;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}var r=i();t.exports=o},{}],32:[function(e,t,n){"use strict";function i(e,t){return e.msg=z[t],t}function o(e){return(e<<1)-(e>4?9:0)}function r(e){for(var t=e.length;--t>=0;)e[t]=0}function s(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(P.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function a(e,t){T._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,s(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function c(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function d(e,t,n,i){var o=e.avail_in;return o>i&&(o=i),0===o?0:(e.avail_in-=o,P.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=B(e.adler,t,o,n):2===e.state.wrap&&(e.adler=A(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function u(e,t){var n,i,o=e.max_chain_length,r=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-ce?e.strstart-(e.w_size-ce):0,c=e.window,d=e.w_mask,u=e.prev,h=e.strstart+le,p=c[r+s-1],f=c[r+s];e.prev_length>=e.good_match&&(o>>=2),a>e.lookahead&&(a=e.lookahead);do if(n=t,c[n+s]===f&&c[n+s-1]===p&&c[n]===c[r]&&c[++n]===c[r+1]){r+=2,n++;do;while(c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&h>r);if(i=le-(h-r),r=h-le,i>s){if(e.match_start=t,s=i,i>=a)break;p=c[r+s-1],f=c[r+s]}}while((t=u[t&d])>l&&0!==--o);return s<=e.lookahead?s:e.lookahead}function h(e){var t,n,i,o,r,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-ce)){P.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,n=e.hash_size,t=n;do i=e.head[--t],e.head[t]=i>=s?i-s:0;while(--n);n=s,t=n;do i=e.prev[--t],e.prev[t]=i>=s?i-s:0;while(--n);o+=s}if(0===e.strm.avail_in)break;if(n=d(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=ae)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+ae-1])&e.hash_mask,e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<ae)););}while(e.lookahead<ce&&0!==e.strm.avail_in)}function p(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(h(e),0===e.lookahead&&t===L)return be;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,a(e,!1),0===e.strm.avail_out))return be;if(e.strstart-e.block_start>=e.w_size-ce&&(a(e,!1),0===e.strm.avail_out))return be}return e.insert=0,t===M?(a(e,!0),0===e.strm.avail_out?we:xe):e.strstart>e.block_start&&(a(e,!1),0===e.strm.avail_out)?be:be}function f(e,t){for(var n,i;;){if(e.lookahead<ce){if(h(e),e.lookahead<ce&&t===L)return be;if(0===e.lookahead)break}if(n=0,e.lookahead>=ae&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ae-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ce&&(e.match_length=u(e,n)),e.match_length>=ae)if(i=T._tr_tally(e,e.strstart-e.match_start,e.match_length-ae),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ae){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ae-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=T._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(a(e,!1),0===e.strm.avail_out))return be}return e.insert=e.strstart<ae-1?e.strstart:ae-1,t===M?(a(e,!0),0===e.strm.avail_out?we:xe):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?be:ye}function m(e,t){for(var n,i,o;;){if(e.lookahead<ce){if(h(e),e.lookahead<ce&&t===L)return be;if(0===e.lookahead)break}if(n=0,e.lookahead>=ae&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ae-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ae-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ce&&(e.match_length=u(e,n),e.match_length<=5&&(e.strategy===G||e.match_length===ae&&e.strstart-e.match_start>4096)&&(e.match_length=ae-1)),e.prev_length>=ae&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-ae,i=T._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-ae),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ae-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=ae-1,e.strstart++,i&&(a(e,!1),0===e.strm.avail_out))return be}else if(e.match_available){if(i=T._tr_tally(e,0,e.window[e.strstart-1]),i&&a(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return be}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=T._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ae-1?e.strstart:ae-1,t===M?(a(e,!0),0===e.strm.avail_out?we:xe):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?be:ye}function g(e,t){for(var n,i,o,r,s=e.window;;){if(e.lookahead<=le){if(h(e),e.lookahead<=le&&t===L)return be;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=ae&&e.strstart>0&&(o=e.strstart-1,i=s[o],i===s[++o]&&i===s[++o]&&i===s[++o])){r=e.strstart+le;do;while(i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&r>o);e.match_length=le-(r-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ae?(n=T._tr_tally(e,1,e.match_length-ae),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=T._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(a(e,!1),0===e.strm.avail_out))return be}return e.insert=0,t===M?(a(e,!0),0===e.strm.avail_out?we:xe):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?be:ye}function v(e,t){for(var n;;){if(0===e.lookahead&&(h(e),0===e.lookahead)){if(t===L)return be;break}if(e.match_length=0,n=T._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(a(e,!1),0===e.strm.avail_out))return be}return e.insert=0,t===M?(a(e,!0),0===e.strm.avail_out?we:xe):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?be:ye}function b(e){e.window_size=2*e.w_size,r(e.head),e.max_lazy_match=E[e.level].max_lazy,e.good_match=E[e.level].good_length,e.nice_match=E[e.level].nice_length,e.max_chain_length=E[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ae-1,e.match_available=0,e.ins_h=0}function y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new P.Buf16(2*re),this.dyn_dtree=new P.Buf16(2*(2*ie+1)),this.bl_tree=new P.Buf16(2*(2*oe+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new P.Buf16(se+1),this.heap=new P.Buf16(2*ne+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new P.Buf16(2*ne+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Z,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?ue:ge,e.adler=2===t.wrap?0:1,t.last_flush=L,T._tr_init(t),R):i(e,U)}function x(e){var t=w(e);return t===R&&b(e.state),t}function _(e,t){return e&&e.state?2!==e.state.wrap?U:(e.state.gzhead=t,R):U}function k(e,t,n,o,r,s){if(!e)return U;var a=1;if(t===q&&(t=6),0>o?(a=0,o=-o):o>15&&(a=2,o-=16),1>r||r>J||n!==Y||8>o||o>15||0>t||t>9||0>s||s>W)return i(e,U);8===o&&(o=9);var l=new y;return e.state=l,l.strm=e,l.wrap=a,l.gzhead=null,l.w_bits=o,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ae-1)/ae),l.window=new P.Buf8(2*l.w_size),l.head=new P.Buf16(l.hash_size),l.prev=new P.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new P.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,x(e)}function S(e,t){return k(e,t,Y,K,Q,X)}function C(e,t){var n,a,d,u;if(!e||!e.state||t>F||0>t)return e?i(e,U):U;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||a.status===ve&&t!==M)return i(e,0===e.avail_out?V:U);if(a.strm=e,n=a.last_flush,a.last_flush=t,a.status===ue)if(2===a.wrap)e.adler=0,l(a,31),l(a,139),l(a,8),a.gzhead?(l(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),l(a,255&a.gzhead.time),l(a,a.gzhead.time>>8&255),l(a,a.gzhead.time>>16&255),l(a,a.gzhead.time>>24&255),l(a,9===a.level?2:a.strategy>=H||a.level<2?4:0),l(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(l(a,255&a.gzhead.extra.length),l(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=A(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=he):(l(a,0),l(a,0),l(a,0),l(a,0),l(a,0),l(a,9===a.level?2:a.strategy>=H||a.level<2?4:0),l(a,_e),a.status=ge);else{var h=Y+(a.w_bits-8<<4)<<8,p=-1;p=a.strategy>=H||a.level<2?0:a.level<6?1:6===a.level?2:3,h|=p<<6,0!==a.strstart&&(h|=de),h+=31-h%31,a.status=ge,c(a,h),0!==a.strstart&&(c(a,e.adler>>>16),c(a,65535&e.adler)),e.adler=1}if(a.status===he)if(a.gzhead.extra){for(d=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>d&&(e.adler=A(e.adler,a.pending_buf,a.pending-d,d)),s(e),d=a.pending,a.pending!==a.pending_buf_size));)l(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>d&&(e.adler=A(e.adler,a.pending_buf,a.pending-d,d)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=pe)}else a.status=pe;if(a.status===pe)if(a.gzhead.name){d=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>d&&(e.adler=A(e.adler,a.pending_buf,a.pending-d,d)),s(e),d=a.pending,a.pending===a.pending_buf_size)){u=1;break}u=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,l(a,u)}while(0!==u);a.gzhead.hcrc&&a.pending>d&&(e.adler=A(e.adler,a.pending_buf,a.pending-d,d)),0===u&&(a.gzindex=0,a.status=fe)}else a.status=fe;if(a.status===fe)if(a.gzhead.comment){d=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>d&&(e.adler=A(e.adler,a.pending_buf,a.pending-d,d)),s(e),d=a.pending,a.pending===a.pending_buf_size)){u=1;break}u=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,l(a,u)}while(0!==u);a.gzhead.hcrc&&a.pending>d&&(e.adler=A(e.adler,a.pending_buf,a.pending-d,d)),0===u&&(a.status=me)}else a.status=me;if(a.status===me&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&s(e),a.pending+2<=a.pending_buf_size&&(l(a,255&e.adler),l(a,e.adler>>8&255),e.adler=0,a.status=ge)):a.status=ge),0!==a.pending){if(s(e),0===e.avail_out)return a.last_flush=-1,R}else if(0===e.avail_in&&o(t)<=o(n)&&t!==M)return i(e,V);if(a.status===ve&&0!==e.avail_in)return i(e,V);if(0!==e.avail_in||0!==a.lookahead||t!==L&&a.status!==ve){var f=a.strategy===H?v(a,t):a.strategy===j?g(a,t):E[a.level].func(a,t);if((f===we||f===xe)&&(a.status=ve),f===be||f===we)return 0===e.avail_out&&(a.last_flush=-1),R;if(f===ye&&(t===$?T._tr_align(a):t!==F&&(T._tr_stored_block(a,0,0,!1),t===D&&(r(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),s(e),0===e.avail_out))return a.last_flush=-1,R}return t!==M?R:a.wrap<=0?O:(2===a.wrap?(l(a,255&e.adler),l(a,e.adler>>8&255),l(a,e.adler>>16&255),l(a,e.adler>>24&255),l(a,255&e.total_in),l(a,e.total_in>>8&255),l(a,e.total_in>>16&255),l(a,e.total_in>>24&255)):(c(a,e.adler>>>16),c(a,65535&e.adler)),s(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?R:O)}function I(e){var t;return e&&e.state?(t=e.state.status,t!==ue&&t!==he&&t!==pe&&t!==fe&&t!==me&&t!==ge&&t!==ve?i(e,U):(e.state=null,t===ge?i(e,N):R)):U}var E,P=e("../utils/common"),T=e("./trees"),B=e("./adler32"),A=e("./crc32"),z=e("./messages"),L=0,$=1,D=3,M=4,F=5,R=0,O=1,U=-2,N=-3,V=-5,q=-1,G=1,H=2,j=3,W=4,X=0,Z=2,Y=8,J=9,K=15,Q=8,ee=29,te=256,ne=te+1+ee,ie=30,oe=19,re=2*ne+1,se=15,ae=3,le=258,ce=le+ae+1,de=32,ue=42,he=69,pe=73,fe=91,me=103,ge=113,ve=666,be=1,ye=2,we=3,xe=4,_e=3,ke=function(e,t,n,i,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=o};E=[new ke(0,0,0,0,p),new ke(4,4,8,4,f),new ke(4,5,16,8,f),new ke(4,6,32,32,f),new ke(4,4,16,16,m),new ke(8,16,32,32,m),new ke(8,16,128,128,m),new ke(8,32,128,256,m),new ke(32,128,258,1024,m),new ke(32,258,258,4096,m)],n.deflateInit=S,n.deflateInit2=k,n.deflateReset=x,n.deflateResetKeep=w,n.deflateSetHeader=_,n.deflate=C,n.deflateEnd=I,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(e,t,n){"use strict";function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=i},{}],34:[function(e,t,n){"use strict";var i=30,o=12;t.exports=function(e,t){var n,r,s,a,l,c,d,u,h,p,f,m,g,v,b,y,w,x,_,k,S,C,I,E,P;n=e.state,r=e.next_in,E=e.input,s=r+(e.avail_in-5),a=e.next_out,P=e.output,l=a-(t-e.avail_out),c=a+(e.avail_out-257),d=n.dmax,u=n.wsize,h=n.whave,p=n.wnext,f=n.window,m=n.hold,g=n.bits,v=n.lencode,b=n.distcode,y=(1<<n.lenbits)-1,w=(1<<n.distbits)-1;e:do{15>g&&(m+=E[r++]<<g,g+=8,m+=E[r++]<<g,g+=8),x=v[m&y];t:for(;;){if(_=x>>>24,m>>>=_,g-=_,_=x>>>16&255,0===_)P[a++]=65535&x;else{if(!(16&_)){if(0===(64&_)){x=v[(65535&x)+(m&(1<<_)-1)];continue t}if(32&_){n.mode=o;break e}e.msg="invalid literal/length code",n.mode=i;break e}k=65535&x,_&=15,_&&(_>g&&(m+=E[r++]<<g,g+=8),k+=m&(1<<_)-1,m>>>=_,g-=_),15>g&&(m+=E[r++]<<g,g+=8,m+=E[r++]<<g,g+=8),x=b[m&w];n:for(;;){if(_=x>>>24,m>>>=_,g-=_,_=x>>>16&255,!(16&_)){if(0===(64&_)){x=b[(65535&x)+(m&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=i;break e}if(S=65535&x,_&=15,_>g&&(m+=E[r++]<<g,g+=8,_>g&&(m+=E[r++]<<g,g+=8)),S+=m&(1<<_)-1,S>d){e.msg="invalid distance too far back",n.mode=i;break e}if(m>>>=_,g-=_,_=a-l,S>_){if(_=S-_,_>h&&n.sane){e.msg="invalid distance too far back",n.mode=i;break e}if(C=0,I=f,0===p){if(C+=u-_,k>_){k-=_;do P[a++]=f[C++];while(--_);C=a-S,I=P}}else if(_>p){if(C+=u+p-_,_-=p,k>_){k-=_;do P[a++]=f[C++];while(--_);if(C=0,k>p){_=p,k-=_;do P[a++]=f[C++];while(--_);C=a-S,I=P}}}else if(C+=p-_,k>_){k-=_;do P[a++]=f[C++];while(--_);C=a-S,I=P}for(;k>2;)P[a++]=I[C++],P[a++]=I[C++],P[a++]=I[C++],k-=3;k&&(P[a++]=I[C++],k>1&&(P[a++]=I[C++]))}else{C=a-S;do P[a++]=P[C++],P[a++]=P[C++],P[a++]=P[C++],k-=3;while(k>2);k&&(P[a++]=P[C++],k>1&&(P[a++]=P[C++]))}break}}break}}while(s>r&&c>a);k=g>>3,r-=k,g-=k<<3,m&=(1<<g)-1,e.next_in=r,e.next_out=a,e.avail_in=s>r?5+(s-r):5-(r-s),e.avail_out=c>a?257+(c-a):257-(a-c),n.hold=m,n.bits=g}},{}],35:[function(e,t,n){"use strict";function i(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,
this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=M,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new v.Buf32(fe),t.distcode=t.distdyn=new v.Buf32(me),t.sane=1,t.back=-1,P):A}function s(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,r(e)):A}function a(e,t){var n,i;return e&&e.state?(i=e.state,0>t?(n=0,t=-t):(n=(t>>4)+1,48>t&&(t&=15)),t&&(8>t||t>15)?A:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,s(e))):A}function l(e,t){var n,i;return e?(i=new o,e.state=i,i.window=null,n=a(e,t),n!==P&&(e.state=null),n):A}function c(e){return l(e,ve)}function d(e){if(be){var t;for(m=new v.Buf32(512),g=new v.Buf32(32),t=0;144>t;)e.lens[t++]=8;for(;256>t;)e.lens[t++]=9;for(;280>t;)e.lens[t++]=7;for(;288>t;)e.lens[t++]=8;for(x(k,e.lens,0,288,m,0,e.work,{bits:9}),t=0;32>t;)e.lens[t++]=5;x(S,e.lens,0,32,g,0,e.work,{bits:5}),be=!1}e.lencode=m,e.lenbits=9,e.distcode=g,e.distbits=5}function u(e,t,n,i){var o,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new v.Buf8(r.wsize)),i>=r.wsize?(v.arraySet(r.window,t,n-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(o=r.wsize-r.wnext,o>i&&(o=i),v.arraySet(r.window,t,n-i,o,r.wnext),i-=o,i?(v.arraySet(r.window,t,n-i,i,0),r.wnext=i,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0}function h(e,t){var n,o,r,s,a,l,c,h,p,f,m,g,fe,me,ge,ve,be,ye,we,xe,_e,ke,Se,Ce,Ie=0,Ee=new v.Buf8(4),Pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return A;n=e.state,n.mode===W&&(n.mode=X),a=e.next_out,r=e.output,c=e.avail_out,s=e.next_in,o=e.input,l=e.avail_in,h=n.hold,p=n.bits,f=l,m=c,ke=P;e:for(;;)switch(n.mode){case M:if(0===n.wrap){n.mode=X;break}for(;16>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(2&n.wrap&&35615===h){n.check=0,Ee[0]=255&h,Ee[1]=h>>>8&255,n.check=y(n.check,Ee,2,0),h=0,p=0,n.mode=F;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",n.mode=ue;break}if((15&h)!==D){e.msg="unknown compression method",n.mode=ue;break}if(h>>>=4,p-=4,_e=(15&h)+8,0===n.wbits)n.wbits=_e;else if(_e>n.wbits){e.msg="invalid window size",n.mode=ue;break}n.dmax=1<<_e,e.adler=n.check=1,n.mode=512&h?H:W,h=0,p=0;break;case F:for(;16>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(n.flags=h,(255&n.flags)!==D){e.msg="unknown compression method",n.mode=ue;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=ue;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(Ee[0]=255&h,Ee[1]=h>>>8&255,n.check=y(n.check,Ee,2,0)),h=0,p=0,n.mode=R;case R:for(;32>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}n.head&&(n.head.time=h),512&n.flags&&(Ee[0]=255&h,Ee[1]=h>>>8&255,Ee[2]=h>>>16&255,Ee[3]=h>>>24&255,n.check=y(n.check,Ee,4,0)),h=0,p=0,n.mode=O;case O:for(;16>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(Ee[0]=255&h,Ee[1]=h>>>8&255,n.check=y(n.check,Ee,2,0)),h=0,p=0,n.mode=U;case U:if(1024&n.flags){for(;16>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(Ee[0]=255&h,Ee[1]=h>>>8&255,n.check=y(n.check,Ee,2,0)),h=0,p=0}else n.head&&(n.head.extra=null);n.mode=N;case N:if(1024&n.flags&&(g=n.length,g>l&&(g=l),g&&(n.head&&(_e=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),v.arraySet(n.head.extra,o,s,g,_e)),512&n.flags&&(n.check=y(n.check,o,g,s)),l-=g,s+=g,n.length-=g),n.length))break e;n.length=0,n.mode=V;case V:if(2048&n.flags){if(0===l)break e;g=0;do _e=o[s+g++],n.head&&_e&&n.length<65536&&(n.head.name+=String.fromCharCode(_e));while(_e&&l>g);if(512&n.flags&&(n.check=y(n.check,o,g,s)),l-=g,s+=g,_e)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=q;case q:if(4096&n.flags){if(0===l)break e;g=0;do _e=o[s+g++],n.head&&_e&&n.length<65536&&(n.head.comment+=String.fromCharCode(_e));while(_e&&l>g);if(512&n.flags&&(n.check=y(n.check,o,g,s)),l-=g,s+=g,_e)break e}else n.head&&(n.head.comment=null);n.mode=G;case G:if(512&n.flags){for(;16>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(h!==(65535&n.check)){e.msg="header crc mismatch",n.mode=ue;break}h=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=W;break;case H:for(;32>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}e.adler=n.check=i(h),h=0,p=0,n.mode=j;case j:if(0===n.havedict)return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=h,n.bits=p,B;e.adler=n.check=1,n.mode=W;case W:if(t===I||t===E)break e;case X:if(n.last){h>>>=7&p,p-=7&p,n.mode=le;break}for(;3>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}switch(n.last=1&h,h>>>=1,p-=1,3&h){case 0:n.mode=Z;break;case 1:if(d(n),n.mode=te,t===E){h>>>=2,p-=2;break e}break;case 2:n.mode=K;break;case 3:e.msg="invalid block type",n.mode=ue}h>>>=2,p-=2;break;case Z:for(h>>>=7&p,p-=7&p;32>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if((65535&h)!==(h>>>16^65535)){e.msg="invalid stored block lengths",n.mode=ue;break}if(n.length=65535&h,h=0,p=0,n.mode=Y,t===E)break e;case Y:n.mode=J;case J:if(g=n.length){if(g>l&&(g=l),g>c&&(g=c),0===g)break e;v.arraySet(r,o,s,g,a),l-=g,s+=g,c-=g,a+=g,n.length-=g;break}n.mode=W;break;case K:for(;14>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(n.nlen=(31&h)+257,h>>>=5,p-=5,n.ndist=(31&h)+1,h>>>=5,p-=5,n.ncode=(15&h)+4,h>>>=4,p-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=ue;break}n.have=0,n.mode=Q;case Q:for(;n.have<n.ncode;){for(;3>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}n.lens[Pe[n.have++]]=7&h,h>>>=3,p-=3}for(;n.have<19;)n.lens[Pe[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Se={bits:n.lenbits},ke=x(_,n.lens,0,19,n.lencode,0,n.work,Se),n.lenbits=Se.bits,ke){e.msg="invalid code lengths set",n.mode=ue;break}n.have=0,n.mode=ee;case ee:for(;n.have<n.nlen+n.ndist;){for(;Ie=n.lencode[h&(1<<n.lenbits)-1],ge=Ie>>>24,ve=Ie>>>16&255,be=65535&Ie,!(p>=ge);){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(16>be)h>>>=ge,p-=ge,n.lens[n.have++]=be;else{if(16===be){for(Ce=ge+2;Ce>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(h>>>=ge,p-=ge,0===n.have){e.msg="invalid bit length repeat",n.mode=ue;break}_e=n.lens[n.have-1],g=3+(3&h),h>>>=2,p-=2}else if(17===be){for(Ce=ge+3;Ce>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}h>>>=ge,p-=ge,_e=0,g=3+(7&h),h>>>=3,p-=3}else{for(Ce=ge+7;Ce>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}h>>>=ge,p-=ge,_e=0,g=11+(127&h),h>>>=7,p-=7}if(n.have+g>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=ue;break}for(;g--;)n.lens[n.have++]=_e}}if(n.mode===ue)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=ue;break}if(n.lenbits=9,Se={bits:n.lenbits},ke=x(k,n.lens,0,n.nlen,n.lencode,0,n.work,Se),n.lenbits=Se.bits,ke){e.msg="invalid literal/lengths set",n.mode=ue;break}if(n.distbits=6,n.distcode=n.distdyn,Se={bits:n.distbits},ke=x(S,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Se),n.distbits=Se.bits,ke){e.msg="invalid distances set",n.mode=ue;break}if(n.mode=te,t===E)break e;case te:n.mode=ne;case ne:if(l>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=h,n.bits=p,w(e,m),a=e.next_out,r=e.output,c=e.avail_out,s=e.next_in,o=e.input,l=e.avail_in,h=n.hold,p=n.bits,n.mode===W&&(n.back=-1);break}for(n.back=0;Ie=n.lencode[h&(1<<n.lenbits)-1],ge=Ie>>>24,ve=Ie>>>16&255,be=65535&Ie,!(p>=ge);){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(ve&&0===(240&ve)){for(ye=ge,we=ve,xe=be;Ie=n.lencode[xe+((h&(1<<ye+we)-1)>>ye)],ge=Ie>>>24,ve=Ie>>>16&255,be=65535&Ie,!(p>=ye+ge);){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}h>>>=ye,p-=ye,n.back+=ye}if(h>>>=ge,p-=ge,n.back+=ge,n.length=be,0===ve){n.mode=ae;break}if(32&ve){n.back=-1,n.mode=W;break}if(64&ve){e.msg="invalid literal/length code",n.mode=ue;break}n.extra=15&ve,n.mode=ie;case ie:if(n.extra){for(Ce=n.extra;Ce>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=oe;case oe:for(;Ie=n.distcode[h&(1<<n.distbits)-1],ge=Ie>>>24,ve=Ie>>>16&255,be=65535&Ie,!(p>=ge);){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(0===(240&ve)){for(ye=ge,we=ve,xe=be;Ie=n.distcode[xe+((h&(1<<ye+we)-1)>>ye)],ge=Ie>>>24,ve=Ie>>>16&255,be=65535&Ie,!(p>=ye+ge);){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}h>>>=ye,p-=ye,n.back+=ye}if(h>>>=ge,p-=ge,n.back+=ge,64&ve){e.msg="invalid distance code",n.mode=ue;break}n.offset=be,n.extra=15&ve,n.mode=re;case re:if(n.extra){for(Ce=n.extra;Ce>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=ue;break}n.mode=se;case se:if(0===c)break e;if(g=m-c,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=ue;break}g>n.wnext?(g-=n.wnext,fe=n.wsize-g):fe=n.wnext-g,g>n.length&&(g=n.length),me=n.window}else me=r,fe=a-n.offset,g=n.length;g>c&&(g=c),c-=g,n.length-=g;do r[a++]=me[fe++];while(--g);0===n.length&&(n.mode=ne);break;case ae:if(0===c)break e;r[a++]=n.length,c--,n.mode=ne;break;case le:if(n.wrap){for(;32>p;){if(0===l)break e;l--,h|=o[s++]<<p,p+=8}if(m-=c,e.total_out+=m,n.total+=m,m&&(e.adler=n.check=n.flags?y(n.check,r,m,a-m):b(n.check,r,m,a-m)),m=c,(n.flags?h:i(h))!==n.check){e.msg="incorrect data check",n.mode=ue;break}h=0,p=0}n.mode=ce;case ce:if(n.wrap&&n.flags){for(;32>p;){if(0===l)break e;l--,h+=o[s++]<<p,p+=8}if(h!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=ue;break}h=0,p=0}n.mode=de;case de:ke=T;break e;case ue:ke=z;break e;case he:return L;case pe:default:return A}return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=h,n.bits=p,(n.wsize||m!==e.avail_out&&n.mode<ue&&(n.mode<le||t!==C))&&u(e,e.output,e.next_out,m-e.avail_out)?(n.mode=he,L):(f-=e.avail_in,m-=e.avail_out,e.total_in+=f,e.total_out+=m,n.total+=m,n.wrap&&m&&(e.adler=n.check=n.flags?y(n.check,r,m,e.next_out-m):b(n.check,r,m,e.next_out-m)),e.data_type=n.bits+(n.last?64:0)+(n.mode===W?128:0)+(n.mode===te||n.mode===Y?256:0),(0===f&&0===m||t===C)&&ke===P&&(ke=$),ke)}function p(e){if(!e||!e.state)return A;var t=e.state;return t.window&&(t.window=null),e.state=null,P}function f(e,t){var n;return e&&e.state?(n=e.state,0===(2&n.wrap)?A:(n.head=t,t.done=!1,P)):A}var m,g,v=e("../utils/common"),b=e("./adler32"),y=e("./crc32"),w=e("./inffast"),x=e("./inftrees"),_=0,k=1,S=2,C=4,I=5,E=6,P=0,T=1,B=2,A=-2,z=-3,L=-4,$=-5,D=8,M=1,F=2,R=3,O=4,U=5,N=6,V=7,q=8,G=9,H=10,j=11,W=12,X=13,Z=14,Y=15,J=16,K=17,Q=18,ee=19,te=20,ne=21,ie=22,oe=23,re=24,se=25,ae=26,le=27,ce=28,de=29,ue=30,he=31,pe=32,fe=852,me=592,ge=15,ve=ge,be=!0;n.inflateReset=s,n.inflateReset2=a,n.inflateResetKeep=r,n.inflateInit=c,n.inflateInit2=l,n.inflate=h,n.inflateEnd=p,n.inflateGetHeader=f,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(e,t,n){"use strict";var i=e("../utils/common"),o=15,r=852,s=592,a=0,l=1,c=2,d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,f,m,g,v,b){var y,w,x,_,k,S,C,I,E,P=b.bits,T=0,B=0,A=0,z=0,L=0,$=0,D=0,M=0,F=0,R=0,O=null,U=0,N=new i.Buf16(o+1),V=new i.Buf16(o+1),q=null,G=0;for(T=0;o>=T;T++)N[T]=0;for(B=0;f>B;B++)N[t[n+B]]++;for(L=P,z=o;z>=1&&0===N[z];z--);if(L>z&&(L=z),0===z)return m[g++]=20971520,m[g++]=20971520,b.bits=1,0;for(A=1;z>A&&0===N[A];A++);for(A>L&&(L=A),M=1,T=1;o>=T;T++)if(M<<=1,M-=N[T],0>M)return-1;if(M>0&&(e===a||1!==z))return-1;for(V[1]=0,T=1;o>T;T++)V[T+1]=V[T]+N[T];for(B=0;f>B;B++)0!==t[n+B]&&(v[V[t[n+B]]++]=B);if(e===a?(O=q=v,S=19):e===l?(O=d,U-=257,q=u,G-=257,S=256):(O=h,q=p,S=-1),R=0,B=0,T=A,k=g,$=L,D=0,x=-1,F=1<<L,_=F-1,e===l&&F>r||e===c&&F>s)return 1;for(var H=0;;){H++,C=T-D,v[B]<S?(I=0,E=v[B]):v[B]>S?(I=q[G+v[B]],E=O[U+v[B]]):(I=96,E=0),y=1<<T-D,w=1<<$,A=w;do w-=y,m[k+(R>>D)+w]=C<<24|I<<16|E|0;while(0!==w);for(y=1<<T-1;R&y;)y>>=1;if(0!==y?(R&=y-1,R+=y):R=0,B++,0===--N[T]){if(T===z)break;T=t[n+v[B]]}if(T>L&&(R&_)!==x){for(0===D&&(D=L),k+=A,$=T-D,M=1<<$;z>$+D&&(M-=N[$+D],!(0>=M));)$++,M<<=1;if(F+=1<<$,e===l&&F>r||e===c&&F>s)return 1;x=R&_,m[x]=L<<24|$<<16|k-g|0}}return 0!==R&&(m[k+R]=T-D<<24|64<<16|0),b.bits=L,0}},{"../utils/common":27}],37:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(e,t,n){"use strict";function i(e){for(var t=e.length;--t>=0;)e[t]=0}function o(e){return 256>e?se[e]:se[256+(e>>>7)]}function r(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function s(e,t,n){e.bi_valid>W-n?(e.bi_buf|=t<<e.bi_valid&65535,r(e,e.bi_buf),e.bi_buf=t>>W-e.bi_valid,e.bi_valid+=n-W):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function a(e,t,n){s(e,n[2*t],n[2*t+1])}function l(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function c(e){16===e.bi_valid?(r(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function d(e,t){var n,i,o,r,s,a,l=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,u=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,f=t.stat_desc.max_length,m=0;for(r=0;j>=r;r++)e.bl_count[r]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;H>n;n++)i=e.heap[n],r=l[2*l[2*i+1]+1]+1,r>f&&(r=f,m++),l[2*i+1]=r,i>c||(e.bl_count[r]++,s=0,i>=p&&(s=h[i-p]),a=l[2*i],e.opt_len+=a*(r+s),u&&(e.static_len+=a*(d[2*i+1]+s)));if(0!==m){do{for(r=f-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(r=f;0!==r;r--)for(i=e.bl_count[r];0!==i;)o=e.heap[--n],o>c||(l[2*o+1]!==r&&(e.opt_len+=(r-l[2*o+1])*l[2*o],l[2*o+1]=r),i--)}}function u(e,t,n){var i,o,r=new Array(j+1),s=0;for(i=1;j>=i;i++)r[i]=s=s+n[i-1]<<1;for(o=0;t>=o;o++){var a=e[2*o+1];0!==a&&(e[2*o]=l(r[a]++,a))}}function h(){var e,t,n,i,o,r=new Array(j+1);for(n=0,i=0;U-1>i;i++)for(le[i]=n,e=0;e<1<<Q[i];e++)ae[n++]=i;for(ae[n-1]=i,o=0,i=0;16>i;i++)for(ce[i]=o,e=0;e<1<<ee[i];e++)se[o++]=i;for(o>>=7;q>i;i++)for(ce[i]=o<<7,e=0;e<1<<ee[i]-7;e++)se[256+o++]=i;for(t=0;j>=t;t++)r[t]=0;for(e=0;143>=e;)oe[2*e+1]=8,e++,r[8]++;for(;255>=e;)oe[2*e+1]=9,e++,r[9]++;for(;279>=e;)oe[2*e+1]=7,e++,r[7]++;for(;287>=e;)oe[2*e+1]=8,e++,r[8]++;for(u(oe,V+1,r),e=0;q>e;e++)re[2*e+1]=5,re[2*e]=l(e,5);de=new pe(oe,Q,N+1,V,j),ue=new pe(re,ee,0,q,j),he=new pe(new Array(0),te,0,G,X)}function p(e){var t;for(t=0;V>t;t++)e.dyn_ltree[2*t]=0;for(t=0;q>t;t++)e.dyn_dtree[2*t]=0;for(t=0;G>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*Z]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function f(e){e.bi_valid>8?r(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function m(e,t,n,i){f(e),i&&(r(e,n),r(e,~n)),B.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function g(e,t,n,i){var o=2*t,r=2*n;return e[o]<e[r]||e[o]===e[r]&&i[t]<=i[n]}function v(e,t,n){for(var i=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&g(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!g(t,i,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=i}function b(e,t,n){var i,r,l,c,d=0;if(0!==e.last_lit)do i=e.pending_buf[e.d_buf+2*d]<<8|e.pending_buf[e.d_buf+2*d+1],r=e.pending_buf[e.l_buf+d],d++,0===i?a(e,r,t):(l=ae[r],a(e,l+N+1,t),c=Q[l],0!==c&&(r-=le[l],s(e,r,c)),i--,l=o(i),a(e,l,n),c=ee[l],0!==c&&(i-=ce[l],s(e,i,c)));while(d<e.last_lit);a(e,Z,t)}function y(e,t){var n,i,o,r=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=H,n=0;l>n;n++)0!==r[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):r[2*n+1]=0;for(;e.heap_len<2;)o=e.heap[++e.heap_len]=2>c?++c:0,r[2*o]=1,e.depth[o]=0,e.opt_len--,a&&(e.static_len-=s[2*o+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)v(e,r,n);o=l;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],v(e,r,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,r[2*o]=r[2*n]+r[2*i],e.depth[o]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,r[2*n+1]=r[2*i+1]=o,e.heap[1]=o++,v(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],d(e,t),u(r,c,e.bl_count)}function w(e,t,n){var i,o,r=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;n>=i;i++)o=s,s=t[2*(i+1)+1],++a<l&&o===s||(c>a?e.bl_tree[2*o]+=a:0!==o?(o!==r&&e.bl_tree[2*o]++,e.bl_tree[2*Y]++):10>=a?e.bl_tree[2*J]++:e.bl_tree[2*K]++,a=0,r=o,0===s?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))}function x(e,t,n){var i,o,r=-1,l=t[1],c=0,d=7,u=4;for(0===l&&(d=138,u=3),i=0;n>=i;i++)if(o=l,l=t[2*(i+1)+1],!(++c<d&&o===l)){if(u>c){do a(e,o,e.bl_tree);while(0!==--c)}else 0!==o?(o!==r&&(a(e,o,e.bl_tree),c--),a(e,Y,e.bl_tree),s(e,c-3,2)):10>=c?(a(e,J,e.bl_tree),s(e,c-3,3)):(a(e,K,e.bl_tree),s(e,c-11,7));c=0,r=o,0===l?(d=138,u=3):o===l?(d=6,u=3):(d=7,u=4)}}function _(e){var t;for(w(e,e.dyn_ltree,e.l_desc.max_code),w(e,e.dyn_dtree,e.d_desc.max_code),y(e,e.bl_desc),t=G-1;t>=3&&0===e.bl_tree[2*ne[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function k(e,t,n,i){var o;for(s(e,t-257,5),s(e,n-1,5),s(e,i-4,4),o=0;i>o;o++)s(e,e.bl_tree[2*ne[o]+1],3);x(e,e.dyn_ltree,t-1),x(e,e.dyn_dtree,n-1)}function S(e){var t,n=4093624447;for(t=0;31>=t;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return z;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return L;for(t=32;N>t;t++)if(0!==e.dyn_ltree[2*t])return L;return z}function C(e){me||(h(),me=!0),e.l_desc=new fe(e.dyn_ltree,de),e.d_desc=new fe(e.dyn_dtree,ue),e.bl_desc=new fe(e.bl_tree,he),e.bi_buf=0,e.bi_valid=0,p(e)}function I(e,t,n,i){s(e,(D<<1)+(i?1:0),3),m(e,t,n,!0)}function E(e){s(e,M<<1,3),a(e,Z,oe),c(e)}function P(e,t,n,i){var o,r,a=0;e.level>0?(e.strm.data_type===$&&(e.strm.data_type=S(e)),y(e,e.l_desc),y(e,e.d_desc),a=_(e),o=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,o>=r&&(o=r)):o=r=n+5,o>=n+4&&-1!==t?I(e,t,n,i):e.strategy===A||r===o?(s(e,(M<<1)+(i?1:0),3),b(e,oe,re)):(s(e,(F<<1)+(i?1:0),3),k(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),b(e,e.dyn_ltree,e.dyn_dtree)),p(e),i&&f(e)}function T(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ae[n]+N+1)]++,e.dyn_dtree[2*o(t)]++),e.last_lit===e.lit_bufsize-1}var B=e("../utils/common"),A=4,z=0,L=1,$=2,D=0,M=1,F=2,R=3,O=258,U=29,N=256,V=N+1+U,q=30,G=19,H=2*V+1,j=15,W=16,X=7,Z=256,Y=16,J=17,K=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=512,oe=new Array(2*(V+2));i(oe);var re=new Array(2*q);i(re);var se=new Array(ie);i(se);var ae=new Array(O-R+1);i(ae);var le=new Array(U);i(le);var ce=new Array(q);i(ce);var de,ue,he,pe=function(e,t,n,i,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=e&&e.length},fe=function(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t},me=!1;n._tr_init=C,n._tr_stored_block=I,n._tr_flush_block=P,n._tr_tally=T,n._tr_align=E},{"../utils/common":27}],39:[function(e,t,n){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=i},{}]},{},[9])(9)}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){"use strict";var t={wheelSpeed:1,wheelPropagation:!1,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},n=function(){var e=0;return function(){var t=e;return e+=1,".perfect-scrollbar-"+t}}();e.fn.perfectScrollbar=function(i,o){return this.each(function(){var r=e.extend(!0,{},t),s=e(this);if("object"==typeof i?e.extend(!0,r,i):o=i,"update"===o)return s.data("perfect-scrollbar-update")&&s.data("perfect-scrollbar-update")(),s;if("destroy"===o)return s.data("perfect-scrollbar-destroy")&&s.data("perfect-scrollbar-destroy")(),s;if(s.data("perfect-scrollbar"))return s.data("perfect-scrollbar");s.addClass("ps-container");var a,l,c,d,u,h,p,f,m,g,v=e("<div class='ps-scrollbar-x-rail'></div>").appendTo(s),b=e("<div class='ps-scrollbar-y-rail'></div>").appendTo(s),y=e("<div class='ps-scrollbar-x'></div>").appendTo(v),w=e("<div class='ps-scrollbar-y'></div>").appendTo(b),x=parseInt(v.css("bottom"),10),_=x===x,k=_?null:parseInt(v.css("top"),10),S=parseInt(b.css("right"),10),C=S===S,I=C?null:parseInt(b.css("left"),10),E="rtl"===s.css("direction"),P=n(),T=parseInt(v.css("borderLeftWidth"),10)+parseInt(v.css("borderRightWidth"),10),B=parseInt(v.css("borderTopWidth"),10)+parseInt(v.css("borderBottomWidth"),10),A=function(e,t){var n=e+t,i=d-m;g=0>n?0:n>i?i:n;var o=parseInt(g*(h-d)/(d-m),10);s.scrollTop(o)},z=function(e,t){var n=e+t,i=c-p;f=0>n?0:n>i?i:n;var o=parseInt(f*(u-c)/(c-p),10);s.scrollLeft(o)},L=function(e){return r.minScrollbarLength&&(e=Math.max(e,r.minScrollbarLength)),r.maxScrollbarLength&&(e=Math.min(e,r.maxScrollbarLength)),e},$=function(){var e={width:c,display:a?"inherit":"none"};e.left=E?s.scrollLeft()+c-u:s.scrollLeft(),_?e.bottom=x-s.scrollTop():e.top=k+s.scrollTop(),v.css(e);var t={top:s.scrollTop(),height:d,display:l?"inherit":"none"};C?t.right=E?u-s.scrollLeft()-S-w.outerWidth():S-s.scrollLeft():t.left=E?s.scrollLeft()+2*c-u-I-w.outerWidth():I+s.scrollLeft(),b.css(t),y.css({left:f,width:p-T}),w.css({top:g,height:m-B}),a?s.addClass("ps-active-x"):s.removeClass("ps-active-x"),l?s.addClass("ps-active-y"):s.removeClass("ps-active-y")},D=function(){v.hide(),b.hide(),c=r.includePadding?s.innerWidth():s.width(),d=r.includePadding?s.innerHeight():s.height(),u=s.prop("scrollWidth"),h=s.prop("scrollHeight"),!r.suppressScrollX&&u>c+r.scrollXMarginOffset?(a=!0,p=L(parseInt(c*c/u,10)),f=parseInt(s.scrollLeft()*(c-p)/(u-c),10)):(a=!1,p=0,f=0,s.scrollLeft(0)),!r.suppressScrollY&&h>d+r.scrollYMarginOffset?(l=!0,m=L(parseInt(d*d/h,10)),g=parseInt(s.scrollTop()*(d-m)/(h-d),10)):(l=!1,m=0,g=0,s.scrollTop(0)),g>=d-m&&(g=d-m),f>=c-p&&(f=c-p),$(),r.suppressScrollX||v.show(),r.suppressScrollY||b.show()},M=function(){var t,n;y.bind("mousedown"+P,function(e){n=e.pageX,t=y.position().left,v.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove"+P,function(e){v.hasClass("in-scrolling")&&(z(t,e.pageX-n),D(),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup"+P,function(){v.hasClass("in-scrolling")&&v.removeClass("in-scrolling")}),t=n=null},F=function(){var t,n;w.bind("mousedown"+P,function(e){n=e.pageY,t=w.position().top,b.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove"+P,function(e){b.hasClass("in-scrolling")&&(A(t,e.pageY-n),D(),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup"+P,function(){b.hasClass("in-scrolling")&&b.removeClass("in-scrolling")}),t=n=null},R=function(e,t){var n=s.scrollTop();if(0===e){if(!l)return!1;if(0===n&&t>0||n>=h-d&&0>t)return!r.wheelPropagation}var i=s.scrollLeft();if(0===t){if(!a)return!1;if(0===i&&0>e||i>=u-c&&e>0)return!r.wheelPropagation}return!0},O=function(){var e=!1,t=function(e){var t=e.originalEvent.deltaX,n=-1*e.originalEvent.deltaY;return(void 0===t||void 0===n)&&(t=-1*e.originalEvent.wheelDeltaX/6,n=e.originalEvent.wheelDeltaY/6),e.originalEvent.deltaMode&&1===e.originalEvent.deltaMode&&(t*=10,n*=10),t!==t&&n!==n&&(t=0,n=e.originalEvent.wheelDelta),[t,n]},n=function(n){var i=t(n),o=i[0],c=i[1];e=!1,r.useBothWheelAxes?l&&!a?(c?s.scrollTop(s.scrollTop()-c*r.wheelSpeed):s.scrollTop(s.scrollTop()+o*r.wheelSpeed),e=!0):a&&!l&&(o?s.scrollLeft(s.scrollLeft()+o*r.wheelSpeed):s.scrollLeft(s.scrollLeft()-c*r.wheelSpeed),e=!0):(s.scrollTop(s.scrollTop()-c*r.wheelSpeed),s.scrollLeft(s.scrollLeft()+o*r.wheelSpeed)),D(),e=e||R(o,c),e&&(n.stopPropagation(),n.preventDefault())};void 0!==window.onwheel?s.bind("wheel"+P,n):void 0!==window.onmousewheel&&s.bind("mousewheel"+P,n)},U=function(){var t=!1;s.bind("mouseenter"+P,function(){t=!0}),s.bind("mouseleave"+P,function(){t=!1});var n=!1;e(document).bind("keydown"+P,function(i){if(!(i.isDefaultPrevented&&i.isDefaultPrevented()||!t||e(document.activeElement).is(":input,[contenteditable]"))){var o=0,r=0;switch(i.which){case 37:o=-30;break;case 38:r=30;break;case 39:o=30;break;case 40:r=-30;break;case 33:r=90;break;case 32:case 34:r=-90;break;case 35:r=-d;break;case 36:r=d;break;default:return}s.scrollTop(s.scrollTop()-r),s.scrollLeft(s.scrollLeft()+o),n=R(o,r),n&&i.preventDefault()}})},N=function(){var e=function(e){e.stopPropagation()};w.bind("click"+P,e),b.bind("click"+P,function(e){var t=parseInt(m/2,10),n=e.pageY-b.offset().top-t,i=d-m,o=n/i;0>o?o=0:o>1&&(o=1),s.scrollTop((h-d)*o)}),y.bind("click"+P,e),v.bind("click"+P,function(e){var t=parseInt(p/2,10),n=e.pageX-v.offset().left-t,i=c-p,o=n/i;0>o?o=0:o>1&&(o=1),s.scrollLeft((u-c)*o)})},V=function(){var t=function(e,t){s.scrollTop(s.scrollTop()-t),s.scrollLeft(s.scrollLeft()-e),D()},n={},i=0,o={},r=null,a=!1;e(window).bind("touchstart"+P,function(){a=!0}),e(window).bind("touchend"+P,function(){a=!1}),s.bind("touchstart"+P,function(e){var t=e.originalEvent.targetTouches[0];n.pageX=t.pageX,n.pageY=t.pageY,i=(new Date).getTime(),null!==r&&clearInterval(r),e.stopPropagation()}),s.bind("touchmove"+P,function(e){if(!a&&1===e.originalEvent.targetTouches.length){var r=e.originalEvent.targetTouches[0],s={};s.pageX=r.pageX,s.pageY=r.pageY;var l=s.pageX-n.pageX,c=s.pageY-n.pageY;t(l,c),n=s;var d=(new Date).getTime(),u=d-i;u>0&&(o.x=l/u,o.y=c/u,i=d),e.preventDefault()}}),s.bind("touchend"+P,function(){clearInterval(r),r=setInterval(function(){return.01>Math.abs(o.x)&&.01>Math.abs(o.y)?void clearInterval(r):(t(30*o.x,30*o.y),o.x*=.8,void(o.y*=.8))},10)})},q=function(){s.bind("scroll"+P,function(){D()})},G=function(){s.unbind(P),e(window).unbind(P),e(document).unbind(P),s.data("perfect-scrollbar",null),s.data("perfect-scrollbar-update",null),s.data("perfect-scrollbar-destroy",null),y.remove(),w.remove(),v.remove(),b.remove(),v=b=y=w=a=l=c=d=u=h=p=f=x=_=k=m=g=S=C=I=E=P=null},H=function(t){s.addClass("ie").addClass("ie"+t);var n=function(){var t=function(){e(this).addClass("hover")},n=function(){e(this).removeClass("hover")};s.bind("mouseenter"+P,t).bind("mouseleave"+P,n),v.bind("mouseenter"+P,t).bind("mouseleave"+P,n),b.bind("mouseenter"+P,t).bind("mouseleave"+P,n),y.bind("mouseenter"+P,t).bind("mouseleave"+P,n),w.bind("mouseenter"+P,t).bind("mouseleave"+P,n)},i=function(){$=function(){var e={left:f+s.scrollLeft(),width:p};_?e.bottom=x:e.top=k,y.css(e);var t={top:g+s.scrollTop(),height:m};C?t.right=S:t.left=I,w.css(t),y.hide().show(),w.hide().show()}};6===t&&(n(),i())},j="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,W=function(){var e=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);e&&"msie"===e[1]&&H(parseInt(e[2],10)),D(),q(),M(),F(),N(),O(),j&&V(),r.useKeyboard&&U(),s.data("perfect-scrollbar",s),s.data("perfect-scrollbar-update",D),s.data("perfect-scrollbar-destroy",G)};return W(),s})}}),!function(e){var t=e.module("digestLogger",[]);t.controller("DigestLoggerController",["$scope","$attrs","$rootScope",function(e,t,n){function i(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}var o,r,s,a,l=function(){return t.loggerName},c=function(e){var t=l(),n=[],i=new Date;t&&n.push(t),e&&n.push(e),o&&(n.push(i.getMinutes()+":"+i.getSeconds()),n.push(i.getTime()-o.getTime()+"ms")),o=i,console.log.apply(console,n)};s=n.$apply,n.$apply=function(){var e;return c("> $apply()"),e=s.apply(this,arguments),c("< $apply()"),e},a=n.$digest,n.$digest=function(){var e;return c("> $digest()"),e=a.apply(this,arguments),c("< $digest()"),e},e.$watch(function(){c(". $digest"),r||(r=i(function(){c(". $postDigest"),r=null})),e.$$postDigest(r)})}]),t.directive("digestLogger",[function(){return{priority:2e3,controller:"DigestLoggerController"}}]),t.provider("digestLogger",function(){var e=!0,t="--digest-logger",n=!1;this.useCookie=function(n,i){"undefined"==typeof n&&(n=!0),i&&(t=i),e=n},this.enabled=function(e){"undefined"==typeof e&&(e=!0),n=e},this.$get=[function(){return{enabled:n?!0:e&&document.cookie.indexOf(t)>-1}}]})}(angular),!function(e){var t=e.module("colorUtils",[]);t.factory("colorUtils",[function(){"use strict";var e={colorPattern:/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,isValidColor:function(t){return e.colorPattern.test(t)},getHexColor:function(e){return 4===e.length?e[1]+e[1]+e[2]+e[2]+e[3]+e[3]:e.substr(1)},isColorTooLight:function(t){t=e.getHexColor(t);var n=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),o=parseInt(t.substr(4,2),16),r=(299*n+587*i+114*o)/1e3;return r>=212}};return e}]),t.directive("newColorPicker",["IconsColor","IconsStyleSheet",function(t,n){"use strict";return{restrict:"EA",replace:!1,scope:{colorPicker:"=newColorPicker"},link:function(i,o){i.showChooser=!0,i.showPicker=!1,i.iconsColor=t,i.colorsGray=[{color:"#ffffff",colorDark:"#ffffff"},{color:"#cccccc",colorDark:"#cccccc"},{color:"#666666",colorDark:"#666666"},{color:"#333333",colorDark:"#333333"},{color:"#000000",colorDark:"#000000"}],i.colors=[{color:"#e74c3c",colorDark:"#c0392b"},{color:"#e67e22",colorDark:"#d35400"},{color:"#f1c40f",colorDark:"#f39c12"},{color:"#2ecc71",colorDark:"#27ae60"},{color:"#1abc9c",colorDark:"#16a085"},{color:"#3498db",colorDark:"#2980b9"},{color:"#9b59b6",colorDark:"#8e44ad"},{color:"#ecf0f1",colorDark:"#bdc3c7"},{color:"#95a5a6",colorDark:"#7f8c8d"},{color:"#34495e",colorDark:"#2c3e50"}],i.setColor=function(e){t.color=e,n.setIconsColor(e),i.color=e,i.colorPicker.setColor&&i.colorPicker.setColor(e)},i.colorPickerCanvas=colorpicker({size:212,arrowColor:"#aaa",defaultHsv:[0,0,20],onchange:function(e){i.setColor(e),i.$apply()}}),o.find(".b-color-picker").append(i.colorPickerCanvas),i.$watch("iconsColor.color",function(e,t){e!==t&&i.setColor(e)}),$(document.body).on("touch click",function(e){var t=e.target||e.srcElement;i.colorPicker.showColors&&!o[0].contains(t)&&i.colorPicker.hideColorPicker()}),i.$on("$destroy",function(){e.element(document.body).off("touch click")})},templateUrl:"color-picker.html"}}]),e.module("colorUtils").run(["$templateCache",function(e){e.put("color-picker.html",'<div ng-show="colorPicker.showColors" class="c-color-picker m-bottom"><div ng-show="showChooser" class="b-color-chooser"><p class="b-label">grayscale</p><div class="b-color-blocks"><div ng-class="{\'m-border\': color_.color == \'#ffffff\'}" ng-repeat="color_ in colorsGray" class="b-color"><span ng-click="setColor(color_.color)" ng-style="{\'background-color\': color_.color}" class="b-color-half"></span><span ng-click="setColor(color_.colorDark)" ng-style="{\'background-color\': color_.colorDark}" class="b-color-half"></span></div></div><p class="b-label">color</p><div class="b-color-blocks"><div ng-repeat="color_ in colors" class="b-color"><span ng-click="setColor(color_.color)" ng-style="{\'background-color\': color_.color}" class="b-color-half"></span><span ng-click="setColor(color_.colorDark)" ng-style="{\'background-color\': color_.colorDark}" class="b-color-half"></span></div></div></div><div ng-show="showPicker" class="b-color-picker"><p class="b-label">color palette</p></div><div class="b-panel"><p class="b-label">custom</p><input type="text" ng-model="iconsColor.color" class="b-color-input"/><div ng-class="{active: showPicker}" ng-click="showPicker = true; showChooser = false;" class="b-panel-picker"><div></div></div><div ng-class="{active: showChooser}" ng-click="showChooser = true; showPicker = false;" class="b-panel-chooser"><div></div><div></div><div></div><div></div></div></div></div>');
}])}(angular),!function(e){var t=e.module("platformPreview",["x2js","ngAnimate","colorUtils","dynamicStyles"]);t.directive("platformPreview",["$http","$q","x2js","$sce","$animate","$timeout","config","PrerenderService","IconService",function(t,n,i,o,r,s,a,l,c){"use strict";return{restrict:"EA",replace:!0,scope:{platforms:"=platformPreview",currentIcon:"=currentIcon"},link:function(n){n.icons=[],n.currentPlatform=[],n.showPlatformsTabs=!(n.platforms.length<=1||2==n.platforms.length&&(n.platforms[0].isFilled||n.platforms[1].isFilled));var o=function(e){c.configIcon(e),e.svg=c.getTrustedSvg(e),e.url="/web-app/"+e._id+"/"+e._name.toLowerCase().split(" ").join("-")};n.selectPlatform=function(c){c.icons&&c.icons.length>0||(l.wait("platform"),t({method:"GET",url:a.icons8_cache_api_url+"/api/iconsets/similar?id="+c.iconId+"&amount=24"}).success(function(e){var t=i.xml_str2json(e);c.icons=t.icons8.result.similar.icon,c.icons?c.icons.forEach(o):c.icons=[]})["finally"](function(){l.ready("platform")})),n.platforms.forEach(function(e){e.active=!1}),c.isFilled?n.platforms.forEach(function(e){"ios7"==e.apiTitle&&(e.active=!0)}):c.active=!0,e.forEach($(".b-category-icons>.b-icon"),function(e){r.addClass(e,"inactive")}),s(function(){n.currentPlatform=c,e.forEach($(".b-category-icons>.b-icon"),function(e){r.removeClass(e,"inactive")})},310)},function(){n.platforms.forEach(function(e){e.active&&n.selectPlatform(e)})}(),n.$watch("currentIcon.id",function(e,t){t!=e&&n.platforms.forEach(function(e){e.iconId==n.currentIcon.id&&n.selectPlatform(e)})})},templateUrl:"platform-preview.html"}}]),e.module("platformPreview").run(["$templateCache",function(e){e.put("platform-preview.html",'<div><div ng-if="showPlatformsTabs" class="b-categories-tabs c-tabs"><div ng-repeat="platform in platforms | filter: {isFilled: false} | orderBy:\'order\'" ng-bind="platform.title" ng-class="{\'active\': platform.active, \'m-all-round\': platforms.length == 1}" ng-click="selectPlatform(platform)" class="b-tab"></div></div><div class="b-category-icons"><a ng-repeat="icon in currentPlatform.icons" ng-href="{{icon.url}}" class="b-icon"><div ng-bind-html="icon.svg" ng-class="{\'m-color-icon\': icon.colored, \'m-unavailable\': !icon.available}" class="icons-set__icon-svg"></div><div ng-class="{\'m-color-icon\': icon.colored}" class="icons-set__icon-data"><div ng-bind="icon._name" class="b-icons-set__icon-title"></div></div></a></div></div>')}])}(angular),!function(e){var t=e.module("dynamicStyles",[]);t.factory("dynamicStyles",[function(){"use strict";var e=function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet},t=function(e,t,n,i){e.insertRule?e.insertRule(t+"{"+n+"}",i):e.addRule(t,n,i)},n=function(e,t){e.deleteRule?e.deleteRule(t):e.removeRule(t)},i=function(e){return e.cssRules?e.cssRules.length:e.rules.length},o=function(e,t){return e.cssRules?e.cssRules[t]:e.rules[t]};return{createSheet:function(){var r=e(),s={add:function(e,n,i){return t(r,e,n,i),s},get:function(e){return o(r,e)},getSheet:function(){return r},remove:function(e){return n(r,e),s},size:function(){return i(r)},setProp:function(e,t,n){return o(r,e).style[t]=n,s}};return s}}}])}(angular),!function(e){var t=e.module("x2js",[]);t.service("x2js",[function(){"use strict";return new X2JS}])}(angular),!function(e){e.module("popup",[]),e.module("popup").directive("popupTarget",["popupService",function(e){"use strict";return{restrict:"A",scope:{popupTarget:"="},link:function(t,n,i,o){e.targetAdd(t.popupTarget,n),n.on("$destroy",function(){e.targetRemove(t.popupTarget)})}}}]),e.module("popup").directive("stopEvents",function(){"use strict";return{restrict:"A",link:function(e,t,n){n.stopEvents.split(/\W+/).forEach(function(e){t.bind(e,function(e){e.stopPropagation()})})}}}),e.module("popup").factory("Popup",["$q","$rootScope","$compile","$controller","$timeout","$document",function(e,t,n,i,o,r){function s(s,a,l,c,d,u,h,p,f){this.deferred=e.defer(),this.postDestroy=u;var m=this;this.initProm=a.then(function(e){m.popupScope=(c||t).$new(),f&&"object"==typeof f&&Object.keys(f).forEach(function(e){m.popupScope[e]=f[e]}),m.popupScope.$wrapperVars=p,m.popupScope.$closePopup=m.close.bind(m),m.popupScope.$cancelPopup=m.destroy.bind(m),m.popupScope.$popupTemplate=l,m.popupElem=n(e)(m.popupScope),s.append(m.popupElem),i(d,{$scope:m.popupScope})}),this.outClickIgnore=h,h||o(function(){m.bindedClickProc=m.destroy.bind(m),r.on("click",m.bindedClickProc),m.bindedKeydownProc=function(e){27===e.which&&m.destroy()},r.on("keydown",m.bindedKeydownProc)})}return s.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.postDestroy(),this.outClickIgnore||(r.off("keydown",this.bindedKeydownProc),r.off("click",this.bindedClickProc));var e=this;this.initProm.then(function(){o(function(){e.popupElem.remove()}),e.popupScope.$destroy(),e.deferred.reject()})}},s.prototype.close=function(e){this.deferred.resolve(e),this.destroy()},s}]),e.module("popup").service("popupService",["$http","$templateCache","Popup","$q",function(e,t,n,i){"use strict";var o={};this.targetAdd=function(e,t){if(o[e])throw new Error("popupService.targetAdd: target name already registered! "+e);o[e]={elem:t}},this.targetRemove=function(e){var t=o[e];if(!t)throw new Error("popupService.targetRemove: target name not registered! "+e);t.popup&&t.popup.destroy(),delete o[e]},this.showPopup=function(r){function s(n){return n.templateWrapper?i.when(n.templateWrapper):e.get(n.templateWrapperUrl||"template-popup-wrapper.html",{cache:t}).then(function(e){return e.data},function(){throw new Error("popupService.showPopup: template load error!")})}function a(){delete l.popup}var l=o[r.target];if(!l)throw new Error("popupService.showPopup: target name not registered! "+r.target);return this.closePopup(r.target),l.popup=new n(l.elem,s(r),r.templateUrl,r.scope,r.controller||new Function,a,r.outClickIgnore,r.wrapperVars,r.locals),l.popup.deferred.promise},this.closePopup=function(e){var t=o[e];if(!t)throw new Error("popupService.closePopup: target name not registered! "+e);t.popup&&t.popup.destroy()},this.isOpenedPopup=function(e){var t=o[e];if(!t)throw new Error("popupService.isOpenedPopup: target name not registered! "+e);return!!t.popup},this.togglePopup=function(e){return this.isOpenedPopup(e.target)?(this.closePopup(e.target),i(function(e,t){t()})):this.showPopup(e)}}])}(angular),!function(e){var t=e.module("web-app",["ngRoute","ngTouch","ngSanitize","ngAnimate","ngStorage","x2js","dynamicStyles","colorUtils","platformPreview","popup","digestLogger","license","common"]).config(["$routeProvider","$locationProvider","$sceDelegateProvider","$httpProvider",function(e,t,n,i){"use strict";try{localStorage.setItem("testString","testString"),localStorage.removeItem("testString")}catch(o){return window.location.replace("/local-storage-error")}e.when("/new-icons/:platform",{templateUrl:"page-latest.html",controller:"LatestCtrl",isLatestPage:!0}).when("/for/:platform/:term",{templateUrl:"page-search.html",controller:"SearchCtrl",isSearchPage:!0}).when("/for/:platform",{redirectTo:function(e){return"/new-icons/"+e.platform}}).when("/category/:category",{templateUrl:"page-single-category.html",controller:"SingleCategoryCtrl",isSingleCategoryPage:!0}).when("/category/:platform/:category",{templateUrl:"page-category.html",controller:"CategoryCtrl",isCategoryPage:!0}).when("/:id/:name",{templateUrl:"view-icon.html",controller:"ViewIconCtrl",isNewIconPage:!0}).otherwise({redirectTo:"/new-icons/all"}),t.hashPrefix("!"),t.html5Mode(!0),i.defaults.useXDomain=!0,i.defaults.withCredentials=!0,i.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",delete i.defaults.headers.common["X-Requested-With"]}]).run(["$rootScope","$location","Search","IconPlatforms","settingsService","SelectedIconService","utils","$http","$q","Icons8Api","IconsCollsModel","$routeParams","$window","PrerenderService",function(e,t,n,i,o,r,s,a,l,c,d,u,h,p){"use strict";!function(){var e=1.53,t=[];if((localStorage.collFormatVersion||0)<e&&d.offline)try{d.colls.forEach(function(e){e.icons.forEach(function(e){if(e.data._platform){var n=l(function(t,n){c.getIcon(e._id,function(n){e.update(n).then(t)})});t.push(n)}})}),l.all(t).then(function(){localStorage.collFormatVersion=e,console.log("Updated icons in collections.")})}catch(n){localStorage.collFormatError=JSON.stringify(n),console.log("Reload icons from server error:",n)}}(),e.$on("$viewContentLoaded",function(){var e="/web-app"+t.path();u.term&&(e+="?q="+u.term.toLowerCase(),u.platform&&(e+="&p="+u.platform.toLowerCase())),u.name&&u.id&&(e="/web-app/unit/"+u.name),h._gaq.push(["_set","page",e]),h._gaq.push(["_trackPageview"])}),e.$watch("search.platform",function(e){o.setPlatform(e)}),e.$on("$routeChangeStart",function(o,a,l){if(s.isMobile)return a.params.platform&&a.params.term?window.location.replace("/icons/#!/for/"+a.params.platform+"/"+a.params.term):a.params.category&&a.$$route.isSingleCategoryPage?window.location.replace("/icons/#!/category/all/"+a.params.category):a.params.platform&&a.params.category?window.location.replace("/icons/#!/category/"+a.params.platform+"/"+a.params.category):a.params.id&&a.params.name?window.location.replace("/icons/#!/"+a.params.id+"/"+a.params.id):window.location.replace("/icons/");var d,u,h=a.params.platform,f=a.params.category;n.category=f,n.categoryTitle=f?f.split("-").join(" "):!1,a.$$route&&a.$$route.isSearchPage&&(d=a.params.term,d||0===d||(d=""),n.term=d,e.search.term=d,d=d.substr(0,1).toUpperCase()+d.substr(1),n.termTitle=d?d.split("-").join(" "):!1),h&&(h in i||(h="all"),n.platform=h,n.platformTitle=i[n.platform].seoTitle,e.search.platform=h),a.params.id&&a.params.name&&(e.toggleRightSidebar("icon"),a.$$route.isNewIconPage||(u=p.wait("right-sidebar-icon"),c.getIcon(a.params.id,function(e){r.loadIcon(e),u()},function(){t.path("/for/all/"+a.params.name),u()}))),a.$$route&&(a.$$route.isLatestPage&&c.getLatest({platform:a.params.platform,amount:"all"===a.params.platform?30:60}),a.$$route.isCategoryPage&&c.getCategory({category:a.params.category?a.params.category.split("-").join(" "):!1,platform:a.params.platform,amount:1e3}),a.$$route.isNewIconPage||a.$$route.isSingleCategoryPage?e.offRightSidebar():e.onRightSidebar())})}]);e.module("web-app").controller("AppPanelCtrl",["$scope","$route","IconPlatforms","Search","WorkingIconService",function(e,t,n,i,o){e.platforms=n,e.workingIcon=o.workingIcon,e.formatList=[],e.formatList=e.formatList.concat(o.rastrList),e.formatList=e.formatList.concat(o.vectorList),e.$watch("Search.platform",function(e,n){e!==n&&t.updateParams({platform:e})})}]),e.module("web-app").controller("CategoryCtrl",["$scope","$routeParams","Search","SEO","IconPlatforms","Icons8Api","LightBox","SelectedIconService","SelectedIcon","app","PrerenderService","config","$timeout","$rootScope","CategoryModel","$window",function(t,n,i,o,r,s,a,l,c,d,u,h,p,f,m,g){"use strict";function v(){function e(e){t.icons=!1,t.iconsError=e,n.category&&(o.statusCode=404),a()}var a=u.wait("category-icons");t.iconsError=!1,s.getCategory({category:t.search.categoryTitle,platform:t.search.platform,amount:1e3},function(u){if("all"==t.search.platform?t.iconSubcategoriesList=m.createSubcategoriesList(u):t.subCategoriesList=m.createIconsSubcategoriesBlocks(u),n.category){var h=location.protocol+"//"+location.host+"/web-app/category/"+n.category;o.set({title:b+" - Icons8",description:w,preview:t.search.categoryPreview,canonical:h})}n.id&&o.set({title:c.icon.title,canonical:location.protocol+"//"+location.host+"/"+d.appUrl+"/"+c.icon._id+"/"+c.icon.name.toLowerCase().split(" ").join("-"),preview:c.icon.preview,description:c.icon.desc}),0===u.length&&"all"!==t.search.platform&&(s.getCategory({category:t.search.categoryTitle,platform:"all",amount:1e3},function(e){!c.icon.svg&&e.length&&l.showIcon(e[0]),t.icons=e;var n='<a href="'+r[i.platform].url+'">icons&nbsp;for&nbsp;'+t.search.platformTitle+"</a>";t.search.categoryDescription="<span>Icons can be in a different style</span>. Although there are no "+t.search.categoryTitle+" "+n+", we’ve got some icons in different styles. ",("android"===t.search.platform||"androidL"===t.search.platform)&&(t.search.categoryDescription+='In most cases, <a href="http://icons8.com/w">Windows&nbsp;8&nbsp;icons</a> are a good substitution for Android.'),a()},function(){e(!0)}),o.statusCode=404),0===u.length&&"all"===t.search.platform&&e(),0!==u.length&&(!c.icon.svg&&u.length&&l.showIcon(u[0]),t.icons=u,g._icons8Analytics.track({event:"Viewed Product Category",properties:{platform:t.search.platform,name:t.search.categoryTitle,category:t.search.categoryTitle,id:0}}),a())},function(){e(!0)})}t.iconPlatforms=r,t.search=i,t.seo=o,t.icons=!1,t.iconsList=[],t.subCategoriesList=[],t.iconsError=!1,t.showUrlTooltipFlag=!1,t.orderBy=["_name","platform.order"],t.rootScope=f;var b=t.search.categoryTitle+" Icons Pack",y=t.search.category.toLowerCase().split("-").join(" ");"Basic"===t.search.category&&(b="Essential Icons Pack",y="essential"),"all"!==t.search.platform&&(b+=" for "+t.search.platformTitle);var w="Free "+y+" icon pack in 5 flat styles. Download in any size, color, and format: SVG, PNG, and as a font. - Icons8";o.set({title:b+" - Icons8",description:w}),t.$watch("search",function(){t.share={shortUrl:t.search.categoryShortUrl.split("://")[1],encodedIconFullUrl:encodeURIComponent(h.baseurl+"/web-app/category/"+t.search.categoryTitle.split(" ").join("-")),shareText:t.search.categoryTitle+" Icons Pack - Icons8"}},!0),t.$watch("search.category",function(){v()}),t.$on("retryFailedRequest",function(){t.iconsError&&v()}),t.toggleUrlTooltip=function(n){n?("input"!=n.target&&(n.preventDefault(),t.showUrlTooltipFlag=t.showUrlTooltipFlag?!1:!0),t.showUrlTooltipFlag&&(_icons8Analytics.track({event:"Shared",properties:{item_id:t.search.category,social_network:"link",item_type:"category"}}),p(function(){var t=$(n.currentTarget).find("input")[0];e.element(t).select()},200))):t.showUrlTooltipFlag=t.showUrlTooltipFlag?!1:!0},t.$on("collection-changed",function(){e.forEach(t.icons,function(e){e.starred=a.isIconExist(e)})}),t.trackShareClick=function(e){_icons8Analytics.track({event:"Shared",properties:{item_id:t.search.category,social_network:e,item_type:"category"}})}}]),e.module("web-app").controller("IconCtrl",["$scope","$routeParams","SelectedIcon","IconService","ModalsService","UserInfo","AppInfo","Icons8Api","SelectedIconService","InsertHtmlService","Search","iconBuilderService","settingsService","popupService","$window","BacklinkRemindService","$location","config","SideBars","LicenseService","IconsCollsModel","CounterService",function(t,n,i,o,r,s,a,l,c,d,u,h,p,f,m,g,v,b,y,w,x,_){"use strict";t.selectedIcon=i,t.userInfo=s,t.search=u,t.settings=p,t.sideBars=y,t.colls=x,t.appInfo=a,t.license=w.ids[a.auth.license.product],a.auth&&a.auth.license&&a.auth.license.upgrade&&(t.newIcons=a.auth.license.upgrade["new-icons"]["@attributes"].total),t.getTrustedSvg=function(e){return o.getTrustedSvg(e)},t.downloadIconFile=function(e){if(m._gaq.push(["_trackEvent","iconPage","download "+p.iconExportFormat.id,"user clicks download "+p.iconExportFormat.id]),e&&e._id){var n=0;"png"==p.iconExportFormat.id&&(n=p.pngExportSize(e._platform)),m._icons8Analytics.track({event:"Downloaded an icon",properties:{id:e._id,name:e._name,size:n,format:p.iconExportFormat.id}});var i=function(e){t.colls.setToDownload(),t.colls.current.addIcon(e._id,e),h.downloadIconFile(e),g.showForIcon(e),_.setDownloadedCounter(t.colls.current.icons.length)};!s.isFreePlanUser()||s.isOfferModalShown()||e.perm.nolink?i(e):s.isFirstLogin?(s.isFirstLogin=!1,i(e)):(_icons8Analytics.track({event:"Attempted to use a paid feature",properties:{"function":"Download PNG",message:"SVG, EPS, PSD, PDF, Fonts, Free Coke! Don't link to us unless you want it",version:"0.1",channel:"web"}}),r.showCustom({template:"template-free-user-download.html",templateParams:{iconSize:p.pngExportSize(),trackPriceEvent:function(e){e.preventDefault(),_icons8Analytics.track({event:"Clicked Check Pricing",properties:{"function":"Download PNG",message:"SVG, EPS, PSD, PDF, Fonts, Free Coke! Don't link to us unless you want it",version:"0.1",channel:"web"},callback:function(){s.setOfferModalShown(!0),window.location=e.currentTarget.href}})}},actions:!1,wide:!0,animate:"opacity"},function(){s.setOfferModalShown(!0),i(e)}))}},t.showSharePopup=function(){m._gaq.push(["_trackEvent","iconPage","share icon","user clicks share icon"]),f.togglePopup({target:"sharePopup",templateUrl:"template-share-icon.html",wrapperVars:{classList:"i8-popup-wrapper--share"},controller:"ShareIconCtrl",scope:t})},t.isGenerateHtmlButtonDisabled=function(){var e=i.icon,t=p.iconExportFormat.id;return"eps"==t||"pdf"==t||!e.available||e.imported},t.isDownloadButtonDisabled=function(){var e=i.icon,t=p.iconExportFormat.id,n=e.vector||{};return"eps"==t&&!n.eps||"pdf"==t&&!n.pdf||!e.available},t.isRenewSubscriptionButtonDisabled=function(){var e=i.icon;return e.available},t.isSingleButton=function(){return!t.isRenewSubscriptionButtonDisabled()||t.isGenerateHtmlButtonDisabled},t.recolor={showColors:!1,toggleColors:function(e){var n=$(e.target);n.hasClass("off-click-recolor")&&(t.recolor.showColors=!t.recolor.showColors)},hideColors:function(){t.recolor.showColors=!1}},t.insert={show:function(){m._gaq.push(["_trackEvent","iconPage","insert html","user clicks insert html"]),d.configInsert(),r.showCustom({template:"template-insert-html.html",actions:!1})}},t.share={show:function(){r.showCustom({template:"template-share-icon.html",actions:!1})}},t["import"]={inProgress:!1,importIcons:function(n){m._gaq.push(["_trackEvent","iconPage","import icons","user import own icons"]),t["import"].inProgress=!0,l.importIcons(n,function(n){e.forEach(n,function(e){i.icon=e}),t["import"].inProgress=!1},function(e){r.show("Oops","Something goes wrong. We are already working on it."),t["import"].inProgress=!1})}},t.showIcon=function(e){c.showIcon(e)},t.$watch("selectedIcon",function(){t.selectedIcon.icon._name&&(t.fullIconUrl=b.baseurl+"/web-app/"+t.selectedIcon.icon._id+"/"+t.selectedIcon.icon._name.toLowerCase().split(" ").join("-"),t.encodedIconFullUrl=encodeURIComponent(t.fullIconUrl)),t.selectedIcon.icon.share&&t.selectedIcon.icon.share.shortLink?t.iconUrl=t.selectedIcon.icon.share.shortLink:t.iconUrl="ic8.link/"+t.selectedIcon.icon._id,t.iconUrl.indexOf("http://")<=-1&&(t.iconUrl="http://"+t.iconUrl),t.encodedIconUrl=encodeURIComponent(t.iconUrl)},!0),t.gotoFullIcon=function(e){e.preventDefault(),v.path("/"+t.selectedIcon.icon._id+"/"+t.selectedIcon.icon._name.split(" ").join("-").toLowerCase())},t.trackShareClick=function(e){_icons8Analytics.track({event:"Shared",properties:{item_id:t.selectedIcon.icon._name,social_network:e,item_type:"icon"}})}}]),e.module("web-app").controller("IconSetCtrl",["$scope","IconService","SelectedIconService","SelectedIcon","LightBox","SideBars","IconsCollsModel",function(e,t,n,i,o,r,s){e.sideBars=r,e.getTrustedSvg=function(e){return t.getTrustedSvg(e)},e.colls=s,e.iconAction=function(t,n){n.preventDefault(),"light-box"===r.right.template?e.colls.current.toggleIcon(t._id,t):e.showIcon(t)},e.toggleInLightBox=function(e){o.isIconExist(e)?o.removeIcon(e):o.addIcon(e)},e.showIcon=function(e){n.showIcon(e)},e.iconIsSelected=function(e){return"icon"===r.right.template&&e.selected},e.iconIsSelectedByColl=function(e){return"light-box"===r.right.template&&!!s.current&&!!s.current.findIcon(e._id)}}]),e.module("web-app").controller("InsertHtmlCtrl",["$scope","$sce","SelectedIcon","IconsColor","InsertHtmlService","$window",function(e,t,n,i,o,r){e.selectedIcon=n,e.insert=o,r._icons8Analytics.track({event:"Generated HTML",properties:{size:0,format:"none",id:e.selectedIcon.icon.id}})}]),e.module("web-app").controller("LatestCtrl",["$scope","$rootScope","Icons8Api","LightBox","Search","SelectedIconService","SelectedIcon","SEO","PrerenderService",function(t,n,i,o,r,s,a,l,c){"use strict";function d(){var e=60,n=c.wait("latest-icons");"all"===t.search.platform&&(e=30),t.iconsError=!1,i.getLatest({platform:t.search.platform,amount:e},function(e){t.icons=e,!a.icon.svg&&e.length&&s.showIcon(e[0]),n()},function(){t.icons=!1,t.iconsError=!0,n()})}t.search=r,t.seo=l,t.icons=!1,t.iconsError=!1,t.orderBy="platform.order";var u,h;switch(t.search.platform){case"all":t.header="New Icons",u=app.iconsCount+" Icons - Free Download | Icons8";break;case"ios7":t.header="New Icons for iOS 9",u=app.iconsCounts.ios7+" Icons for iOS 9 | Icons8";break;case"win8":t.header="New Icons for Windows 8",u=app.iconsCounts.win8+" Icons for Windows 8 | Icons8";break;case"win10":t.header="New Icons for Windows 10",u=app.iconsCounts.win10+" Icons for Windows 10 | Icons8";break;case"android":t.header="New Icons for Android 4",u=app.iconsCounts.android+" Icons for Android 4 | Icons8";break;case"androidL":t.header="New Icons for Android 5 Lollipop",u=app.iconsCounts.androidL+" Icons for Android 5 Lollipop | Icons8";break;case"color":t.header="New Flat Color Icons",u=app.iconsCounts.color+" Flat Color Icons | Icons8";break;default:t.header="New Icons",u=app.iconsCount+" Icons - Free Download | Icons8"}h="The largest icon pack of free icons for Windows8, Windows10, iOS 9, Android 4, Android 5 Lollipop. Save in any size, color, and format in 20 seconds.",l.set({title:u,description:h}),d(),t.$on("retryFailedRequest",function(){t.iconsError&&d()}),t.$on("collection-changed",function(){e.forEach(t.icons,function(e){e.starred=o.isIconExist(e)})})}]),e.module("web-app").controller("LeftSideBarCtrl",["$scope","$route","$routeParams","$location","Icons8Api","IconPlatforms","Search","$filter","PrerenderService","CategoryModel","UserInfo",function(t,n,i,o,r,s,a,l,c,d,u){function h(){var n=c.wait("category-list");t.categoryListError=!1,r.getCategoryList({platform:t.search.platform},function(i){var o,r=[];for(e.forEach(i,function(e){d.prepare(e)}),o=0;o<i.length;o++)i[o].content.perm.vector&&Array.prototype.push.apply(r,i.splice(o--,1));t.categoryList=i,t.categoryPrependList=r,n()},function(){t.categoryList=[],t.categoryPrependList=[],t.categoryListError=!0,n()})}t.search=a,t.platforms=s,t.categoryList=!1,t.categoryListError=!1,h(),t.platformUrl="new-icons";var p=!1;t.$on("$routeChangeSuccess",function(e,n,i){n.$$route&&(p=n.$$route,p.isNewIconPage&&(t.platformUrl="new-icons"),p.isLatestPage&&(t.platformUrl="new-icons"),p.isSearchPage&&(t.platformUrl="for"),p.isCategoryPage&&(t.platformUrl="category"))}),t.$on("retryFailedRequest",function(){t.categoryListError&&h()}),t.platformClick=function(e,n){n&&n.preventDefault(),t.search.platform=e.name,p.isNewIconPage&&o.path("/new-icons/"+e.name)},t.$watch("search.platform",function(e,o){e!==o&&h(),i.platform&&n.updateParams({platform:t.search.platform})})}]),e.module("web-app").controller("LightBoxCollectionsCtrl",["$scope","$rootScope","LightBox","ModalsService","IconsCollsModel",function(e,t,n,i,o){e.lightBox=n,e.collections=n.factory.collections,e.currentCollection=n.factory.collections[n.factory.current],e.lightBoxSelectedId=n.factory.current,e.collectionList=[],e.needRemoveButton=function(){var e=n.factory.collections[n.factory.current];return e.icons.some(function(e){return e.selected})},e.$watch("lightBoxSelectedId",function(n,i){n!==i&&(e.lightBox.factory.current=e.lightBoxSelectedId,t.$broadcast("collection-changed",e.lightBoxSelectedId))}),e.createFirstCollection=function(){n.factory.collections[n.factory.current].name="My Collection"},e.collectionMenu=!1,e.collectionMenuEdit=!1,e.hideCollectionsMenu=function(){e.collectionMenu=!1,e.collectionMenuEdit=!1},e.toggleCollectionsMenu=function(t){var n=$(t.target);(n.hasClass("collection-toggle")||n.parent().hasClass("collection-toggle"))&&(e.collectionMenu=!e.collectionMenu,e.collectionMenuEdit=!1)},e.newCollection={input:"",creating:!1,startCreating:function(){e.newCollection.creating=!0,setTimeout(function(){$(".collection-name-input").focus()},0)},stopCreating:function(){e.newCollection.creating=!1},keyUp:function(t){13===t.keyCode&&(n.addCollection(e.newCollection.input),e.newCollection.input="",e.newCollection.creating=!1,e.selectCollection(n.factory.collections.length-1))}},e.rename={index:-1,input:"",renaming:!1,startRenaming:function(t){e.rename.index=t,e.rename.renaming=!0,e.rename.input=n.factory.collections[e.rename.index].name,setTimeout(function(){$(".collection-name-input").focus()},0)},stopRenaming:function(){e.rename.renaming=!1,e.rename.index=-1},keyUp:function(t){13===t.keyCode&&(n.factory.collections[e.rename.index].name=e.rename.input,e.rename.input="",e.rename.renaming=!1)}},e.clearCollection=function(){n.factory.collections[n.factory.current].icons.length>0&&i.show("Info","Current collection will be cleared. Continue?",function(){e.lightBox.clearIcons(),t.$broadcast("collection-changed",n.factory.current)})},e.removeCollectionIcons=function(){i.show("Info","Selected icons will be removed from current collection. Continue?",function(){e.currentCollection.icons=e.currentCollection.icons.filter(function(e){return e.selected?(e.selected=!1,!1):!0}),t.$broadcast("collection-changed",n.factory.current)})},e.removeCollection=function(e){i.show("Info","This collection will be removed. Continue?",function(){n.removeCollection(e),t.$broadcast("collection-changed",n.factory.current)})},e.selectCollection=function(t){e.lightBoxSelectedId=t,e.hideCollectionsMenu()}}]),e.module("web-app").controller("LoginCtrl",["$scope",function(e){}]),e.module("web-app").controller("NavCtrl",["$scope","ModalsService",function(e,t){e.showLogin=function(){t.showCustom({template:"template-login.html",actions:!1})}}]),e.module("web-app").controller("RightSideBarCtrl",["$scope","LightBox","UserInfo","IconService","Icons8Api","$timeout","ModalsService","$sce","popupService","IconsColor","GenerateFontService","settingsService","iconBuilderService","IconsCollsModel","$window","BacklinkRemindService","IconSetService","$location","$filter","stringFormat","AppInfo",function(t,n,i,o,r,s,a,l,c,d,u,h,p,f,m,g,v,b,y,w,x){"use strict";function _(e){return e?y("date")(i.license.expiry,e):i.license.expiry}t.settings=h,t.colls=f,t.appInfo=x,t.isFirefox=navigator.userAgent.indexOf("Firefox")>-1,t.addIcon=function(e){t.colls.current.addIcon(e._id,e)},t.svgToHtml=function(e){return l.trustAsHtml(e)},t.showIconDetails=function(e){b.path("/"+e.data._id+"/"+e.data._name.toLowerCase().split(" ").join("-"))},t.showCollectionsList=function(){c.togglePopup({target:"collectionsList",templateUrl:"template-collections-list.html",wrapperVars:{style:"width: 300px; margin-left: 10px; padding: 0.7rem 1rem;"},controller:"collectionsList",scope:t})},t.createCollection=function(){m._gaq.push(["_trackEvent","lightBoxPage","create first collection","user clicks create first collection"]),c.togglePopup({target:"firstCollection",templateUrl:"template-collection-create.html",wrapperVars:{style:"left: 5px;"}}).then(function(e){t.colls.current.update({name:e})})},t.iconBuilderService=p,t.lightBoxIcons=n.factory.collections[n.factory.current],t.iconsStyleCount=8,t.userInfo=i,t.color=d,t.font=u,t.iconSet=v,t.selectIcon=function(e){e.selected=!e.selected},t.recolor={showColors:!1,toggleColors:function(e){var n=$(e.target);n.hasClass("off-click-recolor")&&(t.recolor.showColors=!t.recolor.showColors),t.recolor.showColors&&m._icons8Analytics.track({event:"Recolored",properties:{channel:"web"}})},hideColors:function(){t.recolor.showColors=!1}},t.getTrustedSvg=function(e){return o.getTrustedSvg(e)},t.$on("collection-changed",function(e,i){t.lightBoxIcons=n.factory.collections[i]}),t["import"]={inProgress:!1,importIcons:function(n){m._gaq.push(["_trackEvent","lightBoxPage","import icons","user import own icons"]),t["import"].inProgress=!0,r.importIcons(n,function(n){e.forEach(n,function(e){f.current.addIcon(e._id,e)}),t["import"].inProgress=!1},function(e){a.show("Oops","Something goes wrong. We are already working on it."),t["import"].inProgress=!1})}},t.downloadIconsFont=function(){var e,t,n,i,o;m._gaq.push(["_trackEvent","lightBoxPage","download font","user clicks generate font"]),f.current.updateIconsInCollection(function(){e=f.current.icons.map(function(e){return e.data}),t=f.current.name===f.defaultCollName?"Icons8":f.current.name,n=e.length,e=e.filter(function(e){return!e.colored}),i=n-e.length>0,n=e.length,e=e.filter(function(e){return!e.expired||e.perm.vector}),o=n-e.length>0,u.checkRights(e)?(o?c.togglePopup({target:"generate-font",templateUrl:"template-unlock-all-icons-popup.html",wrapperVars:{classList:"i8-popup-wrapper--top",style:"margin-bottom: -40px; width: 270px;"},locals:{title:"Some Icons Are Excluded",message:w(i?"We've excluded two kinds of icons: colored and those created after {0}.":"Some icons were created after {0}, when your license expired. We had to exclude them from the font.",_("MMM d, yyyy"))}}):i&&c.togglePopup({target:"generate-font",templateUrl:"template-ok-popup.html",wrapperVars:{classList:"i8-popup-wrapper--top",style:"margin-bottom: -40px; width: 270px;"},locals:{title:"Color Icons Are Excluded",message:"Fonts don't support colors. Please find similar monochrome icons."}}),e.length&&(u.generate(t,e),m._icons8Analytics.track({event:"Generated a Font",properties:{number_of_icons:e.length}}))):c.togglePopup({target:"generate-font",templateUrl:"template-see-pricing-popup.html",wrapperVars:{classList:"i8-popup-wrapper--top",style:"margin-bottom: -40px; width: 270px;"},locals:{title:"Unlock SVG",message:"A paid license includes the unlimited use of icons within a company without providing credit and the vector source files."}})})},t.downloadSVGSet=function(){var e,t,n,i;m._gaq.push(["_trackEvent","lightBoxPage","download svg set","user clicks generate svg set"]),f.current.updateIconsInCollection(function(){e=f.current.icons.map(function(e){return e.data}),t=f.current.name===f.defaultCollName?"Icons8":f.current.name,n=e.length,e=e.filter(function(e){return!e.expired||e.perm.vector}),i=n-e.length>0,v.checkRights(e)?(i&&c.togglePopup({target:"generate-svgset",templateUrl:"template-unlock-all-icons-popup.html",wrapperVars:{classList:"i8-popup-wrapper--top-right",style:"margin-bottom: -40px; width: 270px; margin-right: 50px;"},locals:{title:"Some Icons Are Excluded",message:w("Some icons were created after {0}, when your license expired. We had to exclude them from the SVG set.",_("MMM d, yyyy"))}}),e.length&&v.generate(t,e)):c.togglePopup({target:"generate-svgset",templateUrl:"template-see-pricing-popup.html",wrapperVars:{classList:"i8-popup-wrapper--top-right",style:"margin-bottom: -40px; width: 270px; margin-right: 50px;"},locals:{title:"Unlock SVG",message:"A paid license includes the unlimited use of icons within a company without providing credit and the vector source files."}})})},t.downloadIconsCollection=function(){var e,t,n,i,o;m._gaq.push(["_trackEvent","lightBoxPage","download "+h.iconExportFormat.id,"user clicks download "+h.iconExportFormat.id]),f.current.updateIconsInCollection(function(){e=f.current.icons.map(function(e){return e.data}),t=e.length,e=e.filter(function(e){return e.available}),n=t-e.length>0,i=!1,-1==["png","svg"].indexOf(h.iconExportFormat.id)&&(t=e.length,e=e.filter(function(e){return!e.imported}),i=t-e.length>0),o=f.current.name===f.defaultCollName?"Icons8":f.current.name,n?c.togglePopup({target:"download-collection",templateUrl:"template-unlock-all-icons-popup.html",wrapperVars:{classList:"i8-popup-wrapper--top",style:"margin-bottom: 10px; width: 270px;"},locals:{title:"Some Icons Are Excluded",message:w(i?"We've excluded two kinds of icons: your own SVG and those created after {0}.":"Some icons were created after {0}, when your license expired. We had to exclude them from the download.",_("MMM d, yyyy"))}}):i&&c.togglePopup({target:"download-collection",templateUrl:"template-unlock-all-icons-popup.html",wrapperVars:{classList:"i8-popup-wrapper--top",style:"margin-bottom: 10px; width: 270px;"
},locals:{title:"Some Icons Are Excluded",message:w("We've excluded your own SVG from the download.",_("MMM d, yyyy"))}}),e.length&&(m._icons8Analytics.track({event:"Downloaded a collection",properties:{number_of_icons:e.length}}),p.downloadCollectionFile(o,e),g.showForIcons(e))})},t.hasAvailableIcons=function(){var e,t;for(e=f.current.icons,t=0;t<e.length;t++)if(e[t].data.available)return!0;return!1},t.isDownloadCollectionButtonInactive=function(){var e,t;if(-1!=["png","svg"].indexOf(h.iconExportFormat.id))return!1;for(e=f.current.icons,t=0;t<e.length;t++)if(!e[t].data.imported)return!1;return!0},t.isSelectedIcons=function(){return f.current&&f.current.icons.some(function(e){return e.selected})},t.removeSelectedIcons=function(){a.show("Info","Selected icons will be removed from current collection. Continue?",function(){function e(){var n=t.pop();n&&n.remove().then(e)}var t=[];f.current.icons.forEach(function(e){e.selected&&t.push(e)}),e()})}}]),e.module("web-app").controller("RootCtrl",["$rootScope","$location","$window","$timeout","$document","Icons8Api","IconService","LightBox","Modal","SideBars","WorkingIconService","IconPlatforms","UserInfo","settingsService","iconBuilderService","IconsColor","Search","SEO","CounterService",function(e,t,n,i,o,r,s,a,l,c,d,u,h,p,f,m,g,v,b){e.fontShortcut={open:function(){c.right.template="light-box",a.factory.collections[a.factory.current].icons.length&&(e.fontShortcut.flag=!0)},close:function(){e.fontShortcut.flag=!1},need:function(){return"icon"===c.right.template},hint:function(){return"light-box"===c.right.template&&e.fontShortcut.flag}},e.isNewIconPage=!1,e.isSingleCategoryPage=!1,e.isCategoryPage=!1,e.counters=b,e.$on("$routeChangeSuccess",function(t,n,i){n.$$route&&(n.$$route.isNewIconPage?e.isNewIconPage=!0:e.isNewIconPage=!1,n.$$route.isSingleCategoryPage?e.isSingleCategoryPage=!0:e.isSingleCategoryPage=!1,n.$$route.isCategoryPage?e.isCategoryPage=!0:e.isCategoryPage=!1)}),e.iconService=s,e.LightBox=a,e.$on("LightBox.currentCollection.length",function(t){t&&(e.fontShortcut.flag=!1)}),e.$watch("sideBars.right.template",function(t){"icon"===t&&(e.fontShortcut.flag=!1)}),e.$watch("sideBars.right.active",function(t){t||(e.fontShortcut.flag=!1)}),e.seo=v,e.IconsColor=m,e.$watch("IconsColor.color",function(e){p.setIconsColor(e)}),e.appUrl=app.appUrl,e.appHost=location.protocol+"//"+location.host,e.modal=l,e.sideBars=c,e.toggleLeftSidebar=function(){e.sideBars.left.active=!e.sideBars.left.active},e.toggleRightSidebar=function(t){e.sideBars.right.template=t,e.sideBars.right.active=!0},e.offRightSidebar=function(){e.sideBars.right.active=!1},e.onRightSidebar=function(){e.sideBars.right.active=!0},e.login=function(e,t){location.href=h.loginUrl+getRedirectUrl(t),e&&e.preventDefault()},e.promoCode=function(){var e=(t.search()||{}).promo;return e?"?promo="+encodeURIComponent(e):""};var y;e.search={term:g.term,terms:[],showTerms:!1,selectIndex:-1,platform:"all",platformFullName:!1,setPlatform:function(e){this.platform=e,this.platformFullName=!1,"ios7"===e&&(this.platformFullName="iPhone/iOS 7"),"win8"===e&&(this.platformFullName="Windows 8/Metro"),"win10"===e&&(this.platformFullName="Windows 10/Threshold"),"android"===e&&(this.platformFullName="Android Kitkat"),"androidL"===e&&(this.platformFullName="Android Lollipop"),"color"===e&&(this.platformFullName="Color")},search:function(n,i){i&&(e.search.term=i),e.search.term&&(e.search.showTerms=!1,e.search.selectIndex=-1,t.path("/for/"+e.search.platform+"/"+e.search.term)),n&&n.preventDefault()},hideTerms:function(){e.search.showTerms=!1},doSearch:function(){n._icons8Analytics.track({event:"Searched",properties:{query:e.search.term,channel:"web",version:"1.0",from:"web app"}}),-1===e.search.selectIndex?e.search.search(null,e.search.term):e.search.search(null,e.search.terms[e.search.selectIndex]),e.search.terms=[]},keyUp:function(t){switch(i.cancel(y),t.keyCode){case 13:return void e.search.doSearch();case 40:return t.preventDefault(),void(e.search.terms&&e.search.terms.length?(e.search.selectIndex+=1,e.search.selectIndex>=e.search.terms.length&&(e.search.selectIndex=0)):e.search.selectIndex=-1);case 38:return t.preventDefault(),void(e.search.terms&&e.search.terms.length?(e.search.selectIndex-=1,e.search.selectIndex<0&&(e.search.selectIndex=e.search.terms.length-1)):e.search.selectIndex=-1)}y=i(function(){e.search.showTerms=!0,e.search.term?r.getSuggest({term:e.search.term,platform:e.search.platform,amount:5},function(t,n){e.search.terms=t.concat(n)}):e.search.terms=[]},300)}}}]),e.module("web-app").controller("SearchCtrl",["$scope","Search","SEO","Icons8Api","LightBox","SelectedIconService","SelectedIcon","PrerenderService","IconPlatforms","$window",function(t,n,i,o,r,s,a,l,c,d){"use strict";function u(){function e(e){t.icons=[],t.iconsError=e,i.statusCode=404,d._icons8Analytics.track({event:"Nothing found",properties:{channel:"web",query:t.search.term}}),r()}var r=l.wait("search-icons");t.iconsError=!1,o.search({term:t.search.term,platform:t.search.platform,amount:100},function(i){!a.icon.svg&&i.length&&s.showIcon(i[0]),0===i.length&&"all"!==t.search.platform&&o.search({term:t.search.term,platform:"all",amount:100},function(i){if(!a.icon.svg&&i.length&&s.showIcon(i[0]),0===i.length)e();else{t.icons=i;var o='<a href="'+c[n.platform].url+'">icons&nbsp;for&nbsp;'+t.search.platformTitle+"</a>";t.additionalMsg="<span>Icons can be in a different style</span>. Although there are no "+t.search.term+" "+o+", we’ve got some icons in different styles. ",("android"===t.search.platform||"androidL"===t.search.platform)&&(t.additionalMsg+='In most cases, <a href="/w">Windows&nbsp;8&nbsp;icons</a> are a good substitution for Android.'),r()}},function(){e(!0)}),0===i.length&&"all"===t.search.platform&&e(),0!==i.length&&(t.icons=i,r())},function(){e(!0)})}t.search=n,t.seo=i,t.icons=!1,t.iconsError=!1,t.additionalMsg="",t.orderBy=!1;var h=t.search.termTitle+" Icons for "+t.search.platformTitle+" - Icons8",p="Free vector icons for "+t.search.termTitle+". Download in PNG and SVG format.";"all"===t.search.platform&&(h=t.search.termTitle+" Icons - Download for Free at Icons8"),i.set({title:h,description:p}),u(),t.$on("retryFailedRequest",function(){t.iconsError&&u()}),t.$on("collection-changed",function(){e.forEach(t.icons,function(e){e.starred=r.isIconExist(e)})})}]),e.module("web-app").controller("ShareIconCtrl",["$scope","$rootScope","$location","SelectedIcon",function(e,t,n,i){e.selectedIcon=i,e.$watch("selectedIcon.icon",function(){e.iconUrl="http://ic8.link/"+i.icon._id,e.encodedIconUrl=encodeURIComponent(e.iconUrl)})}]),e.module("web-app").controller("SingleCategoryCtrl",["$scope","$routeParams","Search","settingsService","config","$window","SEO","Icons8Api","PrerenderService","$location","IconService","$filter","SelectedIconService","$anchorScroll","$timeout","CategoryModel",function(t,n,i,o,r,s,a,l,c,d,u,h,p,f,m,g){"use strict";var v=$(".c-likely");v.socialLikes().on("popup_opened.social-likes",function(e,t){_icons8Analytics&&_icons8Analytics.track({event:"Shared",properties:{item_id:i.category,social_network:t,item_type:"category"}})});var b=function(){w.length>t.category.description.length&&(t.category.description=w)};t.search=i,t.settings=o,t.isPrerender=c.isPrerender(),t.iconsList=[],t.allReady=!1,t.shareLink="ic8.link/"+n.category.toLowerCase(),t.disqus={ready:!1};var y=e.element(".b-share-icon-input");y.css("width",t.shareLink.length+1+"ex"),t.category={name:n.category,nameSpaces:n.category.split("-").join(" "),title:i.categoryTitle+" Icons",description:i.categoryDescription,story:i.categoryStory,twitterTitle:i.categoryTitle+" Icons - Free Download at Icons8"};var w="Below are the flat icons belonging to the "+t.category.nameSpaces+' category. Each icon is available in multiple formats: PNG, SVG, PDF, XAML, and as a font. Please feel free to download PNG icons up to 100x100 px for free, or <a class="c-pretty-link" href="/paid-license-99/">unlock</a> other formats.';b();var x=c.wait("single-category-page");t.getTrustedSvg=function(e){return u.getTrustedSvg(e)},l.getCategoryV2({category:t.category.name.split("-").join(" "),amount:1e3},function(e){e.forEach(function(e){e.readySvg=t.getTrustedSvg(e),e.categoryUrl=r.baseurl+"/web-app/category/"+e.platform.name+"/"+e.category}),t.iconsList=g.createIconsBlock(e),a.set({title:i.categoryTitle+" Icons - Free Download at Icons8",description:"Free "+i.categoryTitle.toLowerCase()+" icons in 5 flat styles. Download in any size, color, and format: SVG, PNG, and as a font. - Icons8",preview:i.categoryPreview}),t.allReady=!0,t.disqus={url:d.absUrl(),identifier:d.absUrl().split("//")[1],shortname:r.disqus_shortname,title:i.categoryTitle+" Icons - Icons8",ready:!0},x(),d.hash()&&m(function(){f()},10)},function(){n.category&&(a.statusCode=404),x()}),t.$watch("search",function(){t.category.title=i.categoryTitle+" Icons",t.category.twitterTitle=i.categoryTitle+" Icons - Free Download at Icons8",t.category.description=i.categoryDescription,b(),t.category.story=i.categoryStory,i.categoryShortUrl.indexOf("http:")>-1?t.shareLink=i.categoryShortUrl.split("//")[1]:t.shareLink=i.categoryShortUrl;var n=e.element(".b-share-icon-input");n.css("width",t.shareLink.length+1+"ex"),v.socialLikes({title:t.category.twitterTitle})},!0),t.selectIcon=function(e){p.showIcon(e)}}]),e.module("web-app").controller("ToastsCtrl",["$scope","ToastsQueue",function(e,t){e.toasts=t}]),e.module("web-app").controller("ViewIconCtrl",["$scope","$rootScope","$sce","$location","$http","$routeParams","$window","colorUtils","dynamicStyles","x2js","Icons8Api","IconService","iconBuilderService","BacklinkRemindService","InsertHtmlService","ModalsService","SelectedIcon","Search","settingsService","IconsColor","config","$filter","$timeout","$animate","PrerenderService","SEO","$anchorScroll","UserInfo",function(t,n,i,o,r,s,a,l,c,d,u,h,p,f,m,g,v,b,y,w,x,_,k,S,C,I,E,P){"use strict";t.mainID=s.id,t.search=b,t.settings=y,t.seo=I,t.showColors=!1,t.showInspired=!1,t.isPrerender=C.isPrerender(),t.platforms=[],t.iconsList=[],t.iconTags=[],t.allReady=!1,t.hasFilled=!1,t.disqus={thread_url:"",thread_identifier:"",shortname:x.disqus_shortname,ready:!1},t.toTrusted=function(e){return i.trustAsHtml(e)},t.getTrustedSvg=function(e){return h.getTrustedSvg(e)},t.chooseSidebarIcon=function(n){if(n!=t.mainIcon){var i=e.element(".b-main-icon");t.mainIcon=n,I.set({title:n.titleLong,preview:n.preview,previewTwitter:n.previewTwitter,description:n.desc,canonical:n.url,url:n.url}),e.forEach(t.iconsList,function(e){e.selected=n.filled&&"ios7"==e.platform_code}),e.forEach(t.platforms,function(e){e.active=n.filled&&"ios7"==e.apiTitle}),S.addClass(i,"inactive"),k(function(){v.icon=n,n.selected=!0,t.mainIcon.iconUrl="http://ic8.link/"+t.mainIcon.id,t.mainIcon.encodedIconUrl=encodeURIComponent(t.mainIcon.iconUrl),t.mainIcon.encodedIconFullUrl=encodeURIComponent(x.baseurl+"/web-app/"+n.id+"/"+n._name.toLowerCase().split(" ").join("-")),t.relatedText='Related icons are the icons with matching tags, as well as <a class="c-pretty-link" href="'+x.baseurl+"/web-app/category/"+_("urlize")(t.mainIcon.category)+'">all '+e.lowercase(t.mainIcon.category)+' icons</a>. All icons are in the same flat style. You can either download free PNG icons or <a class="c-pretty-link" href="//icons8.com/paid-license-99/">buy SVG vectors</a>.',S.removeClass(i,"inactive")},120)}};var T,B,A,z,L=C.wait("view-icon-page");u.getIconV2(s.id,{format:"json",info:"enabled"},function(i){T=i.url,B=T.split("//")[1],z=i.url.split("/")[i.url.split("/").length-2];var r=!1,s=i.id;if(t.iconTags=i.tags,i.request&&(t.showInspired=i.request),i.story&&(t.iconStory=i.story),e.forEach(i.variants,function(e){h.configIcon(e),e.readySvg=t.getTrustedSvg(e),e.iconFullUrl=x.baseurl+"/web-app/"+e.id+"/"+e._name.toLowerCase().split(" ").join("-"),e.selected=!1,z==e.id&&(A=e);var n={title:e.platform.title,apiTitle:e.platform_code,iconId:e.id,active:!1,isFilled:!1};"ios7"==e.platform_code&&(n.order=1,e.order=1),"win8"==e.platform_code&&(n.order=2,e.order=2),"win10"==e.platform_code&&(n.order=3,e.order=3),"android"==e.platform_code&&(n.order=4,e.order=4),"androidL"==e.platform_code&&(n.order=5,e.order=5),t.iconsList.push(e),e.filled&&(t.hasFilled=e,n.isFilled=!0),t.mainID==e.id?(t.chooseSidebarIcon(e),n.active=!0,r=!0):e.id==s&&(t.chooseSidebarIcon(e),n.active=!0,r=!0),t.platforms.push(n)}),r||t.chooseSidebarIcon(A),t.disqus.identifier=B,t.disqus.url=T,t.disqus.thread_url=T,t.disqus.thread_identifier=B,t.disqus.title=n.seo.title,t.disqus.ready=!0,i.description&&i.description.length>0)t.mainSubtitleText=i.description;else switch(A.id%4){case 0:t.mainSubtitleText='This icon is a part of a collection of <a href="/" class="c-pretty-link">'+app.iconsCount+" flat icons</a> produced by Icons8. Icons follow the guidelines of iOS, Windows, and Android and are designed by a single designer, guaranteeing the consistent quality.";break;case 1:t.mainSubtitleText="This page shows the different variations of the "+A._name+" from an Icons8 icon pack. Feel free to resize and recolor the icon, and then download the icon in PNG format for free.";break;case 2:t.mainSubtitleText=A._name+" and other "+app.iconsCount+" icons from Icons8 icon pack follow the visual guidelines of the operating systems: Windows, iOS, Android KitKat, and Android Lollipop. PNG format is free up to 100x100 px.";break;case 3:t.mainSubtitleText="This page contains the "+A._name+" vector icon, as well as variations of this icon in different visual styles, and related icons. All icons are in the flat vector style, however, differ by the line thickness, fill, and corner radius.";break;default:t.mainSubtitleText="This icon is a part of a collection of "+app.iconsCount+" flat icons produced by Icons8. Icons follow the guidelines of iOS, Windows, and Android and are designed by a single designer, guaranteeing the consistent quality."}var l=!1;e.forEach(t.platforms,function(e){e.active?l=!0:t.hasFilled&&t.mainIcon.id==t.hasFilled.id&&"ios7"==e.apiTitle&&(e.active=!0,l=!0)}),l||(t.platforms[0].active=!0),t.allReady=!0,o.hash()&&k(function(){E()},10),a._icons8Analytics.page({name:"Product Page",properties:{id:t.mainIcon.id,icon_name:t.mainIcon.name,category:t.mainIcon.category,platform:t.mainIcon._platform}}),a._icons8Analytics.track({event:"Viewed Product",properties:{id:t.mainIcon.id,sku:t.mainIcon.id,name:t.mainIcon.name,category:t.mainIcon.category,icon_pack:""}}),L()},function(){var e;try{e=s.name}catch(t){e=""}C.httpStatusCode(404),L(),o.path("/for/all/"+e)}),t.colors=[{hex:"#000000",className:"m-black"},{hex:"#7ed321",className:"m-green"},{hex:"#ff2900",className:"m-red"},{hex:"#ffbe00",className:"m-orange"},{hex:"#ce7eea",className:"m-purple"}],t.changeColor=function(e){t.setIconsColor(e),t.showColors=!1},t.setIconsColor=function(e){var n;l.isValidColor(e)&&(n=l.isColorTooLight(e)?"#4A4A4A":"none",c.createSheet().add(".b-main-icon svg","fill: "+e+" !important",0).add(".b-main-icon > div:not(.m-color-icon)","background: "+n+" !important",1).add(".b-side-icons svg","fill: "+e+" !important",2).add(".b-side-icons > div > a > div:not(.m-color-icon)","background: "+n+" !important",3).add(".b-category-icons svg","fill: "+e+" !important",4).add(".b-category-icons > a > div.icons-set__icon-svg:not(.m-color-icon)","background: "+n+" !important",5)),t.colorPicker.currentColor=e},t.colorPicker={currentColor:"#000000",showColors:!1,toggleColorPicker:function(e){var n=$(e.currentTarget),i=$(e.target);n[0].contains(e.target)&&i.hasClass("m-picker")&&(t.colors.forEach(function(e){e.active=!1}),t.colorPicker.showColors=!t.colorPicker.showColors,t.colorPicker.active=!t.colorPicker.active,t.colorPicker.showColors&&a._icons8Analytics.track({event:"Recolored",properties:{channel:"web"}}))},hideColorPicker:function(){t.colorPicker.showColors=!1,t.colorPicker.active=!1,t.$apply()},setColor:function(e){t.setIconsColor(e)}},t.changeColor(w.color),t.toggleFiller=function(){var n=!0;e.forEach(t.iconsList,function(e){n&&"ios7"==e.platform_code&&e.id!=t.mainIcon.id&&(t.chooseSidebarIcon(e),n=!1)})},t.downloadIconFile=function(e){a._gaq.push(["_trackEvent","iconPage","download "+y.iconExportFormat.id,"user clicks download "+y.iconExportFormat.id]),e&&e.id&&(P.isFreePlanUser()&&P.isNewSession()?g.showCustom({template:"template-free-user-download.html",templateParams:{iconSize:y.pngExportSize()},actions:!1,wide:!0,animate:"opacity"},function(){p.downloadIconFile(e),f.showForIcon(e)}):(p.downloadIconFile(e),f.showForIcon(e)))},t.insert={show:function(){a._gaq.push(["_trackEvent","iconPage","insert html","user clicks insert html"]),m.configInsert(),g.showCustom({template:"template-insert-html.html",actions:!1})}},t.trackShareClick=function(e){_icons8Analytics.track({event:"Shared",properties:{item_id:t.mainIcon._name,social_network:e,item_type:"icon"}})}}]),e.module("web-app").controller("collectionsList",["$scope","ModalsService",function(e,t){e.setCollInEdit=function(t){e.collInEdit=t},e.isCollInEdit=function(t){return e.collInEdit===t},e.setCollInCreate=function(t){e.collInCreate=t},e.isCollInCreate=function(){return e.collInCreate},e.removeCollection=function(n){t.show("Info","This collection will be removed. Continue?",function(){n.remove(),e.$cancelPopup()})}}]),t.config(["configProvider",function(e){e({promoList:{"up-to-150":{expired:"2014-12-21 00:00:00",pngSizeLimit:150},"supersize-your-burger":{expired:"2014-12-16 00:00:00"},sam:{expired:"2014-12-12 00:00:00"},"monster-bug":{expired:"2014-12-12 00:00:00"},"secret-unlimited-png":{expired:"2015-12-12 00:00:00"},"you-are-my-hero":{expired:"2015-01-01 00:00:00"},"smashing-buzz":{expired:"2014-12-15 00:00:00"},hantim:{expired:"2015-01-18 00:00:00"},Santa8:{expired:"2015-01-31 00:00:00"},student:{expired:"2015-06-28 00:00:00",pngSizeLimit:200},"color-cheat-code":{expired:"2015-07-09 00:00:00",pngSizeLimit:200},"blogger-color-bundle":{expired:"2015-08-01 00:00:00",pngSizeLimit:200},200:{expired:"2025-08-01 00:00:00",pngSizeLimit:200},"hello-win10":{expired:"2015-08-01 00:00:00",pngSizeLimit:257}},pngSizeLimit:100,iconExportFormats:[{id:"png",title:"PNG"},{id:"svg",title:"SVG"},{id:"eps",title:"EPS"},{id:"pdf",title:"PDF"}],platforms:[{id:"all",title:"All platforms",pngSizes:[{title:"~25",calc:"small"},{title:32},{title:50},{title:64},{title:100},{title:512,premium:!0}]},{id:"win8",title:"Windows 8 / Metro",apiId:"Windows 8/Metro",pngSizes:[{title:26},{title:32},{title:50},{title:64},{title:100},{title:512,premium:!0}]},{id:"win10",title:"Windows 10 / Threshold",apiId:"Windows 10/Threshold",pngSizes:[{title:26},{title:32},{title:50},{title:64},{title:100},{title:512,premium:!0}]},{id:"ios7",title:"iOS 9",apiId:"iPhone/iOS 7",pngSizes:[{title:25},{title:32},{title:50},{title:64},{title:100},{title:512,premium:!0}]},{id:"androidL",title:"Android 5 Lollipop",apiId:"Android L",pngSizes:[{title:24},{title:32},{title:50},{title:64},{title:100},{title:512,premium:!0}]},{id:"android",title:"Android 4",apiId:"Android",pngSizes:[{title:24},{title:32},{title:50},{title:64},{title:100},{title:512,premium:!0}]},{id:"color",title:"Color",apiId:"Color",pngSizes:[{title:24},{title:32},{title:50},{title:64},{title:100},{title:512,premium:!0}]}],icons8Api:"//icons8-api.herokuapp.com/api/0",collsLimit:15,collIconsLimit:500})}]),e.module("web-app").directive("autofocus",["$timeout",function(e){return{restrict:"A",link:function(t,n){e(function(){n[0].focus()})}}}]),e.module("web-app").directive("autoselect",["$timeout",function(e){return{restrict:"A",link:function(t,n){e(function(){n[0].select()})}}}]),e.module("web-app").directive("clickToCopy",["$timeout",function(t){return{scope:{href:"@",sideBars:"@",trackingId:"@",trackingType:"@"},restrict:"AE",template:'<input class="b-share-icon-input" type="text" value="{{href}}" readonly>',link:function(n,i){n.show=!1,n.myInput=$(i[0]).find("input").get(0),n.$watch("sideBars",function(){n.show=!1,e.element(n.myInput).removeClass("active")},!0),i.on("click",function(){n.show=!0,e.element(n.myInput).addClass("active"),t(function(){e.element(n.myInput).select()}),n.trackingId&&_icons8Analytics.track({event:"Shared",properties:{item_id:n.trackingId,social_network:"link",item_type:n.trackingType||""}})}),$(document.body).on("touch click",function(t){var o=t.target||t.srcElement;n.show&&!i[0].contains(o)&&(n.show=!1,e.element(n.myInput).removeClass("active"))}),i.on("$destroy",function(){n.$destroy()}),n.$on("$destroy",function(){n.show=!1,e.element(n.myInput).removeClass("active")})}}}]),e.module("web-app").directive("colorPicker",["IconsColor","IconsStyleSheet","$window",function(e,t,n){return{restrict:"EA",replace:!0,scope:{showColors:"="},link:function(n,i){n.iconsColor=e,n.showChooser=!0,n.showPicker=!1,n.colorsGray=[{color:"#ffffff",colorDark:"#ffffff"},{color:"#cccccc",colorDark:"#cccccc"},{color:"#666666",colorDark:"#666666"},{color:"#333333",colorDark:"#333333"},{color:"#000000",colorDark:"#000000"}],n.colors=[{color:"#e74c3c",colorDark:"#c0392b"},{color:"#e67e22",colorDark:"#d35400"},{color:"#f1c40f",colorDark:"#f39c12"},{color:"#2ecc71",colorDark:"#27ae60"},{color:"#1abc9c",colorDark:"#16a085"},{color:"#3498db",colorDark:"#2980b9"},{color:"#9b59b6",colorDark:"#8e44ad"},{color:"#ecf0f1",colorDark:"#bdc3c7"},{color:"#95a5a6",colorDark:"#7f8c8d"},{color:"#34495e",colorDark:"#2c3e50"}],n.colorPicker=colorpicker({size:212,arrowColor:"#aaa",defaultHsv:[0,0,20],onchange:function(e){n.setColor(e),n.$apply()}}),i.find(".colors-picker").append(n.colorPicker),n.$watch("iconsColor.color",function(e,t){e!==t&&n.setColor(e)}),n.setColor=function(n){e.color=n,t.setIconsColor(n)}},templateUrl:"template-colors.html"}}]),function(){var t,n="web-app";try{t=e.module(n)}catch(i){t=e.module(n,[])}t.directive("dirDisqus",["$window","$timeout",function(t,n){return{restrict:"E",scope:{disqus_shortname:"@disqusShortname",disqus_identifier:"@disqusIdentifier",disqus_title:"@disqusTitle",disqus_url:"@disqusUrl",disqus_category_id:"@disqusCategoryId",disqus_disable_mobile:"@disqusDisableMobile",readyToBind:"@"},template:'<div id="disqus_thread"></div><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>',link:function(i){if("undefined"==typeof i.disqus_identifier||"undefined"==typeof i.disqus_url)throw"Please ensure that the `disqus-identifier` and `disqus-url` attributes are both set.";i.$watch("readyToBind",function(o){if(e.isDefined(o)||(o="true"),i.$eval(o))if(t.disqus_shortname=i.disqus_shortname,t.disqus_identifier=i.disqus_identifier,t.disqus_title=i.disqus_title,t.disqus_url=i.disqus_url,t.disqus_category_id=i.disqus_category_id,t.disqus_disable_mobile=i.disqus_disable_mobile,t.DISQUS)n(function(){t.DISQUS.reset({reload:!0,config:function(){this.page.identifier=i.disqus_identifier,this.page.url=i.disqus_url,this.page.title=i.disqus_title}})},900);else{var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="//"+i.disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(r)}})}}}])}(),e.module("web-app").directive("draggableItem",["dndService","utils","Icons8Api","iconBuilderService","settingsService",function(e,t,n,i,o){"use strict";return{restrict:"A",scope:{icon:"=draggableItem",dragZone:"@draggableType"},link:function(r,s,a,l){s.attr("draggable","true").on("dragstart",function(s){var a,l,c,d,u=r.icon;if(s.originalEvent.dataTransfer.effectAllowed="copy",t.isChrome&&!u.imported){switch(d={},d.icon=u._id,d.format=o.iconExportFormat.id,l=u._name+"."+o.iconExportFormat.id,o.iconExportFormat.id){case"svg":a="image/svg+xml","simplified"===o.svgExportType?(d.format="svg.simplified",d.color=new RGBColor(o.iconsColor).toHex()):d.format="svg.editable";break;case"eps":a="application/postscript";break;case"pdf":a="application/pdf";break;case"png":default:a="image/png",d.format="png",d.color=new RGBColor(o.iconsColor).toHex(),d.size=o.pngExportSize(u._platform)}c=[a,l,n.getManualDownloadUrl(d)].join(":"),s.originalEvent.dataTransfer.setData("DownloadURL",c)}if(t.isChrome){var h=i.buildIconDataUrl(r.icon);if(h){var p=document.createElement("img");p.src=h.url,s.originalEvent.dataTransfer.setDragImage(p,h.width,h.height)}}e.data=r.icon,e.type=r.dragZone,e.dropZonesByType(r.dragZone).forEach(function(e){e.classList.add("dnd-accept-zone")})}).on("dragend",function(t){e.data=null,e.type=null,e.dropZonesByType(r.dragZone).forEach(function(e){e.classList.remove("dnd-accept-zone")})})}}}]),e.module("web-app").directive("dropAction",["dndService",function(e){return{restrict:"A",scope:{dropAction:"&",dropExtAction:"&",dropType:"@"},link:function(t,n,i,o){e.dropZoneAdd(t.dropType,n[0]),t.$on("$destroy",function(){e.dropZoneRemove(t.dropType,n[0])}),n.on("dragenter",function(o){o.target!=n[0]||!i.dropExtAction||e.data||e.type?o.target==n[0]&&t.dropType==e.type&&(n[0].classList.add("dnd-over"),o.preventDefault()):(n[0].classList.add("dnd-over"),o.preventDefault())}).on("dragleave",function(o){o.target!=n[0]||!i.dropExtAction||e.data||e.type?o.target==n[0]&&t.dropType==e.type&&n[0].classList.remove("dnd-over"):n[0].classList.remove("dnd-over")}).on("dragover",function(n){!i.dropExtAction||e.data||e.type?t.dropType==e.type&&n.preventDefault():n.preventDefault()}).on("drop",function(o){return!i.dropExtAction||e.data||e.type?o.target==n[0]&&t.dropType==e.type&&(t.dropAction({$item:e.data,$itemType:e.type,data:e.data,type:e.type}),t.$apply()):(t.dropExtAction({$data:o.originalEvent.dataTransfer,data:o.originalEvent.dataTransfer}),t.$apply()),e.data=null,e.type=null,n[0].classList.remove("dnd-accept-zone"),n[0].classList.remove("dnd-over"),o.stopPropagation(),!1})}}}]),e.module("web-app").directive("fancySelect",["$timeout",function(e){return{restrict:"A",link:function(t,n,i){t.$watch(i.ngModel,function(){e(function(){$(n[0]).change().trigger("update.fs")},1)})}}}]),e.module("web-app").directive("fileOpenDialog",function(){return{restrict:"A",scope:{fileOpenDialog:"&",fileOpenDialogMulti:"=",fileOpenDialogMime:"="},link:function(t,n){function i(t,n){r=e.element('<input type="file" '+(t?'multiple="multiple" ':" ")+(n?'accept="'+n+'" ':" ")+"/>"),r.one("change",o)}function o(e){t.fileOpenDialog({$files:e.target.files}),t.$apply(),i()}var r;t.$watchGroup(["fileOpenDialogMulti","fileOpenDialogMime"],function(e){i(e[0],e[1])}),n.on("click",function(){r.click()})}}}),e.module("web-app").directive("i8Tooltip",["$document","$timeout",function(e,t){return{restrict:"A",scope:{tooltipName:"@i8Tooltip",tooltipData:"@i8TooltipData"},link:function(n,i){n.toggleFlag=!1;var o=function(e){var t=e.target||e.srcElement;i[0].contains(t)||n.hideTooltip()};i.on("click",function(e){e&&e.preventDefault(),n.toggleFlag?n.hideTooltip():n.showTooltip()}),n.showTooltip=function(){t(function(){n.toggleFlag=!0,e.on("click",o)},2)},n.hideTooltip=function(){t(function(){n.toggleFlag=!1,e.off("click",o)},2)},n.$on("$destroy",function(){e.off("click",o)})},templateUrl:"template-i8-tooltip.html"}}]),e.module("web-app").directive("iconFormats",["$sce","settingsService","UserInfo","ModalsService","SideBars","config","$location","utils","popupService","SelectedIcon","SelectedCategory","IconModel",function(e,t,n,i,o,r,s,a,l,c,d,u){return{restrict:"A",scope:{iconFormats:"@",icon:"=?"},controller:["$scope",function(e){e.buyPopupTargetName=e.iconFormats+"buyPopup",e.settings=t,e.recolor={showColors:!1,toggleColors:function(t){var n=$(t.target);n.hasClass("off-click-recolor")&&(e.recolor.showColors=!e.recolor.showColors)},hideColors:function(){e.recolor.showColors=!1}},e.$watch("settings.promptToPremium",function(t,n){t&&l.showPopup({target:e.buyPopupTargetName,templateUrl:"template-buy-popup.html",wrapperVars:{classList:"i8-popup-wrapper--bottom",style:"margin-top: 5px; width: 220px;"},scope:e}).then(function(){e.settings.promptToPremium=null},function(){e.settings.promptToPremium=null})});var i=$(".svg-tooltip");e.showSVGTooltip=function(){i.show()},e.hideSVGTooltip=function(){i.hide()},e.hideFormatMenu=function(){e.formatMenu=!1},e.toggleFormatMenu=function(t){e.formatMenu=!e.formatMenu},e.isPngSizeInactive=function(e,i){return e.premium?e.premium&&c.icon&&u.isIconAvailable(c.icon,i)?!1:t.hasPngPromo&&t.largePngForUserAvailable?!1:!n.license.features.nolink&&!d.getContentPerm().nolink:!1}}],templateUrl:"template-icon-format.html"}}]),e.module("web-app").directive("lineBacklink",["$rootScope","$localStorage","$document",function(t,n,i){"use strict";return{restrict:"E",scope:{ok:"&",cancel:"&",link:"="},compile:function(o){return e.element("main").addClass("m-line-backlink"),o.addClass("c-line-backlink"),function(e){e.link.url||(e.link.url=t.appHost+"/"+t.appUrl),n.$default({backlink:{remind:!0}}),e.$watch("onlyOnce",function(e){n.backlink.remind=!e});var o={index:0,list:["Easter Bunny kills a Google executive!","Tim Cook eats penguins!","Girl dances on the face of a dead UX designer!","Zuckerberg raised by a hairy crab!","Homeless clown eats a venture capitalist!","Massacre in Foursquare HQ!","An Agile coach raised by the squirrels.","Prostitute and glass blower rob a bitcoin mine!","Ghost wins the hackathon grand prize!"],icon:null,icon2:null,isEndOfList:!1,init:function(){this.index=0,this.isEndOfList=!1,this.list.sort(function(){return Math.random()-.5})},template:function(e){var t={uc:function(e){return e=(e||"").toLowerCase(),e.charAt(0).toUpperCase()+e.substr(1)}},n=this;return(e||"").replace(/{\s*([a-z0-9_]+)\s*(?:\|\s*([a-z0-9_]+)|)\s*}/gi,function(e,i,o){var r=n[i]||"";return o&&t.hasOwnProperty(o)&&(r=t[o](r)),r})},circuit:function(){return this.index<this.list.length-1?void this.index++:this.isEndOfList?(this.index=0,void(this.isEndOfList=!1)):void(this.isEndOfList=!0)},getText:function(){return this.template(this.list[this.index]||"")}};o.init(),e.texts=o,e.linkTextCircuit=function(){o.circuit()},e.getText=function(){return o.getText()},e.isEndOfList=function(){return o.isEndOfList};var r=function(t){var n=t.keyCode?t.keyCode:t.which;27===n&&e.cancel()};i.on("keyup",r),e.$on("$destroy",function(){i.off("keyup",r)})}},templateUrl:"template-line-backlink.html"}}]),e.module("web-app").directive("modalBacklink",["$rootScope","$localStorage","$document",function(e,t,n){return{restrict:"E",scope:{ok:"&",cancel:"&",link:"="},compile:function(i){return i.addClass("c-modal-backlink"),function(i){i.link.url||(i.link.url=e.appHost+"/"+e.appUrl),t.$default({backlink:{remind:!0}}),i.$watch("onlyOnce",function(e){t.backlink.remind=!e});var o={empty:[{text:"Icons8"}],one:[{text:"{icon|uc} icon credits"},{text:"Free {icon} icon source"},{text:"Free icons by Icons8"},{text:"{icon} icon",before:"Thanks to Icons8 for the"},{text:"{icon|uc} icon",after:"by Icons8"},{text:"Icons by Icons8"},{text:"{icon|uc} and other flat icons"}],many:[{text:"{icon|uc} and other icons by Icons8"},{text:"Icons: {icon|uc}, {icon2|uc}, etc."},{text:"Free icons from here"},{text:"Flat icons by Icons8"}]},r={index:0,list:[],icon:null,icon2:null,isEndOfList:!1,init:function(){this.index=0,this.icon=null,this.icon2=null,this.isEndOfList=!1,i.link.icons&&i.link.icons.length>1?(this.list=o.many.slice(),this.icon=i.link.icons[0].name,i.link.icons.length>2&&(this.icon2=i.link.icons[1].name)):i.link.icons||i.link.icon?(this.list=o.one.slice(),i.link.icons?this.icon=i.link.icons[0].name:this.icon=i.link.icon.name):this.list=o.empty.slice(),this.list.sort(function(){return Math.random()-.5})},template:function(e){var t={uc:function(e){return e=(e||"").toLowerCase(),e.charAt(0).toUpperCase()+e.substr(1)}},n=this;return(e||"").replace(/{\s*([a-z0-9_]+)\s*(?:\|\s*([a-z0-9_]+)|)\s*}/gi,function(e,i,o){var r=n[i]||"";return o&&t.hasOwnProperty(o)&&(r=t[o](r)),r})},circuit:function(){return this.index<this.list.length-1?void this.index++:this.isEndOfList?(this.index=0,void(this.isEndOfList=!1)):void(this.isEndOfList=!0)},getText:function(){return this.template(this.list[this.index].text||"")},getTextAfter:function(){
return this.template(this.list[this.index].after||"")},getTextBefore:function(){return this.template(this.list[this.index].before||"")}};r.init(),i.texts=r,i.linkTextCircuit=function(){r.circuit()},i.getLinkText=function(){return r.getText()},i.getBeforeLinkText=function(){return r.getTextBefore()},i.getAfterLinkText=function(){return r.getTextAfter()},i.isEndOfList=function(){return r.isEndOfList};var s=function(e){var t=e.keyCode?e.keyCode:e.which;27==t&&i.cancel()};n.on("keyup",s),i.$on("$destroy",function(){n.off("keyup",s)})}},templateUrl:"template-modal-backlink.html"}}]),e.module("web-app").directive("modals",["Modal","ModalsService",function(e,t){return{restrict:"E",replace:!0,$scope:{},link:function(n,i){n.modal=e,i.bind("click",function(e){var i=$(e.target);return i.hasClass("modal__action-confirm")?(t.confirm(),n.$apply(),!0):void((i.hasClass("modal-container")||i.hasClass("modal__action"))&&(t.hide(),n.$apply()))})},templateUrl:"template-modals.html"}}]),e.module("web-app").directive("newIconFormats",["$sce","settingsService","UserInfo","ModalsService","SideBars","config","$location","utils","popupService","$timeout","IconModel",function(t,n,i,o,r,s,a,l,c,d,u){return{restrict:"A",scope:{newIconFormats:"@",icon:"=?"},controller:["$scope",function(t){t.buyPopupTargetName=t.newIconFormats+"buyPopup"+Math.random().toString(36).slice(2),t.settings=n,d(function(){t.selectedIconSize=2}),t.colors=[{name:"black",shade:"dark"},{name:"white",shade:"light",notAnOption:!0},{name:"red",shade:"dark"},{name:"blue",shade:"dark",notAnOption:!0},{name:"yellow",shade:"light",notAnOption:!1}],e.forEach(t.settings.platform.pngSizes,function(e){"~25"==e.title?e.labelName="25x25px":e.labelName=e.title+"x"+e.title+"px",e.premium&&!t.settings.largePngForUserAvailable?e.inactive=!0:e.inactive=!1}),t.isPngSizeInactive=function(e,o){return e.premium?e.premium&&t.icon&&u.isIconAvailable(t.icon,o)?!1:n.hasPngPromo&&n.largePngForUserAvailable?!1:!i.license.features.nolink:!1},t.recolor={showColors:!1,toggleColors:function(e){var n=$(e.target);n.hasClass("off-click-recolor")&&(t.recolor.showColors=!t.recolor.showColors)},hideColors:function(){t.recolor.showColors=!1}},t.changeIconSize=function(){"custom"==t.selectedIconSize?t.settings.setPngExportSizeIsCustom(!0):t.settings.setPngExportSizeIdx(t.selectedIconSize)},t.$watch("settings.promptToPremium",function(e,n){e&&c.showPopup({target:t.buyPopupTargetName,templateUrl:"template-buy-popup.html",wrapperVars:{classList:"i8-popup-wrapper--top",style:"margin-top: -20px; width: 220px;"},scope:t}).then(function(){t.settings.promptToPremium=null},function(){t.settings.promptToPremium=null})});var o=$(".svg-tooltip");t.showSVGTooltip=function(){o.show()},t.hideSVGTooltip=function(){o.hide()},t.hideFormatMenu=function(){t.formatMenu=!1},t.toggleFormatMenu=function(e){t.formatMenu=!t.formatMenu}}],templateUrl:"new-template-icon-format.html"}}]),e.module("web-app").directive("perfectScroll",function(){return{restrict:"A",scope:{scrollHeight:"="},link:function(e,t,n){setTimeout(function(){var n=t.parent(),i=n.height();"auto-fill"===e.scrollHeight&&(t.siblings().each(function(e,t){i-=$(t).outerHeight(!0)}),t.height(i)),t.perfectScrollbar({includePadding:!0,suppressScrollX:!0}),$(window).resize(function(){t.perfectScrollbar("update")})},0)}}}),e.module("web-app").directive("requestErrorMessage",["$rootScope",function(e){return{restrict:"A",replace:!0,scope:!0,link:function(t,n,i){t.retry=function(){e.$broadcast("retryFailedRequest")}},templateUrl:"template-request-error-message.html"}}]),e.module("web-app").filter("escape",function(){return window.encodeURIComponent}),e.module("web-app").filter("newlines",function(){return function(e){return e.replace(/\n/g,"<br/>")}}),e.module("web-app").filter("premiumSizes",["UserInfo","settingsService",function(e,t){return function(n,i){var o=e.license.features.nolink;return i&&(o=o&&!i.expired||i.perm.nolink),n.filter(function(e){return e._height<=t.pngSizeLimit||o})}}]),e.module("web-app").filter("reformatDate",function(){return function(e,t){var t=void 0===t?!0:t,n={names:["January","February","March","April","May","June","July","August","September","October","November","December"],shortNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};try{var i=new Date(e);if("Invalid Date"==String(i))return e;var o=n.names[i.getMonth()]+" "+i.getDate();return t&&(o=o+", "+i.getFullYear()),o}catch(r){return e}}}),e.module("web-app").filter("reverse",function(){return function(e){return e.slice().reverse()}}),e.module("web-app").filter("toArray",function(){return function(t){var n=[];return e.forEach(t,function(e,t){n.push(e)}),n}}),e.module("web-app").filter("unsafe",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),e.module("web-app").filter("upFirstLetter",function(){return function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}}),e.module("web-app").filter("urlize",function(){return function(e){return e?e.split(" ").join("-"):""}}),e.module("web-app").service("BacklinkRemindService",["$compile","$animate","$q","$rootScope","$filter","$localStorage","UserInfo",function(t,n,i,o,r,s,a){function l(e){return e?o.appHost+"/"+o.appUrl+"/"+e._id+"/"+r("urlize")(e.name):null}var c={isShown:!1,showForIcons:function(e,t,n){return e&&e.length?this.show(t,n,{icons:e,url:e?l(e[0]):null}):(t&&t(),i.when())},showForIcon:function(e,t,n){return e?this.show(t,n,{icon:e,url:l(e)}):(t&&t(),i.when())},show:function(r,l,d){if(!this.isShown){var u=i(function(i,r){function l(t){return function(){return p&&(n.leave(p),p=void 0),h&&(h.$destroy(),h=void 0),e.element("main").removeClass("m-line-backlink"),c.isShown=!1,t&&t.apply(this,arguments)}}s.$default({backlink:{remind:!0}});var u=s.backlink;if(!u.remind||!a.isGuest)return i();var h=o.$new(),p=e.element('<line-backlink ok="ok()" cancel="cancel()" link="options" />');h.ok=l(i),h.cancel=l(r),h.options=d;var f=t(p);n.enter(p,e.element(document.body)),f(h),c.isShown=!0});return u.then(r,l),u}}};return c}]),e.module("web-app").service("CacheService",[function(){var e={},t={},n=function(e){return t[e]?t[e]:(t[e]={list:[],map:{}},t[e])};return e.cache=function(e,t){var i={},o=n(e);return i.get=function(e){return o.map[e]},i.set=function(e,n){var i=o.list.length;void 0!==o.map[e]?o.map[e]=n:(o.map[e]=n,t>i?o.list[i]=e:(o.map[o.list.shift()]=void 0,o.list[o.list.length]=e))},i},e}]),e.module("web-app").service("CategoryModel",["$filter",function(t){function n(e,n){var i=t("filter")(n,{commonId:e.common_icon_id},!0)[0];if(i)i.icons.push(e);else{var o={commonId:e.common_icon_id,name:e._name,icons:Array()};o.icons.push(e),n.push(o)}return n}this.prepare=function(e){function n(e){var t;return t=(e||{}).__text,("0"===t||-1!=["false","null"].indexOf(String(t).toLowerCase()))&&(t=!1),t}var i;return i=e.content=e.content||{},i.perm||(i.perm={nolink:!1,vector:!1}),i.rights&&["nolink-icon-usage","download-all-bitmaps-images","download-vectors-images","download-vectors-images"].filter(function(e){return i.rights.hasOwnProperty(e)}).length>0&&(i.perm.vector=n(i.rights["download-vectors-images"]),i.perm.nolink=n(i.rights["nolink-icon-usage"])||n(i.rights["download-all-bitmaps-images"])||i.perm.vector),e.urlizeName=t("urlize")(e._name),e},this.createSubcategoriesList=function(e){var i;return i=new Array,e.forEach(function(e){e.subcategory&&e.subcategory._api_code||(e.subcategory={_api_code:"otherother",_name:"Other Icons"});var o=t("filter")(i,{api_code:e.subcategory._api_code},!0)[0];if(o)o.blocksList=n(e,o.blocksList),"otherother"!=e.subcategory._api_code&&o.order++;else{var r={api_code:e.subcategory._api_code,subcategory_name:e.subcategory._name,blocksList:new Array,order:-1};r.blocksList=n(e,r.blocksList),i.push(r)}}),i},this.createIconsBlock=function(t){var i=[],o=["ios7","win10","win8","androidL","android","color"];return t.forEach(function(e){n(e,i)}),e.forEach(i,function(t){e.forEach(o,function(n){e.forEach(t.icons,function(e){e.platform_code==n&&(e.platform_order=o.indexOf(n))})})}),i},this.createIconsSubcategoriesBlocks=function(e){var n,i=[];return e.forEach(function(e){if(e.subcategory&&e.subcategory._api_code&&e.subcategory._name)if(n=t("filter")(i,{subcategoryApiCode:e.subcategory._api_code},!0)[0])n.icons.push(e),n.order++;else{var o={subcategoryApiCode:e.subcategory._api_code,subcategoryName:e.subcategory._name,icons:Array(),order:1};o.icons.push(e),i.push(o)}else if(n=t("filter")(i,{subcategoryApiCode:"otherIconsSubcategory"},!0)[0])n.icons.push(e);else{var o={subcategoryApiCode:"otherIconsSubcategory",subcategoryName:"Other Icons",icons:Array(),order:-1};o.icons.push(e),i.push(o)}}),i}}]),e.module("web-app").service("CounterService",["$timeout",function(e){"use strict";var t={downloadedCounter:0,iconsInDownloadColl:0,getDownloadedCounter:function(){return this.downloadedCounter},addDownloadedCounter:function(){var t=this;return e(function(){t.downloadedCounter++},40),!0},setDownloadedCounter:function(e){return 0==this.iconsInDownloadColl&&e>0?(this.addDownloadedCounter(),this.iconsInDownloadColl=e):this.iconsInDownloadColl<e&&(this.addDownloadedCounter(),this.iconsInDownloadColl=e),!0},clearDownloadedCounter:function(){return this.downloadedCounter=0,!0}};return t}]),e.module("web-app").service("DynamicStylesService",[function(){var e=function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet},t=function(e,t,n,i){e.insertRule?e.insertRule(t+"{"+n+"}",i):e.addRule(t,n,i)},n=function(e,t){e.deleteRule?e.deleteRule(t):e.removeRule(t)},i=function(e){return e.cssRules?e.cssRules.length:e.rules.length},o=function(e,t){return e.cssRules?e.cssRules[t]:e.rules[t]};return{createSheet:function(){var r=e(),s={add:function(e,n,i){return t(r,e,n,i),s},get:function(e){return o(r,e)},getSheet:function(){return r},remove:function(e){return n(r,e),s},size:function(){return i(r)},setProp:function(e,t,n){return o(r,e).style[t]=n,s}};return s}}}]),e.module("web-app").service("FileService",[function(){var e={};return e.downloadFile=function(e){e&&$('<iframe width="1" height="1" frameborder="0" src="'+e+'"></iframe>').appendTo(document.body)},e}]),e.module("web-app").service("GenerateFontService",["UserInfo","Icons8Api","FileService","ModalsService",function(e,t,n,i){function o(e){e.task.result.zip&&n.downloadFile(e.task.result.zip._link),s.inProgress=!1}function r(e){i.show("Oops","Something goes wrong. We are already working on it."),s.inProgress=!1}var s={inProgress:!1,showBuyTooltip:!1,toggleBuyTooltip:function(){s.showBuyTooltip=!s.showBuyTooltip},checkRights:function(t){return e.license.features.vector?!0:(t||[]).every(function(e){return e.perm.vector})?!0:(s.showBuyTooltip=!0,!1)},generate:function(e,n){s.checkRights()&&s.inProgress!==!0&&(s.inProgress=!0,t.generateFont(e,n,function(e){o(e)},function(e){r(e)}),_gaq.push(["_trackPageview","/light-box/unit/download-font/"]))}};return s}]),e.module("web-app").service("IconModel",["$sce","LightBox","IconPlatforms","UserInfo","settingsService",function(t,n,i,o,r){"use strict";this.prepare=function(t){function o(e){var t;return t=(e||{}).hasOwnProperty("__text")?(e||{}).__text:e,("0"===t||-1!=["false","null"].indexOf(String(t).toLowerCase().trim()))&&(t=!1),!!t}var r=this;if(t&&Object.keys(t).length>0){try{t.svg=window.atob(t.svg)}catch(s){try{t.svg.indexOf("<svg")>-1&&t.svg.indexOf("svg>")>-1&&"<svg></svg>"!=t.svg||(t.svg="<svg></svg>")}catch(s){t.svg="<svg></svg>"}}t.trustedSvg=this.getTrustedSvg(t),!t._id&&t.id&&(t._id=t.id),t.hasOwnProperty("_imported")||(t._imported=t.imported),t.imported=t._imported,!t._platform&&t.platform&&(t._platform=t.platform),e.forEach(i,function(e){t._platform===e.apiTitle&&(t.platform=e)}),"color"==String(t._platform||"").toLowerCase()&&(t.colored=!0),t.perm||(t.perm={nolink:!1,vector:!1}),t.rights&&(t.perm.vector=t.perm.vector||o(t.rights["download-vectors-images"]),t.perm.nolink=t.perm.nolink||o(t.rights["nolink-icon-usage"])||o(t.rights["download-all-bitmaps-images"])||t.perm.vector),t.features&&(t.perm.vector=t.perm.vector||o(t.features.vector),t.perm.nolink=t.perm.nolink||o(t.features.nolink)||o(t.features.bitmap)||t.perm.vector),!t._name&&t.name&&(t._name=t.name),t.name=t._name,t.name=t.name.split("_").join(" "),t.shortName=t.name,t.alt="",t.desc="",t.title="",t.platform&&(t.alt=t.name+" Icon for "+t.platform.title,t.desc="Free "+t.name.toLowerCase()+" icon in 5 flat styles. Download in any size, color, and format: SVG, PNG, and as a font.",t.title=t.name+" Icon - Free Download at Icons8",t.titleLong=t.name+" Icon for "+t.platform.title+" - Free Download at Icons8"),t.png&&!t.png.png&&(t.png.png=t.png),t.share&&(t.share._url&&(t.share.shortLink=t.share._url.split("//")[1]),t.share.url&&(t.share.shortLink=t.share.url.split("//")[1]),t.share.url||t.share._url||(t.share.shortLink="ic8.link/"+t.id)),!t.common_icon_id&&t._url&&(t.common_icon_id=t._url.split("/")[t._url.split("/").length-2]),t.share&&t.share.png?(e.isArray(t.share.png)||(t.share.png=[].concat(t.share.png)),e.forEach(t.share.png,function(e){e.type||(t.preview=e.link),"twitter"===e.type&&(t.previewTwitter=e.link)})):t.png&&t.png.png.length>=2&&(!t.png.png[t.png.png.length-2]._link&&t.png.png[t.png.png.length-2].link&&(t.png.png[t.png.png.length-2]._link=t.png.png[t.png.png.length-2].link),t.preview=t.png.png[t.png.png.length-2]._link),t.preview&&!t.previewTwitter&&(t.previewTwitter=t.preview),t.preview&&t.preview.indexOf("google")>-1&&(t.googleImage=t.preview),t.starred=n.isIconExist(t),!t._created&&t.created&&(t._created=t.created),t.created=new Date(t._created).getTime()||0,t.hasOwnProperty("available")&&(t._available=t.available),Object.defineProperty(t,"available",{configurable:!0,get:function(){return r.isIconAvailable(t)}}),t.expired=this.isIconExpired(t),t.vector&&(t.vector.eps._link||"string"!=typeof t.vector.eps||(t.vector.eps={_link:t.vector.eps,link:t.vector.eps}),t.vector.pdf._link||"string"!=typeof t.vector.pdf||(t.vector.pdf={_link:t.vector.pdf,link:t.vector.pdf}),!t.vector.svg&&t.vector["svg-editable"]&&(t.vector.svg=[],t.vector.svg.push({_link:t.vector["svg-editable"],link:t.vector["svg-editable"],_format:"editable",format:"editable"})))}},this.getTrustedSvg=function(e){return t.trustAsHtml(e.svg)},this.isIconAvailable=function(e,t){var n,t=t||r.pngExportSizeIdx;if(!this.isIconExpired(e)&&(o.license.expiry||0===o.license.expiry))return!0;if("png"==r.iconExportFormat.id){if(n=r.platform.pngSizes[t],!n||!n.premium)return!0;if(r.hasPngPromo&&r.pngPromoLargePngAvailable)return!0;if(r.pngExportSizeIsCustom&&r.pngCustomSize<=r.pngSizeLimit)return!0;if(e.perm.nolink)return!0}return e.perm.vector?!0:!1},this.isIconExpired=function(e){return o.license.expiry||0===o.license.expiry?e.created>o.license.expiry:!1}}]),e.module("web-app").factory("IconPlatforms",function(){"use strict";return{all:{id:"0",name:"all",title:"All",fullTitle:"All Icon Packs",apiTitle:"All Icon Packs",seoTitle:"All Platforms",url:"/",order:"0"},win8:{id:"1",name:"win8",title:"Windows 8",fullTitle:"Windows 8/Metro",apiTitle:"Windows 8/Metro",seoTitle:"Windows 8/Metro",url:"/w",order:"3"},ios7:{id:"2",name:"ios7",title:"iOS 9",fullTitle:"iPhone/iOS 9",apiTitle:"iPhone/iOS 7",seoTitle:"iPhone/iOS 9",url:"/i",order:"1"},androidL:{id:"3",name:"androidL",title:"Android 5 Lollipop",fullTitle:"Android 5 Lollipop",apiTitle:"Android L",seoTitle:"Android 5 Lollipop",url:"/l",order:"4"},android:{id:"4",name:"android",title:"Android 4",fullTitle:"Android 4",apiTitle:"Android",seoTitle:"Android 4",url:"/a",order:"5"},color:{id:"5",name:"color",title:"Color",fullTitle:"Color",apiTitle:"Color",seoTitle:"Color",url:"/c",order:"6"},win10:{id:"6",name:"win10",title:"Windows 10",fullTitle:"Windows 10/Threshold",apiTitle:"Windows 10/Threshold",seoTitle:"Windows 10/Threshold",url:"/w10",order:"2"}}}),e.module("web-app").service("IconService",["IconModel","SelectedIcon",function(e,t){"use strict";this.configIcon=function(n){n&&(e.prepare(n),t.icon._id===n._id&&(n.selected=!0,t.icon=n))},this.prepareIconForCollection=function(t){t&&e.prepare(t)},this.getTrustedSvg=function(e){return e.trustedSvg},this.isIconAvailable=function(e){return e.available},this.isIconExpired=function(e){return e.expired}}]),e.module("web-app").service("IconSetService",["UserInfo","utils",function(t,n){var i=function(e){var t=$(e.substr(e.indexOf("<svg"))),n=document.createElement("div");n.appendChild(t[0]);var i=n.innerHTML;return i=i.substr(i.indexOf(">")+1),i=i.substr(0,i.lastIndexOf("<")),i.split("\n").join("")};this.showBuyTooltip=!1,this.checkRights=function(e){return t.license.features.vector?!0:(e||[]).every(function(e){return e.perm.vector})?!0:(this.showBuyTooltip=!0,!1)},this.generateIconSet=function(t){var o='<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg">';return e.forEach(t,function(e){var t,r=$(e.svg.substring(e.svg.indexOf("<svg"))),s=e.name.toLowerCase().split(" ").join("-");e.platform&&(s=e.platform.name+"-"+s),t='<symbol viewBox="'+r[0].getAttribute("viewBox")+'" id="'+s+'" >',t+=n.isSafari?i(e.svg):r.html(),t+="</symbol>",o+=t}),o+="</svg>"},this.generate=function(e,t){var i;if(this.checkRights()){i=this.generateIconSet(t);var o=new Blob([i],{type:"image/svg+xml;charset=utf-8"});if(n.isSafari){var r,s=new FileReader;s.onloadend=function(){var t=$("<form>",{method:"post",action:app.apiUrl+"/api/lightbox/download",target:"_top"}).append($("<input>",{name:"name",value:e+".svg",type:"text"})).append(r=$("<textarea>",{name:"data",type:"text",maxlength:1e8}));r.val(s.result.replace(/^[^,]+,/,"")),t.submit()},s.readAsDataURL(o)}else saveAs(o,e+".svg")}}}]),e.module("web-app").service("Icons8Api",["$http","$cacheFactory","$timeout","IconService","CacheService","ModalsService","Search","config","$httpParamSerializer",function(t,n,i,o,r,s,a,l,c){function d(t){return e.isArray(t)||(t=[].concat(t)),t}function u(e){return e=d(e)}function h(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;")}var p={},f=p.caches={icons:r.cache("icons",10),tags:r.cache("tags",10),similar:r.cache("similar",10),latest:r.cache("latest",1),categories:r.cache("categories",10),search:r.cache("search",5)},m=l.icons8_api_url+"/api/",g=l.icons8_cache_api_url+"/api/",v=new X2JS;p.parseXmlResponse=function(e){return v.xml_str2json(e).icons8},p.makeApiRequest=function(e,n,i){var o,r;return r={method:e.method,url:e.url,data:e.data},"undefined"!=typeof e.cache&&(r.cache=e.cache),t(r).success(function(e){o=p.parseXmlResponse(e),o.error&&i?i(o.error):n&&n(o.result)}).error(function(e){i&&i(e)})},p.makeJSONApiRequest=function(e,n,i){var o,r;return r={method:e.method,url:e.url,data:e.data},"undefined"!=typeof e.cache&&(r.cache=e.cache),t(r).success(function(e){o=e,o.errors&&(o.error=o.errors),o.error&&i?i(o.error):n&&n(o.result)}).error(function(e){i&&i(e)})},p.callApi=function(e,t,o){var r,s,a="icons8Api.callApi",l={method:"GET"};return"object"==typeof e&&(s=e,e=s.url,s.cache&&(parseInt(s.cache)===s.cache?(r=n.get(a),r||(r=n(a)),r.get(e)||i(function(){r.remove(e)},s.cache),l.cache=r):l.cache=s.cache)),l.url=e,p.makeApiRequest(l,t,o)},p.callJSONApi=function(e,t,o){var r,s,a="icons8Api.callApi",l={method:"GET"};return"object"==typeof e&&(s=e,e=s.url,s.cache&&(parseInt(s.cache)===s.cache?(r=n.get(a),r||(r=n(a)),r.get(e)||i(function(){r.remove(e)},s.cache),l.cache=r):l.cache=s.cache)),l.url=e,p.makeJSONApiRequest(l,t,o)},p.postApi=function(e,t,n,i){return p.makeApiRequest({method:"POST",url:e,data:t},n,i)},p.deleteApi=function(e,t,n,i){return p.makeApiRequest({method:"DELETE",url:e,data:t},n,i)},p.search=function(t,n,i){var r=t.platform&&"all"!=t.platform?t.platform:"",s=m+"iconsets/search?term="+t.term+(t.amount?"&amount="+t.amount:"")+(r?"&platform="+r:""),a=f.search.get(s);a?n&&n(a):p.callApi(s,function(t){a=t.search.icon,a?(a=d(a),e.forEach(a,function(e){o.configIcon(e)}),f.search.set(s,a)):a=[],n&&n(a)},i)},p.getIconV2=function(e,t,n,i){var r=t.format||"xml",s=t.files||"eps,pdf,svg,png",a=t.variants||"enabled",l=t.info||"disabled",c=g+"iconsets/v2/icon?id="+e+"&format="+r+"&files="+s+"&variants="+a+"&info="+l,d=f.icons.get(c);d?n&&n(d):"json"==r?p.callJSONApi(c,function(e){var t=e.icons[0];t?(o.configIcon(t),f.icons.set(c,t)):t=!1,n&&t?n(t):!t&&i&&i()},i):p.callApi(c,function(e){d=e.icon,d?(o.configIcon(d),f.icons.set(c,d)):d=!1,n&&n(d)},i)},p.getIcon=function(e,t,n){var i=g+"iconsets/icon?id="+e,r=f.icons.get(i);r?t&&t(r):p.callApi(i,function(e){r=e.icon,r?(o.configIcon(r),f.icons.set(i,r)):r=!1,t&&t(r)},n)},p.getIcons=function(t,n,i){if(t.length>0){var r=g+"iconsets/icon?id="+t;p.callApi(r,function(t){var i=t.icon;i?(i=d(i),e.forEach(i,function(e){o.configIcon(e)})):i=[],n&&n(i)},i)}else n&&n([])},p.getTags=function(e,t,n){var i=g+"iconmeta/tags?id="+e,o=f.tags.get(i);o?t&&t(o):p.callApi({url:i,cache:1e3},function(e){e&&(o=e.icon.tags.tag,o=d(o),f.tags.set(i,o),t&&t(o))},n)},p.addTags=function(e,t,n){var i='<?xml version="1.0" encoding="UTF-8"?>'+v.json2xml_str({icons8:{icon:{_id:e.id,tags:{tag:e.tag}}}}),o=m+"iconmeta/add-tags";p.postApi(o,i,function(e){t&&t(e)},n)},p.removeTags=function(e,t,n){var i='<?xml version="1.0" encoding="UTF-8"?>'+v.json2xml_str({icons8:{icon:{_id:e.id}}}),o=m+"iconmeta/clean-tags";p.deleteApi(o,i,function(e){t&&t(e)},n)},p.voteTags=function(e,t,n){var i='<?xml version="1.0"?>'+v.json2xml_str({icons8:{icon:{_id:e.id,tags:{tag:e.tag}}}}),o=m+"iconmeta/vote-tags";p.postApi(o,i,function(e){t&&t(e)},n)};var b=function(e){return 4==e.length?e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]:e};return p.downloadRecoloredSVG=function(t,n,i,o){t=b(t);var r=[];n=u(n),e.forEach(n,function(e){r.push({_id:e._id})});var s='<?xml version="1.0"?>'+v.json2xml_str({icons8:{task:{arguments:{color:t.substr(1),icon:r}}}}),a=m+"lightbox/recolor-vector";p.postApi(a,s,function(e){i&&i(e)},o)},p.downloadRecoloredBitmap=function(t,n,i,o){t=b(t);var r=[];n=u(n),e.forEach(n,function(e){r.push({_id:e._id})});var s='<?xml version="1.0"?>'+v.json2xml_str({icons8:{task:{arguments:{color:t.substr(1),icon:r}}}}),a=m+"lightbox/recolor-bitmap";p.postApi(a,s,function(e){i&&i(e)},o)},p.createBitmapZip=function(t,n,i){var o=[];t=u(t),e.forEach(t,function(e){o.push({_id:e._id})});var r='<?xml version="1.0"?>'+v.json2xml_str({icons8:{task:{arguments:{icon:o}}}}),s=m+"lightbox/create-bitmap-zip";p.postApi(s,r,function(e){n&&n(e)},i)},p.createSVGZip=function(t,n,i){var o=[];t=u(t),e.forEach(t,function(e){o.push({_id:e._id})});var r='<?xml version="1.0"?>'+v.json2xml_str({icons8:{task:{arguments:{icon:o}}}}),s=m+"lightbox/create-vector-zip";p.postApi(s,r,function(e){n&&n(e)},i)},p.generateFont=function(t,n,i,o){var r=[];n=u(n),e.forEach(n,function(e){r.push({_name:h(e._name),svg:window.btoa(e.svg)})});var s='<?xml version="1.0"?>'+v.json2xml_str({icons8:{task:{arguments:{font_name:t,icon:r}}}}),a=m+"lightbox/create-web-font";p.postApi(a,s,function(e){i&&i(e)},o)},p.importIcons=function(n,i,r){var a=m+"lightbox/upload",l=new FormData;Array.prototype.some.call(n,function(e){return/\.svg$/.test(e.name)?e.size>1e5?(s.show("Oops","File must be less then 100 KiB."),!0):(l.append("icon[]",e),!1):(s.show("Oops","File must be SVG."),!0)})||t.post(a,l,{transformRequest:e.identity,headers:{"Content-Type":void 0}}).success(function(t){var n=p.parseXmlResponse(t),s=[],l=(new Date).getTime();n.error&&r?r(n.error):(n&&n.result&&n.result.upload&&(s=n.result.upload.icon,s?(s=d(s),e.forEach(s,function(e,t){e._imported=!0,e._id=""+t+l,o.configIcon(e)}),f.search.set(a,s)):s=[]),i&&i(s))}).error(r)},p.getCategoryV2=function(t,n,i){a.categoryDescription="",a.categoryStory="";var r,s=g+"iconsets/v2/category?category="+t.category+(t.amount?"&amount="+t.amount:"")+(t.platform&&"all"!==t.platform?"&platform="+t.platform:""),l=f.categories.get(s);l?(r=l.icons,a.category=l.name,a.categoryTitle=l.name,a.categoryDescription=l.description,a.categoryPreview=l.png,a.categoryStory=l.story,a.categoryShortUrl=l.shortUrl,n&&n(r)):p.callJSONApi({url:s,cache:1e4},function(t){r=t.category.icons,a.category=t.category.name,a.categoryTitle=t.category.name,a.categoryDescription=t.category.description,t.category.share.share_preview&&(a.categoryPreview=t.category.share.share_preview),a.categoryStory=t.category.story,a.categoryShortUrl=t.category.share.url,r?(r=d(r),e.forEach(r,function(e){o.configIcon(e)}),f.categories.set(s,{icons:r,name:a.category,description:a.categoryDescription,png:a.categoryPreview,story:a.categoryStory,shortUrl:a.categoryShortUrl})):r=[],n&&n(r)},i)},p.getCategory=function(t,n,i){a.categoryDescription="";var r,s=g+"iconsets/category?category="+t.category+(t.amount?"&amount="+t.amount:"")+(t.platform&&"all"!==t.platform?"&platform="+t.platform:""),l=f.categories.get(s);l?(r=l.icons,a.categoryDescription=l.description,a.categoryPreview=l.png,a.categoryShortUrl=l.shortUrl,n&&n(r)):p.callApi({url:s,cache:1e4},function(t){r=t.category.icon,a.categoryDescription=t.category.description,a.categoryPreview=t.category.share._share_preview,a.categoryShortUrl=t.category.share._url,r?(r=d(r),e.forEach(r,function(e){o.configIcon(e)}),f.categories.set(s,{icons:r,description:a.categoryDescription,png:a.categoryPreview,shortUrl:a.categoryShortUrl})):r=[],n&&n(r)},i)},p.getCategoryList=function(t,n,i){var o=g+"iconsets/categories"+(t.platform&&"all"!=t.platform?"?platform="+t.platform:""),r=f.categories.get(o);r?n&&n(e.copy(r)):p.callApi({url:o,cache:!0},function(t){r=t.categories.category,(r||[]).forEach(function(e){e&&e._name&&"very basic"==String(e._name).toLowerCase()&&(e.content={rights:["download-all-bitmaps-images","download-bitmaps-images","download-bitmaps-zip","download-vectors-images","download-vectors-zip","nolink-icon-usage"].reduce(function(e,t){return e[t]={__text:"1"},e},{})})}),r?f.categories.set(o,r):r=[],n&&n(e.copy(r))},i)},p.getSuggest=function(e,t){var n=m+"iconsets/suggest?term="+e.term+(e.platform?"&platform="+e.platform:"")+(e.amount?"&amount="+e.amount:"");p.callApi(n,function(e){var n=e.search.suggests,i=e.search.spelling;n||(n=[]),i||(i=[]),n.term&&(n=d(n.term)),i.term&&(n=d(i.term)),t&&t(n,i)})},p.getSimilar=function(t,n,i){var r=g+"iconsets/similar?id="+t.id+(t.amount?"&amount="+t.amount:""),s=f.similar.get(r);s?n&&n(s):p.callApi(r,function(t){s=t.similar.icon,s?(s=d(s),e.forEach(s,function(e){o.configIcon(e)}),f.similar.set(r,s)):s=[],n&&n(s)},i)},p.getLatest=function(t,n,i){var r=g+"iconsets/latest?amount="+t.amount+(t.platform?"&platform="+t.platform:""),s=f.latest.get(r);s?n&&n(s):p.callApi({url:r,cache:1e4},function(t){s=[],t.latest.platform?(t.latest.platform=d(t.latest.platform),e.forEach(t.latest.platform,function(e){s=s.concat(e.icon)}),s=d(s),e.forEach(s,function(e){o.configIcon(e)}),f.latest.set(r,s)):s=[],n&&n(s)},i)},p.addToLightBox=function(e,n,i){var o,r=m+"lightbox/add";t.put(r,e).success(function(e){o=p.parseXmlResponse(e),o.error&&i&&i(o),n&&n(o.result)})},p.getManualDownloadUrl=function(e){var t,n,i,o={};return e=e||{},o.format=String(e.format||"").toLowerCase()||"png",e.color&&(t=/^#?([0-9a-f]{1,2})([0-9a-f]{1,2})([0-9a-f]{1,2})$/i,n=t.exec(e.color),n&&(o.color=n.slice(1).map(function(e){return 1==e.length?[e,e].join(""):e}).join("").toLowerCase())),("png"==o.format||parseInt(e.size)>0)&&(o.size=parseInt(e.size)),o.id=e.icon||e.id,i=c(o),[m+"iconsets/download",i].join("?")},p}]),e.module("web-app").factory("IconsCollsModel",["$q","config","icons8Res","utils","IconService","Icons8Api","$filter",function(e,t,n,i,o,r,s){"use strict";function a(e,t){e.linkIcon(this,t.collVer),this._id=t._id,this.extId=t.extId,this.data=JSON.parse(t.data),o.prepareIconForCollection(this.data)}function l(e,t){e.linkColl(this),this._id=t._id,this._local_id=t._local_id||t._id,this.name=t.name,this.ver=t.ver,this.icons=[],this.loadIcons()}function c(e,t){this.creator=e,this.colls=[],this.offline=t;var i=this;this.offline?(localStorage.colls||(localStorage.colls=JSON.stringify([])),JSON.parse(localStorage.colls).forEach(function(e){if("undefined"!=typeof localStorage["coll."+e]&&"undefined"!==localStorage["coll."+e]){var t=JSON.parse(localStorage["coll."+e]);new l(i,t)}}),i.colls.length||i.addColl(i.defaultCollName)):n("/collection").query({creator:this.creator}).get().then(function(e){e.data.forEach(function(e){new l(i,e)}),i.colls.length||i.addColl(i.defaultCollName)},function(e){console.log("IconsColls load error:",e)})}var d=!0;return a.prototype.update=function(t){var n=this;if(this.parent.parent.offline)return e(function(e,i){var o,r=JSON.parse(localStorage["coll."+n.parent._id]);r.icons.some(function(e,t){return e._id===n._id?(o=t,!0):void 0})&&(r.icons[o].data=JSON.stringify(t)),localStorage["coll."+n.parent._id]=JSON.stringify(r),e()});throw new Error("Icons update not implemented!")},a.prototype.remove=function(){var t=this;return e(this.parent.parent.offline?function(e,n){var i,o=JSON.parse(localStorage["coll."+t.parent._id]);o.icons.some(function(e,n){return e._id===t._id?(i=n,!0):void 0})&&o.icons.splice(i,1),localStorage["coll."+t.parent._id]=JSON.stringify(o),t.parent.unlinkIcon(t),e()}:function(e,i){n("/collection/:collId/icon/:id").params({collId:t.parent._id,id:t._id})["delete"]().then(function(n){t.parent.unlinkIcon(t,n.data.collVer),e()},function(e){i(e)})})},l.prototype.isAutoCreated=function(){return this.name===this.parent.defaultCollName},l.prototype.isDownloadColl=function(){return this._local_id===this.parent.downloadCollId},l.prototype.loadIcons=function(){var t=this;return e(this.parent.offline?function(e,n){var i=JSON.parse(localStorage["coll."+t._id]);i.icons.forEach(function(e){new a(t,e)}),e()}:function(e,i){n("/collection/:id/icon").params({id:t._id}).get().then(function(n){n.data.forEach(function(e){new a(t,e)}),e()},function(e){i(e)})})},l.prototype.remove=function(){if(1===this.parent.colls.length)return this.update({name:this.parent.defaultCollName});var t=this;return e(this.parent.offline?function(e,n){var i=JSON.parse(localStorage.colls);i.splice(i.indexOf(t._id),1),localStorage.colls=JSON.stringify(i),delete localStorage["coll."+t._id],t.parent.unlinkColl(t),e()}:function(e,i){n("/collection/:id").params({id:t._id})["delete"]().then(function(n){t.parent.unlinkColl(t),e()},function(e){i(e)})})},l.prototype.addIcon=function(i,o){if(this.icons.length>=t.collIconsLimit)return e(function(e,t){t()});var r=this;return e(this.icons.some(function(e){return e.extId===i})?function(e,t){t()}:this.parent.offline?function(e,t){var n=JSON.parse(localStorage["coll."+r._id]),s={extId:i,data:JSON.stringify(o),_id:i};n.icons.push(s),localStorage["coll."+r._id]=JSON.stringify(n),e(new a(r,s))}:function(e,t){n("/collection/:id/icon").params({id:r._id}).body({extId:i,data:JSON.stringify(o)}).post().then(function(t){e(new a(r,t.data))},function(e){t(e)})})},l.prototype.findIcon=function(e){var t=null;return this.icons.some(function(n){return n.extId===e?(t=n,!0):void 0}),t},l.prototype.toggleIcon=function(e,t){var n=this.findIcon(e);n?n.remove():this.addIcon(e,t)},l.prototype.update=function(t){var i=this;return e(this.parent.offline?function(e,n){var o=JSON.parse(localStorage["coll."+i._id]);t.name&&(o.name=t.name,localStorage["coll."+i._id]=JSON.stringify(o),i.name=t.name),t._local_id&&(o._local_id=t._local_id,localStorage["coll."+i._id]=JSON.stringify(o),i._local_id=t._local_id),e(i)}:function(e,o){n("/collection/:id").params({id:i._id}).body({name:t.name}).put().then(function(t){i.updateVer(t.data.ver),i.name=t.data.name,e(i)},function(e){o(e)})})},l.prototype.linkIcon=function(e,t){return this.icons.push(e),e.parent=this,this.updateVer(t),this},l.prototype.unlinkIcon=function(e,t){return this.icons.splice(this.icons.indexOf(e),1),delete e.parent,this.updateVer(t),this},l.prototype.updateVer=function(e){return e&&(this.ver=e),this},l.prototype.setCurrent=function(){return this.parent.current=this,this},l.prototype.isCurrent=function(){return this.parent.current===this},l.prototype.updateIconsInCollection=function(e){
if("function"!=typeof e)return!1;var t,n="",i=this.icons;for(t=0;t<i.length;++t)i[t].data.imported||(n=0==n.length?i[t]._id:n+","+i[t]._id);r.getIcons(n,function(t){i.forEach(function(e){var n=s("filter")(t,{_id:e._id},!0)[0];n&&(e.data=n)}),e()})},c.prototype.defaultCollName="01670490-171b-4eb0-9136-95c4ae41553c",c.prototype.downloadCollId="down-286e38c0-516f-11e5-95a0-0002a5d5c51b",c.prototype.addColl=function(o,r){if(this.colls.length>=t.collsLimit)return e(function(e,t){t()});var s=this;return e(this.offline?function(e,t){var n={_id:i.uuid(),_local_id:r&&r.isDownload&&s.downloadCollId||void 0,name:o,icons:[]};localStorage["coll."+n._id]=JSON.stringify(n);var a=JSON.parse(localStorage.colls);a.push(n._id),localStorage.colls=JSON.stringify(a),e(new l(s,n).setCurrent())}:function(e,t){n("/collection").body({name:o,creator:s.creator}).post().then(function(t){e(new l(s,t.data).setCurrent())},function(e){t(e)})})},c.prototype.linkColl=function(e){return this.colls.length||(this.current=e),this.colls.push(e),e.parent=this,this},c.prototype.unlinkColl=function(e){var t=this.colls.indexOf(e),n=this.colls.length;return this.current===e&&(t>0?this.current=this.colls[t-1]:n>1?this.current=this.colls[1]:delete this.current),this.colls.splice(t,1),delete e.parent,this},c.prototype.setToDownload=function(){var e=this,t=s("filter")(e.colls,{_local_id:e.downloadCollId},!0)[0];return t?t.setCurrent():1==e.colls.length&&e.current?0==e.current.icons.length?e.current.update({_local_id:e.downloadCollId,name:"Downloaded"}):(e.current.update({_local_id:e.defaultCollName,name:"Default"}),e.addColl("Downloaded",{isDownload:!0})):e.addColl("Downloaded",{isDownload:!0}),!0},new c(app.auth.userId,d)}]),e.module("web-app").factory("IconsColor",["$localStorage",function(e){var t=e.$default({iconColor:{color:"#000",lastColor:"false"}}).iconColor;return t}]),e.module("web-app").factory("IconsStyleSheet",["IconsColor","DynamicStylesService","UserInfo",function(e,t,n){var i=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,o=function(e){return 4===e.length?e[1]+e[1]+e[2]+e[2]+e[3]+e[3]:e.substr(1)},r=function(e){e=o(e);var t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2,2),16),i=parseInt(e.substr(4,2),16),r=(299*t+587*n+114*i)/1e3;return r>=212},s=function(e){var n,o;i.test(e)&&(r(e)?(o="white",n="#92989e"):(o="inherit",n="none"),t.createSheet().add(".icons-set__icon-svg > svg","fill: "+e+" !important",0).add(".icon-preview__svg > svg","fill: "+e+" !important",1).add(".icons-set__icon-data:not(.m-color-icon) .icons-set__icon-title","color: "+o+" !important",2).add(".icons-set__icon:not(.m-color-icon)","background: "+n+" !important",3).add(".icons-set__icon:hover:not(.m-color-icon)","background: #f4f4f4 !important",4).add(".icon-preview__svg:not(.m-color-icon)","background: "+n+" !important",5).add(".container1 > div, .container2 > div, .container3 > div","background-color: "+e+" !important",6))};return s(e.color),{setIconsColor:s}}]),e.module("web-app").service("InsertHtmlService",["$sce","SelectedIcon","IconsColor","settingsService","iconBuilderService",function(t,n,i,o,r){var s={html:{},img:{},css:{}};s.insertType="png",s.svgType="html",s.pngType="base64";var a=function(e,t){var n=$(e.svg.substr(e.svg.indexOf("<svg"))),i=document.createElement("div");i.appendChild(n[0]);var o=i.innerHTML;o=o.substr(o.indexOf(">")+1),o=o.substr(0,o.lastIndexOf("<"));var r=(t.width,o.split("\n").join("")),s='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.0" x="0px" y="0px" width="'+n[0].getAttribute("width")+'" height="'+n[0].getAttribute("height")+'" viewBox="'+n[0].getAttribute("viewBox")+'" style="'+n[0].getAttribute("style")+'" '+(t.className?'class="icon '+t.className+'" ':"")+(t.color?'fill="'+t.color+'" ':"")+">",a="</svg>";return s+r+a};return s.configInsert=function(){s.insertType=o.iconExportFormat.id;var l=o.pngExportSize(n.icon._platform),c="icons8-"+n.icon.name.split(" ").join("-"),d='class="icon '+c+'"';s.html={html:t.trustAsHtml("<!-- "+n.icon.name+" icon by Icons8 -->\n"+a(n.icon,{className:c})),css:t.trustAsHtml("/*"+n.icon.name+" icon by Icons8 */\n."+c+" { /* Customizes "+n.icon.name+" icon */\n  fill:"+i.color+";\n  width: "+l+"px;\n  height: "+l+"px;\n}\n.icon { /* Customizes all icons at once */\n  display: inline-block;\n}")},s.img={html:t.trustAsHtml("<!-- "+n.icon.name+" icon by Icons8 -->\n<img "+d+" src='data:image/svg+xml;base64,"+window.btoa(a(n.icon,{width:l,color:i.color}))+"'/>"),css:t.trustAsHtml("/*"+n.icon.name+" icon by Icons8 */\n."+c+" { /* Customizes "+n.icon.name+" icon */\n  width: "+l+"px;\n  height: "+l+"px;\n}\n.icon { /* Customizes all icons at once */\n  display: inline-block;\n}")},s.css={html:t.trustAsHtml("<!-- "+n.icon.name+" icon by Icons8 -->\n<div "+d+"></div>"),css:t.trustAsHtml("/*"+n.icon.name+" icon by Icons8 */\n."+c+" { /* Customizes "+n.icon.name+" icon */\n  background: url('data:image/svg+xml;base64,"+window.btoa(a(n.icon,{width:l,color:i.color}))+"') 50% 50% no-repeat;\n  background-size: 100%;\n  width: "+l+"px;\n  height: "+l+"px;\n}\n.icon { /* Customizes all icons at once */\n  display: inline-block;\n}")},s.png={html:{},sizes:n.icon.png.png},s.png.sizes[0].link&&!s.png.sizes[0]._link&&(s.png.sizes[0]._link=s.png.sizes[0].link),s.png.sizes[0].height&&!s.png.sizes[0]._height&&(s.png.sizes[0]._height=s.png.sizes[0].height),s.png.currentLink=s.png.sizes[0]._link,s.png.currentSize=s.png.sizes[0]._height,e.forEach(n.icon.png.png,function(e){e.height&&!e._height&&(e._height=e.height),e.link&&!e._link&&(e._link=e.link),s.png.html[e._height]=t.trustAsHtml("<!-- "+n.icon.name+' icon by Icons8 -->\n<img src="'+e._link+'" title="'+n.icon.name+'" width="'+e._height+'">')}),s.pngBase64={html:t.trustAsHtml("<!-- "+n.icon.name+" icon by Icons8 -->\n<img "+d+' src="'+r.iconToCanvasWithColorAndSize(n.icon).toDataURL("image/png")+'" width="'+l+'" height="'+l+'">')}},s}]),e.module("web-app").factory("LightBox",["$localStorage","$timeout","$rootScope",function(t,n,i){function o(){return e.isNumber(r.factory.current)||(r.factory.current=0),r.factory.current>=r.factory.collections.length&&(r.factory.current=0),r.factory.current<0&&(r.factory.current=0),0===r.factory.collections.length&&r.factory.collections.push({id:1,name:"",icons:[]}),r.factory.collections[r.factory.current].icons}var r={};return r.factory=t.$default({lightBox:{collections:[{id:1,name:"",icons:[]}],current:0}}).lightBox,r.setCurrentCollection=function(e){r.factory.current=e;var t=o();i.$emit("LightBox.currentCollection.length",t.length)},r.getIconIndex=function(t){var n=-1,i=o();return e.forEach(i,function(e,i){e._id===t._id&&(n=i)}),n},r.isIconExist=function(t){var n=!1,i=o();return e.forEach(i,function(e){e._id===t._id&&(n=!0)}),n},r.addIcon=function(e){var t=o();r.isIconExist(e)||t.push(e),e.starred=!0,i.$emit("LightBox.currentCollection.length",t.length),n(function(){var e=$(".icons-set-scroll-wrapper");e.scrollTop(e[0].scrollHeight)},0)},r.removeIcon=function(e){var t=r.getIconIndex(e),n=o();t>=0&&n.splice(t,1),e.starred=!1,i.$emit("LightBox.currentCollection.length",n.length)},r.clearIcons=function(){for(var e=o();e.length>0;)e.pop();i.$emit("LightBox.currentCollection.length",0)},r.addCollection=function(e){var t=r.factory.collections,n=t.length>0?t[t.length-1].id+1:1;t.push({id:n,name:e||"New collection",icons:[]}),r.factory.current=t.length-1,i.$emit("LightBox.currentCollection.length",0)},r.removeCurrentCollection=function(){r.factory.collections.length>1&&(r.clearIcons(),r.factory.collections.splice(r.factory.current,1),r.factory.current>=r.factory.collections.length&&(r.factory.current-=1))},r.removeCollection=function(e){r.factory.collections[r.factory.current].id===e&&(r.factory.current-=1),r.factory.current<0&&(r.factory.current=0),r.factory.collections=r.factory.collections.filter(function(t,n){return t.id===e&&n<=r.factory.current&&(r.factory.current-=1),t.id!==e});var t=o();i.$emit("LightBox.currentCollection.length",t.length)},r.renameCurrentCollection=function(e){r.factory.collections[r.factory.current].name=e},r}]),e.module("web-app").factory("Modal",function(){return{show:!1,title:"Oops",content:"Something goes wrong. We are already working on it.",template:""}}),e.module("web-app").service("ModalsService",["Modal","$timeout",function(e,t){var n={};return n.show=function(t,n,i){e.title=t||"",e.content=n,e.template=!1,e.wide=!1,e.animate="right",e.show=!0,i&&(e.actions=!0,e.callback=i)},n.showCustom=function(n,i){e.title=n.title||"",e.template=n.template||!1,e.content=n.content||!1,e.actions=n.actions!==!1,e.templateParams=n.templateParams||!1,e.animate=n.animate||"right",e.wide=n.wide||!1,i&&(e.callback=i),t(function(){e.show=!0},50)},n.hide=function(){e.show=!1,e.callback=!1},n.confirm=function(){e.show=!1,e.callback&&e.callback()},n}]),e.module("web-app").factory("SEO",["app",function(e){"use strict";var t={url:"",title:"",description:"",preview:"",previewWidth:256,previewHeight:256,previewTwtrWidth:256,previewTwtrHeight:256,statusCode:200,set:function(n){var i;if(n=n||{},t.url=n.url||location.href,n.canonical?t.canonical=n.canonical:(i=location.protocol+"//"+location.host+location.pathname,i!==t.url&&(t.canonical=i)),t.title=n.title||"Icons8 - "+e.iconsCount+" icons + Icon Tools",t.description=n.description||t.title,t.preview=n.preview||"",t.previewTwitter=n.previewTwitter||"",t.statusCode=n.statusCode||200,t.preview.length>0){var o=new Image;o.src=t.preview,$(o).on("load",function(){t.previewWidth=o.width,t.previewHeight=o.height})}if(t.previewTwitter.length>0){var o=new Image;o.src=t.previewTwitter,$(o).on("load",function(){t.previewTwtrWidth=o.width,t.previewTwtrHeight=o.height})}}};return t}]),e.module("web-app").factory("Search",["$localStorage",function(e){"use strict";var t=e.$default({search:{term:"",platform:"all",category:"",termTitle:"",platformTitle:"All icon packs",categoryTitle:"",categoryDescription:"",categoryStory:"",categoryPreview:"",categoryShortUrl:""}}).search;return t.term||0===t.term||(t.term=""),t}]),e.module("web-app").service("SelectedCategory",["CategoryModel","Search","$rootScope","$injector","PrerenderService","$q","$route",function(e,t,n,i,o,r,s){function a(e){return String(e||"").toLowerCase().replace(" ","-")}var l=this,c=r.defer();this.category=null,this.$pending=!0,this.$wait=function(e){c.promise["finally"](e)},c.promise["finally"](function(){c=null}),n.$watch(function(){var e=i.get("SelectedIcon"),n=e.icon||{};return[t.category,t.platform,n.category,n.platform,((s.current||{}).$$route||{}).isNewIconPage].join()},function(){var n,d,u,h,p,f,m=null,g=null;if(n=i.get("SelectedIcon"),h=n.icon||{},t.category)m=t.category,g=t.platform;else if(((s.current||{}).$$route||{}).isNewIconPage){if(m=h.category,!m&&!h.platform)return;g=h.platform.name}l.category&&a(l.category._name)!=a(m)&&(l.category=null,l.$pending||(l.$wait=null)),d=i.get("Icons8Api"),u=i.get("settingsService"),g?(l.$pending=!0,p=o.wait("selected-category"),f=c||r.defer(),d.getCategoryList({platform:g},function(t){(t||[]).forEach(function(t){t&&a(t._name)==a(m)&&(l.category=e.prepare(t))}),u.fixIconExportFormat(),u.fixPngExportSize(),l.$pending=!1,f.resolve(),p()},function(){l.$pending=!1,f.reject(),p()}),l.$wait=function(e){f.promise["finally"](e)}):(u.fixIconExportFormat(),u.fixPngExportSize(),c&&(l.$wait=null,l.$pending=!1,c.resolve()))}),this.getContentPerm=function(){return this.category?this.category.content.perm:{}}}]),e.module("web-app").factory("SelectedIcon",["$localStorage","IconModel",function(e,t){var n;return n=e.$default({selectedIcon:{icon:{}}}).selectedIcon,t.prepare(n.icon),n}]),e.module("web-app").service("SelectedIconService",["$route","$routeParams","$location","SelectedIcon","Icons8Api","SEO","Search",function(e,t,n,i,o,r,s){var a={};return a.showIcon=function(e){e._id!==i.icon._id&&(i.icon.selected=!1,i.icon=e,i.icon.selected=!0,i.icon.tags=[])},a.loadIcon=function(e){a.showIcon(e,!0),s.category=e.category,s.categoryTitle=e.category?e.category.split("-").join(" "):!1,s.platform=e.platform.name,r.set({title:e.title,preview:e.preview,previewTwitter:e.previewTwitter,description:e.desc})},a}]),e.module("web-app").factory("SideBars",["$localStorage",function(e){return e.$default({sidebars:{left:{active:!0},right:{active:!0,template:"icon"}}}).sidebars}]),e.module("web-app").factory("ToastsQueue",function(){return[]}),e.module("web-app").service("ToastsService",["ToastsQueue","$timeout",function(e,t){var n={};return n.push=function(n){var i=e.length;e.push({id:i+1,content:n}),t(function(){e.shift()},3e3)},n}]),e.module("web-app").factory("WorkingIconService",["$localStorage",function(e){var t={},n=["PNG Small","PNG Medium","PNG Huge"],i=["SVG","EPS","PDF"];return t.workingIcon=e.$default({workingIcon:{format:n[0]}}).workingIcon,t.rastrList=n,t.vectorList=i,t}]),e.module("web-app").factory("app",[function(){return app||{iconsCount:6600}}]),e.module("web-app").service("dndService",[function(){"use strict";this.data=null,this.type=null,this.dropZones={},this.dropZonesByType=function(e){var t=this.dropZones[e]||[];return this.dropZones[e]=t,t},this.dropZoneAdd=function(e,t){var n=this.dropZonesByType(e);n.push(t)},this.dropZoneRemove=function(e,t){var n=this.dropZonesByType(e),i=n.indexOf(t);i>=0&&n.splice(i,1),n.length||delete this.dropZones[e]}}]),e.module("web-app").service("iconBuilderService",["ModalsService","settingsService","UserInfo","$http","$q","FileService","utils",function(e,t,n,i,o,r,s){function a(e,t){if(s.isSafari){var n,i=new FileReader;i.onloadend=function(){var e=$("<form>",{method:"post",action:app.apiUrl+"/api/lightbox/download",target:"_top"}).append($("<input>",{name:"name",value:t,type:"text"})).append(n=$("<textarea>",{name:"data",type:"text",maxlength:1e8}));n.val(i.result.replace(/^[^,]+,/,"")),e.submit()},i.readAsDataURL(e)}else saveAs(e,t)}function l(e,n){var i=$($.parseXML(e.svg)),o=i.find("svg"),r=n||t.pngExportSize(e._platform);o.attr("width",r),o.attr("height",r),"#000"!==t.iconsColor&&"#000000"!==t.iconsColor&&o.css("fill",t.iconsColor);var s=document.createElement("canvas");return canvg(s,(new XMLSerializer).serializeToString(i.context),{ignoreMouse:!0,ignoreAnimation:!0}),s}function c(e){var n=$($.parseXML(e.svg)),i=n.find("svg");return"#000"!==t.iconsColor&&"#000000"!==t.iconsColor&&i.css("fill",t.iconsColor),(new XMLSerializer).serializeToString(n.context)}function d(t,n){s.isSafari?r.downloadFile(t):i.get(t,{responseType:"blob"}).success(function(e){a(e,n)}).error(function(){e.show("Oops","Something goes wrong. We are already working on it.")})}this.iconToCanvasWithColorAndSize=l,this.iconToSvgWithRecolor=c,this.downloadIconFile=function(e){var n,i;"png"===t.iconExportFormat.id?(i=t.pngExportSize(e._platform),l(e).toBlob(function(t){a(t,e._name+"-"+i+".png")},"image/png")):"eps"===t.iconExportFormat.id?(n=e.vector.eps._link,s.isSafari&&-1==n.toLowerCase().indexOf("?download")&&(n+="?download"),d(n,e._name+".eps")):"pdf"===t.iconExportFormat.id?(n=e.vector.pdf._link,s.isSafari&&-1==n.toLowerCase().indexOf("?download")&&(n+="?download"),d(n,e._name+".pdf")):"svg"===t.iconExportFormat.id&&("original"===t.svgExportType?(e.vector.svg.some(function(e){return"editable"===e._format?(n=e._link,!0):!1}),n&&(s.isSafari&&-1==n.toLowerCase().indexOf("?download")&&(n+="?download"),d(n,e._name+".svg"))):"simplified"===t.svgExportType&&a(new Blob([c(e)],{type:"image/svg+xml;charset=utf-8"}),e._name+".svg"))},this.downloadCollectionFile=function(n,r){var d,u=new JSZip,h=[],p=new s.UniqNames,f=this;"png"===t.iconExportFormat.id?(r.forEach(function(e){var t=l(e).toDataURL("image/png");u.file(p.getName(e._name)+".png",t.replace(/^[^,]+,/,""),{base64:!0})}),d=u.generate({type:"blob"}),a(d,(n||"Icons8")+".zip")):"eps"===t.iconExportFormat.id?(this.downloadPending=!0,r.forEach(function(e){e.vector&&e.vector.eps&&e.vector.eps._link&&h.push(i.get(e.vector.eps._link).success(function(t){u.file(p.getName(e._name)+".eps",t)}))}),o.all(h).then(function(){d=u.generate({type:"blob"}),a(d,(n||"Icons8")+".zip")},function(){e.show("Oops","Something goes wrong. We are already working on it.")})["finally"](function(){f.downloadPending=!1})):"pdf"===t.iconExportFormat.id?(this.downloadPending=!0,r.forEach(function(e){e.vector&&e.vector.pdf&&e.vector.pdf._link&&h.push(i.get(e.vector.pdf._link,{responseType:"arraybuffer"}).success(function(t){u.file(p.getName(e._name)+".pdf",t)}))}),o.all(h).then(function(){d=u.generate({type:"blob"}),a(d,(n||"Icons8")+".zip")},function(){e.show("Oops","Something goes wrong. We are already working on it.")})["finally"](function(){f.downloadPending=!1})):"svg"===t.iconExportFormat.id&&("original"===t.svgExportType?(this.downloadPending=!0,r.forEach(function(e){e.vector&&e.vector.svg&&h.push(i.get(s.findByProp(e.vector.svg,"_format","editable")._link).success(function(t){u.file(p.getName(e._name)+".svg",t)}))}),o.all(h).then(function(){d=u.generate({type:"blob"}),a(d,(n||"Icons8")+".zip")},function(){e.show("Oops","Something goes wrong. We are already working on it.")})["finally"](function(){f.downloadPending=!1})):"simplified"===t.svgExportType&&(r.forEach(function(e){u.file(p.getName(e._name)+".svg",c(e))}),d=u.generate({type:"blob"}),a(d,(n||"Icons8")+".zip")))},this.buildIconDataUrl=function(e){return{url:l(e,42).toDataURL("image/png"),width:21,height:21}}}]),e.module("web-app").factory("icons8Res",["$q","$http","config",function(t,n,i){"use strict";function o(e){this._uri=e,this._params={},this._query={},this._body={}}return o.prototype.params=function(t){return e.extend(this._params,t),this},o.prototype.query=function(t){return e.extend(this._query,t),this},o.prototype.body=function(t){return e.extend(this._body,t),this},o.prototype.method=function(e){return this._method=e,this},o.prototype.req=function(){var t=this,o=this._uri.replace(/\:(\w+)/gim,function(e,n){return encodeURIComponent(t._params[n])}),r={method:this._method,withCredentials:!1,url:i.icons8Api+o,params:e.extend({authUser:app.auth.userId},this._query),responseType:"json"};return this._body&&(r.headers={"Content-Type":"application/x-www-form-urlencoded"},r.data=$.param(this._body)),n(r)},o.prototype.post=function(){return this._method="post",this.req()},o.prototype.put=function(){return this._method="put",this.req()},o.prototype.get=function(){return this._method="get",this.req()},o.prototype["delete"]=function(){return this._method="delete",this.req()},function(e){return new o(e)}}]),e.module("web-app").service("settingsService",["config","UserInfo","IconsColor","IconsStyleSheet","utils","$location","SelectedCategory",function(e,t,n,i,o,r,s){function a(e,n){return t.isGuest?n:localStorage[e]||n}var l=7;this.platforms=e.platforms,this.iconExportFormats=e.iconExportFormats,this.largePngForUserAvailable=t.license.features.nolink,this.pngSizeLimit=e.pngSizeLimit,this.hasPngPromo=!1,this.pngPromoLargePngAvailable=null;var c=e.promoList[(r.search()||{}).promo];c&&o.dateFromUTC(c.expired)>new Date&&(this.hasPngPromo=!0,c.pngSizeLimit?this.pngSizeLimit=c.pngSizeLimit:(this.largePngForUserAvailable=!0,this.pngPromoLargePngAvailable=!0)),this.setPlatform=function(e){var t=this;if(!this.platforms.some(function(n){return n.id===e?(t.platform=n,localStorage.platform=e,!0):!1}))throw new Error("Id not found in config.platforms.",e)},this.platformByApiId=function(e){var t;if(!this.platforms.some(function(n){return n.apiId===e?(t=n,!0):!1}))throw new Error("ApiId not found in config.platforms.",e);return t},this.fixIconExportFormat=function(){var e,n=this;return s.$wait&&s.$pending?void s.$wait(function(){n.fixIconExportFormat()}):(e=this.iconExportFormat,void("png"===e||t.license.features.vector||s.getContentPerm().vector||this.setIconExportFormat("png")))},this.setIconExportFormat=function(e,n){var i=this,o=n||!1;if(!this.iconExportFormats.some(function(t){return t.id===e?(i.iconExportFormat=t,localStorage.iconExportFormat=e,!0):!1}))throw new Error("Id not found in config.iconExportFormats.",e);s.$wait&&s.$pending?s.$wait(function(){i.setIconExportFormat(e)}):o&&o.available?i.promptToPremium=!1:"png"===e||t.license.features.vector||s.getContentPerm().vector||(i.promptToPremium=-1!=["svg","pdf","eps"].indexOf(e)?e:"eps",e="png",i.setIconExportFormat(e))},this.initIconExportFormat=function(){var e,t=this;e="png",this.iconExportFormats.some(function(n){return n.id===e?(t.iconExportFormat=n,!0):void 0})},this.fixPngExportSize=function(){var e,t,n=this;if(s.$wait&&s.$pending)return void s.$wait(function(){n.fixPngExportSize()});if(this.pngExportSizeIsCustom)this._pngCustomSize>this.pngSizeLimit&&!this.largePngForUserAvailable&&!s.getContentPerm().nolink&&(this.pngCustomSize=this.pngSizeLimit);else if(this.platform.pngSizes[this.pngExportSizeIdx].premium&&!this.largePngForUserAvailable&&!s.getContentPerm().nolink)for(t=this.platform.pngSizes,e=t.length-1;e>=0;e--)if(!t[e].premium){this.setPngExportSizeIdx(e);break}},this.setPngExportSizeIdx=function(e,t){var n=this;return s.$wait&&s.$pending?void s.$wait(function(){n.setPngExportSizeIdx(e)}):void(t?(this.pngExportSizeIdx=e,localStorage.pngExportSizeIdx=e):!this.platform.pngSizes[e].premium||this.largePngForUserAvailable||s.getContentPerm().nolink?(this.pngExportSizeIdx=e,localStorage.pngExportSizeIdx=e):this.promptToPremium="large-png")},this.initPngExportSizeIdx=function(){this.pngExportSizeIdx=2},this.pngExportSize=function(e){if(this.pngExportSizeIsCustom)return this.pngCustomSize;var t=this.platform.pngSizes[this.pngExportSizeIdx];return"small"===t.calc?this.platformByApiId(e).pngSizes[0].title:t.title},this.setPngExportSizeIsCustom=function(e){this.pngExportSizeIsCustom=e,localStorage.pngExportSizeIsCustom=e?"true":"false"},this.setSvgExportType=function(e){this.svgExportType=e,localStorage.svgExportType=e},this.setIconsColor=function(e){this.iconsColor=e,localStorage.iconsColor=e},Object.defineProperty(this,"pngCustomSize",{get:function(){return this._pngCustomSize},set:function(e){var t=this;return s.$wait&&s.$pending?void s.$wait(function(){t.pngCustomSize=e}):(this._pngCustomSize=Math.abs(e),this._pngCustomSize>4096&&(this._pngCustomSize=4096),this._pngCustomSize>this.pngSizeLimit&&!this.largePngForUserAvailable&&!s.getContentPerm().nolink&&(this.promptToPremium="large-png",this._pngCustomSize=this.pngSizeLimit),void(localStorage.pngCustomSize=this._pngCustomSize))},enumerable:!0}),this.initPngCustomSize=function(){this._pngCustomSize=this.pngSizeLimit},this.recolorIsAvailable=function(){var e="png"===this.iconExportFormat.id||"svg"===this.iconExportFormat.id&&"simplified"===this.svgExportType;return e||n.lastColor||(n.lastColor=n.color,n.color="#000000",i.setIconsColor("#000000")),e&&n.lastColor&&(n.color=n.lastColor,i.setIconsColor(n.lastColor),n.lastColor=!1),e},(localStorage.settingsServiceVersion||0)<l&&(localStorage.removeItem("platform"),localStorage.removeItem("iconsColor"),localStorage.removeItem("iconExportFormat"),localStorage.removeItem("pngExportSizeIsCustom"),localStorage.removeItem("pngExportSizeIdx"),localStorage.removeItem("pngCustomSize"),localStorage.removeItem("svgExportType"),localStorage.settingsServiceVersion=l),this.initIconExportFormat(),this.initPngExportSizeIdx(),this.initPngCustomSize(),this.setPlatform(a("platform","all")),this.setIconsColor(a("iconsColor","black")),this.setIconExportFormat(a("iconExportFormat","png")),this.setPngExportSizeIsCustom("true"===a("pngExportSizeIsCustom")),this.setPngExportSizeIdx(a("pngExportSizeIdx",2)),this.pngCustomSize=a("pngCustomSize",this.pngSizeLimit),this.setSvgExportType(a("svgExportType","simplified"))}]),e.module("web-app").factory("utils",[function(){function e(){this.names={}}function t(e,t,n,i){if(!Array.isArray(e))return i;Array.isArray(n)||(n=[n]);var o=i;return n.some(function(n){return e.some(function(e){return e[t]===n?(o=e,!0):void 0})}),o}function n(e){if(!e)return null;var t=e.split(/\D/);return new Date(Date.UTC(+t[0],t[1]-1,+t[2],+t[3],+t[4],+t[5],0))}function i(){var e=!1;return function(t,n){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}return Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,o=arguments[1],r=0;i>r;r++)if(t=n[r],e.call(o,t,r,n))return t;return void 0}),e.prototype.getName=function(e){var t=e,n=this.names[e]||1;return n>1&&(t+="_"+n),this.names[e]=n+1,t},{findByProp:t,UniqNames:e,isSafari:-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome"),isChrome:!!window.chrome,dateFromUTC:n,isMobile:i(),uuid:o}}]),e.module("web-app").run(["$templateCache",function(e){e.put("new-template-icon-format.html",'<div class="icon-format" popup-target="buyPopupTargetName" style="position: relative">\n        <div class="icon-format__buy-msg" ng-if="fontShorcut.hint()">\n    		<span class="icon icons8-close" ng-click="fontShorcut.close()"></span>\n    		Add some icons here and a button<br/>\n    		for generating a font will appear.\n  		</div>\n\n  <div class="icon-format-item icon-format-dropdown"\n        off-click="hideFormatMenu()"\n        off-click-if="formatMenu"\n        ng-click="toggleFormatMenu($event)">\n    {{ settings.iconExportFormat.title }}\n    <svg class="icon-format-dropdown__arrow" version="1.0" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="44.5px" height="24.336px" viewBox="0 0 44.5 24.336" style="enable-background:new 0 0 44.5 24.336;" xml:space="preserve">\n      <polygon points="42.414,0 22.25,20.164 2.086,0 0,2.086 22.25,24.336 44.5,2.086 "></polygon>\n    </svg>\n\n    <div class="panel panel-dropdown" ng-class="{active: formatMenu}">\n      <ul class="c-list">\n\n        <li class=""\n            ng-repeat="format in settings.iconExportFormats"\n            ng-show="settings.iconExportFormat.id != format.id"\n            ng-click="settings.setIconExportFormat(format.id, icon)">\n          <div class="b-list-item dropdown-menu__item">\n            {{ format.title }}\n          </div>\n        </li>\n        \n        <li class=""\n        	ng-show="fontShortcut.need()"\n            ng-click="fontShortcut.open()">\n          <div class="b-list-item dropdown-menu__item">\n            font\n            <svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="18px" height="18px" viewBox="0 0 26 26" style="enable-background: new 0 0 21.5 26; vertical-align: middle; padding-bottom: 4px; display: inline-block; fill: #95a5a6;">\n              <path d="M25.681,10.546l-9.309,7.278c-0.149,0.151-0.348,0.229-0.549,0.229c-0.102,0-0.203-0.021-0.299-0.059\n                c-0.291-0.121-0.465-0.405-0.465-0.719v-4.359c-9.955,0-14.309,2.808-13.646,11.751C-2.804,10.359,5.289,7.125,15.059,7.125V2.683\n                c0-0.315,0.173-0.598,0.465-0.718c0.289-0.121,0.625-0.053,0.848,0.168l9.309,7.313C25.985,9.748,25.985,10.243,25.681,10.546z"></path>\n            </svg>\n          </div>\n        </li>\n      </ul>\n    </div>\n\n  </div><div class="icon-format-item icon-format-options">\n\n    <div class="icon-format-options__option icon-format-png-options"\n         ng-show="settings.iconExportFormat.id == \'png\'">\n\n      <div class="icon-format-sizes"\n           ng-show="!settings.pngExportSizeIsCustom">\n        <div class="icon-format-sizes__bg"></div>\n\n        <div class="icon-format-sizes__labels">\n          <span class="icon-format-sizes__label"\n                ng-repeat="size in settings.platform.pngSizes"\n                ng-class="{ active: $index == settings.pngExportSizeIdx, inactive: isPngSizeInactive(size, $index) }"\n                ng-click="settings.setPngExportSizeIdx($index, !isPngSizeInactive(size, $index))">{{ size.title }}</span>\n\n          <span class="icon-format-sizes__label"\n                ng-click="settings.setPngExportSizeIsCustom(true)">&hellip;</span>\n        </div>\n\n      </div>\n\n      <div class="icon-format-png-custom"\n           ng-show="settings.pngExportSizeIsCustom">\n        <span class="icon-format-png-custom__close"\n              ng-click="settings.setPngExportSizeIsCustom(false)">&hellip;</span>\n        custom size\n        <input class="icon-format-png-custom__input" ng-model="settings.pngCustomSize" type="text" /><label>px</label>\n      </div>\n\n    </div>\n\n    <div class="icon-format-options__option icon-format-svg-options f-left"\n         ng-show="settings.iconExportFormat.id == \'svg\' && !icon.colored">\n\n      <input type="checkbox"\n             class="c-checkbox icon-format-svg-options__input"\n             id="checkboxSvgType"\n             ng-model="settings.svgExportType"\n             ng-true-value="\'simplified\'"\n             ng-false-value="\'original\'"\n             ng-change="settings.setSvgExportType(settings.svgExportType)">\n      <label for="checkboxSvgType">simplified svg</label>\n      <span class="tooltip-toggle-hover"\n            ng-mouseover="showSVGTooltip()"\n            ng-mouseleave="hideSVGTooltip()">\n        ?\n      </span>\n\n    </div>\n\n  </div>\n\n  <span class="tooltip svg-tooltip">\n    Simplified SVGs have compound paths, i.e.,\n    the whole icon consists of a single path.\n    They\'re suitable for fonts and other uses\n    when you\'re not planning to edit the icon.\n  </span>\n</div>'),e.put("page-category.html",'<div itemscope itemtype="http://schema.org/ItemList">\n	<link itemprop="url" href="{{seo.url}}" />\n    <div class="c-title-spinner">\n        <h1 class="icons-set-title" itemprop="name" >{{search.categoryTitle}}</h1>\n        <div ng-if="!icons"\n             ng-include="\'template-ios-spinner.html\'"\n             class="c-ios-spinner"></div>\n    </div>\n\n    <div class="b-cat-social-share" ng-if="share">\n        <a href\n           ng-click="toggleUrlTooltip($event)"\n           off-click="toggleUrlTooltip()"\n           off-click-if="showUrlTooltipFlag">\n            <span class="b-tooltip-container"\n                  ng-if="share.shortUrl"\n                  ng-class="{\'m-show-tooltip\': showUrlTooltipFlag}">\n                <input value="{{share.shortUrl}}" type="text" ng-style="{\'width\': share.shortUrl.length+1+\'ex\'}"/>\n            </span>\n            <svg xmlns="http://www.w3.org/2000/svg" version="1.0" x="0px" y="0px" width="21" height="21" viewBox="0 0 24 24" class="icon icons8-Link" fill="#9B9B9B"><path d="M 5 7 C 2.2 7 0 9.2 0 12 C 0 14.8 2.2 17 5 17 L 8 17 C 9.6 17 11.1 16.2 12 15 C 12.9 16.2 14.4 17 16 17 L 19 17 C 21.8 17 24 14.8 24 12 C 24 9.2 21.8 7 19 7 L 16 7 C 14.4 7 12.9 7.8 12 9 C 11.1 7.8 9.6 7 8 7 L 5 7 z M 5 9 L 8 9 C 8.9 9 9.6875 9.4 10.1875 10 L 13.8125 10 C 14.3125 9.4 15.1 9 16 9 L 19 9 C 20.7 9 22 10.3 22 12 C 22 13.7 20.7 15 19 15 L 16 15 C 15.1 15 14.3125 14.6 13.8125 14 L 10.1875 14 C 9.6875 14.6 8.9 15 8 15 L 5 15 C 3.3 15 2 13.7 2 12 C 2 10.3 3.3 9 5 9 z M 7.8125 11 A 1.001098 1.001098 0 0 0 8 13 L 16 13 A 1.0001 1.0001 0 1 0 16 11 L 8 11 A 1.0001 1.0001 0 0 0 7.90625 11 A 1.001098 1.001098 0 0 0 7.8125 11 z"></path></svg>\n        </a>\n        <a href="http://www.facebook.com/sharer/sharer.php?u={{share.encodedIconFullUrl}}" target="_blank"\n           ng-click="trackShareClick(\'facebook\')">\n            <svg xmlns="http://www.w3.org/2000/svg" version="1.0" x="0px" y="0px" width="19" height="19" viewBox="0 0 26 26" class="icon icons8-Facebook" fill="#9B9B9B"><path d="M21.125,0H4.875C2.182,0,0,2.182,0,4.875v16.25C0,23.818,2.182,26,4.875,26h16.25 C23.818,26,26,23.818,26,21.125V4.875C26,2.182,23.818,0,21.125,0z M20.464,14.002h-2.433v9.004h-4.063v-9.004h-1.576v-3.033h1.576 V9.037C13.969,6.504,15.021,5,18.006,5h3.025v3.022h-1.757c-1.162,0-1.238,0.433-1.238,1.243l-0.005,1.703h2.764L20.464,14.002z"></path></svg>\n        </a>\n        <a href="http://www.twitter.com/share?url={{share.encodedIconFullUrl}}&via=icons_8&text={{share.shareText}}"\n           target="_blank" ng-click="trackShareClick(\'twitter\')">\n            <svg xmlns="http://www.w3.org/2000/svg" version="1.0" x="0px" y="0px" width="19" height="19" viewBox="0 0 26 26" class="icon icons8-Twitter" fill="#9B9B9B"><path d="M25.855,5.574c-0.942,0.418-1.953,0.699-3.017,0.827c1.085-0.65,1.918-1.68,2.31-2.904 c-1.015,0.601-2.14,1.038-3.335,1.273c-0.957-1.021-2.321-1.658-3.831-1.658c-2.9,0-5.251,2.351-5.251,5.25 c0,0.411,0.047,0.812,0.137,1.196c-4.363-0.22-8.232-2.31-10.822-5.486c-0.452,0.777-0.71,1.679-0.71,2.641 c0,1.821,0.925,3.428,2.335,4.37c-0.861-0.027-1.67-0.264-2.378-0.657c0,0.022,0,0.044,0,0.066c0,2.545,1.81,4.664,4.21,5.148 c-0.439,0.121-0.903,0.185-1.382,0.185c-0.339,0-0.668-0.033-0.989-0.095c0.67,2.084,2.608,3.604,4.905,3.646 c-1.796,1.408-4.06,2.246-6.521,2.246c-0.425,0-0.842-0.023-1.252-0.073c2.322,1.49,5.083,2.359,8.048,2.359 c9.657,0,14.939-8.001,14.939-14.937c0-0.229-0.006-0.456-0.016-0.68C24.263,7.553,25.152,6.627,25.855,5.574"></path></svg>\n        </a>\n    </div>\n\n	<p\n        ng-show="search.categoryDescription"\n        class="icons-set-subtitle"\n        ng-bind-html="search.categoryDescription">\n    </p>\n\n	<div ng-if="!iconsError" ng-include="\'template-icons-set.html\'"></div>\n\n	<div ng-if="iconsError" request-error-message=""></div>\n	<div ng-if="icons !== false && icons.length == 0 && !iconsError" ng-include="\'template-icons-nothing-found.html\'"></div>\n</div>\n'),
e.put("page-latest.html",'<div itemscope itemtype="http://schema.org/ItemList">\n	<link itemprop="url" href="{{seo.url}}" />\n	<div class="c-title-spinner">\n		<h1 class="icons-set-title" itemprop="name">{{header}}</h1>\n	</div>\n\n	<div ng-if="!iconsError" ng-include="\'template-icons-set.html\'"></div>\n\n	<div ng-if="iconsError" request-error-message=""></div>\n	<div ng-show="icons.length == 0 && !iconsError">No new icons found</div>\n</div>'),e.put("page-search.html",'<div itemscope itemtype="http://schema.org/ItemList">\n	<link itemprop="url" href="{{seo.url}}" />\n\n	<div ng-if="!iconsError">\n		<div class="c-title-spinner">\n			<h1 class="icons-set-title" ng-if="icons.length" itemprop="name">\n				<span class="icons-set-title__search-term">{{search.termTitle}}</span> Icons\n			</h1>\n		</div>\n    <p class="icons-set-subtitle" ng-bind-html="additionalMsg"></p>\n		<div ng-include="\'template-icons-set.html\'"></div>\n	</div>\n\n	<div ng-if="iconsError" request-error-message=""></div>\n	<div ng-if="icons.length == 0 && !iconsError" ng-include="\'template-icons-nothing-found.html\'"></div>\n</div>'),e.put("template-app-panel.html",'\n<form\n		role="search"\n    itemprop="potentialAction" itemscope itemtype="http://schema.org/SearchAction"\n    class="icons-search-form km-search-from-web-app" action="/" method="post" ng-submit="$event.preventDefault();">\n  <meta itemprop="target" content="//icons8.com/web-app/for/all/{s}"/>\n  <div\n      class="icons-search__field"\n      off-click="search.showTerms = false"\n      off-click-if="search.showTerms">\n    <input\n        itemprop="query-input"\n        class="icons-search__input" type="text" name="s"\n        placeholder="search icons here" autocomplete="off"\n        ng-click="search.showTerms == true"\n        ng-model="search.term" ng-keyup="search.keyUp($event)">\n    <div\n        class="icons-search__suggests"\n        ng-class="{ active: search.terms && search.terms.length && search.showTerms }">\n      <div\n          class="icons-search__suggest"\n          ng-repeat="term in search.terms"\n          ng-click="search.search($event, term.__text)"\n          ng-class="{ active: $index == search.selectIndex }">\n        {{ term.__text }}\n      </div>\n    </div>\n  </div>\n\n  <div ng-click="search.doSearch()" class="icons-search__btn">\n    <svg xmlns="http://www.w3.org/2000/svg" version="1.0" x="0px" y="0px" width="20" height="20" viewBox="0 0 50 50">\n      <path style="text-indent:0;text-align:start;line-height:normal;text-transform:none;block-progression:tb;" d="M 21 3 C 11.623004 3 4 10.623004 4 20 C 4 29.376996 11.623004 37 21 37 C 24.709505 37 28.140329 35.803849 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460556 28.087561 38 24.221313 38 20 C 38 10.623004 30.376996 3 21 3 z M 21 5 C 29.296116 5 36 11.703884 36 20 C 36 28.296116 29.296116 35 21 35 C 12.703884 35 6 28.296116 6 20 C 6 11.703884 12.703884 5 21 5 z" stroke-width="2" overflow="visible" enable-background="accumulate"></path></svg>\n  </div>\n\n</form>'),e.put("template-buy-popup.html",'<div class="i8-popup">\n  <p>\n    Unlock\n    <span ng-if="settings.promptToPremium == \'large-png\'">large PNGs</span>\n    <span ng-if="settings.promptToPremium == \'svg\'">SVG</span>\n    <span ng-if="settings.promptToPremium == \'eps\'">EPS</span>\n    <span ng-if="settings.promptToPremium == \'pdf\'">PDF</span>\n    format<br>\n    for $249 or less\n  </p>\n  <p inject-service="UserInfo">\n    <a href="/paid-license-99"\n       class="c-btn m-btn-small">\n      Unlock\n    </a>\n    <a href="/login"\n       class="c-btn m-btn-small m-transparent"\n       onclick="location.href = \'/login?back=\' + app.auth.getRedirectUrl(); return false;"\n       ng-if="UserInfo.isGuest"\n        >\n      Login\n    </a>\n  </p>\n</div>'),e.put("template-collection-create.html",'<div class="i8-popup">\n    <div class="i8-popup-title">create collection</div>\n\n    <p>\n        <a href=""\n           ng-class="{\'hide\': showInfo}"\n           ng-click="showInfo = true;">What can you do with collections?</a>\n    </p>\n\n    <p class="hide"\n       ng-class="{\'hide\': !showInfo}"><strong>What can you do with collections?</strong></p>\n    <ol class="hide"\n        ng-class="{\'hide\': !showInfo}">\n        <li>Create fonts.</li>\n        <li>Edit and download multiple icons at once.</li>\n        <li>Store separate collections for separate projects.</li>\n<!--        <li>Sync collections between multiple computers.</li>-->\n<!--        <li>Share the collections with your teammates.</li>-->\n<!--        <li>Icon designers, you can store your icons in the cloud.</li>-->\n    </ol>\n\n    <form ng-submit="$closePopup(collName)">\n        <input ng-model="collName"\n               ng-init="collName = \'My first collection\'"\n               type="text" autoselect\n               value="my first collection"/>\n    </form>\n    <p>\n        <span class="c-btn m-btn-small"\n              ng-click="$closePopup(collName)">\n            Create\n        </span>\n        <span class="c-btn m-btn-small m-transparent"\n              ng-click="$cancelPopup()">\n            Cancel\n        </span>\n    </p>\n</div>'),e.put("template-collections-list.html",'<div class="i8-popup collection-list">\n    <span class="collection-list__new-btn"\n          ng-if="!isCollInCreate()"\n          ng-click="setCollInCreate(true);">\n        <span class="c-btn m-btn-small"\n              style="margin: 0">\n            New collection\n        </span>\n    </span>\n\n    <span class="icon icons8-edit f-right"\n          ng-click="showActions = !showActions;"></span>\n\n    <form class="collection-list__create"\n          ng-if="isCollInCreate()"\n          ng-submit="colls.addColl(collName); $cancelPopup(); setCollInCreate(false);">\n        <input ng-blur="setCollInCreate()"\n               ng-model="collName"\n               ng-init="collName = \'My collection\'"\n               autoselect\n               type="text" value=""/>\n    </form>\n\n    <div class="collection-list__item"\n         ng-repeat="coll in colls.colls">\n\n        <span class="icon icons8-check f-left"\n              ng-click="coll.setCurrent(); $cancelPopup();"\n              ng-if="coll.isCurrent() && !isCollInEdit(coll)"></span>\n\n        <span class="collection-list__item-title"\n              ng-click="coll.setCurrent(); $cancelPopup();"\n              ng-if="!isCollInEdit(coll)">{{ coll.name }}</span>\n\n        <form class="collection-list__item__form"\n              ng-if="isCollInEdit(coll)"\n              ng-submit="coll.update({ name: $parent.editedCollName }); setCollInEdit();">\n            <input\n                ng-blur="setCollInEdit()"\n                ng-model="$parent.editedCollName"\n                ng-init="$parent.editedCollName = coll.name"\n                autoselect\n                type="text" value=""/>\n        </form>\n\n        <span class="icon icons8-trash f-right"\n              ng-show="showActions"\n              ng-click="removeCollection(coll)"></span>\n        <span class="collection-list__item__edit f-right"\n              ng-show="showActions"\n              ng-click="setCollInEdit(coll)">rename</span>\n    </div>\n</div>'),e.put("template-colors.html",'<div class="colors">\n\n  <div class="colors-chooser cf" ng-show="showChooser">\n\n    <p class="colors-label">grayscale</p>\n\n    <div class="colors-block">\n      <div class="colors-block__item"\n           ng-class="{\'colors-block__item--borders\': color_.color == \'#ffffff\'}"\n           ng-repeat="color_ in colorsGray">\n        <span class="colors-block__color" ng-click="setColor(color_.color)" ng-style="{\'background-color\': color_.color}"></span>\n        <span class="colors-block__color" ng-click="setColor(color_.colorDark)" ng-style="{\'background-color\': color_.colorDark}"></span>\n      </div>\n    </div>\n\n    <p class="colors-label">color</p>\n\n    <div class="colors-block">\n      <div class="colors-block__item" ng-repeat="color_ in colors">\n        <span class="colors-block__color" ng-click="setColor(color_.color)" ng-style="{\'background-color\': color_.color}"></span>\n        <span class="colors-block__color" ng-click="setColor(color_.colorDark)" ng-style="{\'background-color\': color_.colorDark}"></span>\n      </div>\n    </div>\n  </div>\n\n  <div class="colors-picker cf" ng-show="showPicker">\n    <p class="colors-label">color palette</p>\n  </div>\n\n  <div class="colors-panel">\n    <p class="colors-label">custom</p>\n\n    <input type="text" class="colors-panel__input" ng-model="iconsColor.color"/>\n\n    <div class="colors-panel__picker" ng-class="{active: showPicker}"\n         ng-click="showPicker = true; showChooser = false;">\n      <div></div>\n    </div>\n\n    <div class="colors-panel__chooser" ng-class="{active: showChooser}"\n         ng-click="showChooser = true; showPicker = false;">\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  </div>\n\n</div>'),e.put("template-icon-format.html",'<div class="icon-format" popup-target="buyPopupTargetName">\n        <div class="icon-format__buy-msg" ng-if="fontShorcut.hint()">\n    		<span class="icon icons8-close" ng-click="fontShorcut.close()"></span>\n    		Add some icons here and a button<br/>\n    		for generating a font will appear.\n  		</div>\n\n  <div class="icon-format-item icon-format-dropdown"\n        off-click="hideFormatMenu()"\n        off-click-if="formatMenu"\n        ng-click="toggleFormatMenu($event)">\n    {{ settings.iconExportFormat.title }}\n    <svg class="icon-format-dropdown__arrow" version="1.0" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="44.5px" height="24.336px" viewBox="0 0 44.5 24.336" style="enable-background:new 0 0 44.5 24.336;" xml:space="preserve">\n      <polygon points="42.414,0 22.25,20.164 2.086,0 0,2.086 22.25,24.336 44.5,2.086 "></polygon>\n    </svg>\n\n    <div class="panel panel-dropdown" ng-class="{active: formatMenu}">\n      <ul class="c-list">\n\n        <li class=""\n            ng-repeat="format in settings.iconExportFormats"\n            ng-hide="settings.iconExportFormat.id == format.id || (icon.imported && (format.id != \'png\' && format.id != \'svg\'))"\n            ng-click="settings.setIconExportFormat(format.id, icon)">\n          <div class="b-list-item dropdown-menu__item">\n            {{ format.title }}\n          </div>\n        </li>\n        \n        <li class=""\n        	ng-show="fontShortcut.need()"\n            ng-click="fontShortcut.open()">\n          <div class="b-list-item dropdown-menu__item">\n            font\n            <svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="18px" height="18px" viewBox="0 0 26 26" style="enable-background: new 0 0 21.5 26; vertical-align: middle; padding-bottom: 4px; display: inline-block; fill: #95a5a6;">\n              <path d="M25.681,10.546l-9.309,7.278c-0.149,0.151-0.348,0.229-0.549,0.229c-0.102,0-0.203-0.021-0.299-0.059\n                c-0.291-0.121-0.465-0.405-0.465-0.719v-4.359c-9.955,0-14.309,2.808-13.646,11.751C-2.804,10.359,5.289,7.125,15.059,7.125V2.683\n                c0-0.315,0.173-0.598,0.465-0.718c0.289-0.121,0.625-0.053,0.848,0.168l9.309,7.313C25.985,9.748,25.985,10.243,25.681,10.546z"></path>\n            </svg>\n          </div>\n        </li>\n      </ul>\n    </div>\n\n  </div><div class="icon-format-item icon-format-options">\n\n    <div class="icon-format-options__option icon-format-png-options"\n         ng-show="settings.iconExportFormat.id == \'png\'">\n\n      <div class="icon-format-sizes"\n           ng-show="!settings.pngExportSizeIsCustom">\n        <div class="icon-format-sizes__bg"></div>\n\n        <div class="icon-format-sizes__labels">\n          <span class="icon-format-sizes__label"\n                ng-repeat="size in settings.platform.pngSizes"\n                ng-class="{ active: $index == settings.pngExportSizeIdx, inactive: isPngSizeInactive(size, $index) }"\n                ng-click="settings.setPngExportSizeIdx($index, !isPngSizeInactive(size, $index))">{{ size.title }}</span>\n\n          <span class="icon-format-sizes__label"\n                ng-click="settings.setPngExportSizeIsCustom(true)">&hellip;</span>\n        </div>\n\n      </div>\n\n      <div class="icon-format-png-custom"\n           ng-show="settings.pngExportSizeIsCustom">\n        <span class="icon-format-png-custom__close"\n              ng-click="settings.setPngExportSizeIsCustom(false)">&hellip;</span>\n        custom size\n        <input class="icon-format-png-custom__input" ng-model="settings.pngCustomSize" type="text" />\n      </div>\n\n    </div>\n\n    <div class="icon-format-options__option icon-format-svg-options f-left"\n         ng-show="settings.iconExportFormat.id == \'svg\' && !icon.colored && !icon.imported">\n\n      <input type="checkbox"\n             class="c-checkbox icon-format-svg-options__input"\n             id="checkboxSvgType"\n             ng-model="settings.svgExportType"\n             ng-true-value="\'simplified\'"\n             ng-false-value="\'original\'"\n             ng-change="settings.setSvgExportType(settings.svgExportType)">\n      <label for="checkboxSvgType">simplified svg</label>\n      <span class="tooltip-toggle-hover"\n            ng-mouseover="showSVGTooltip()"\n            ng-mouseleave="hideSVGTooltip()">\n        ?\n      </span>\n\n    </div>\n\n  </div><div class="icon-format-item icon-format-color f-right off-click-recolor"\n       ng-click="recolor.toggleColors($event)"\n       off-click="recolor.hideColors()"\n       off-click-if="recolor.showColors">\n    <div class="colors-panel__picker off-click-recolor"\n         ng-class="{inactive: !settings.recolorIsAvailable()}">\n      <div class="off-click-recolor"></div>\n    </div>\n    <div class="colors"\n         ng-show="recolor.showColors && settings.recolorIsAvailable()" color-picker>\n    </div>\n  </div>\n\n  <span class="tooltip svg-tooltip">\n    Simplified SVGs have compound paths, i.e.,\n    the whole icon consists of a single path.\n    They\'re suitable for fonts and other uses\n    when you\'re not planning to edit the icon.\n  </span>\n</div>'),e.put("template-icons-nothing-found.html",'<div class="not-found-icons-wrapper">\n  <div class="c-title-spinner">\n    <h1 class="icons-set-title">\n      Nothing found\n    </h1>\n  </div>\n  <div class="nothing-found">\n    Please tell us the icon you need, and we\'ll draw it for free.<br><br>\n    <a class="c-btn m-btn-small" href="http://buzz.icons8.com/forums/136215-request-icons-to-draw">\n      Request icon\n    </a>\n  </div>\n</div>'),e.put("template-icons-set.html",'<div ng-controller="IconSetCtrl">\n<div\n    class="icons-set"\n    ng-class="{\'m-category-page\': rootScope.isCategoryPage && search.platform == \'all\'}">\n\n    <!--For the Category pages with All platform -->\n    <div\n        class="b-subcategory-wrapper"\n        ng-if="(rootScope.isCategoryPage && search.platform == \'all\') && iconSubcategoriesList"\n        ng-repeat="subCategory in iconSubcategoriesList | orderBy:\'-order\'">\n\n        <h6\n            ng-bind="subCategory.subcategory_name"\n            ng-if="iconSubcategoriesList.length > 1"\n            ng-class="{\'m-first-subcategory\': $index == 0}">\n        </h6>\n      <div\n          class="b-icon-block-wrapper"\n          ng-if="iconsList"\n          ng-repeat="iconBlock in subCategory.blocksList | orderBy:\'-icons.length\'">\n          <span\n              class="icons-set_element"\n              ng-repeat="icon in iconBlock.icons | orderBy:\'platform.order\' "\n              ng-include="\'template-single-icon-wrapper.html\'">\n          </span>\n      </div>\n    </div>\n\n\n    <!--For the New pages Or category pages when platform selected-->\n    <div\n        class="b-subcategory-wrapper"\n        ng-if="(!rootScope.isCategoryPage || (rootScope.isCategoryPage && search.platform != \'all\')) && subCategoriesList"\n        ng-repeat="subCategory in subCategoriesList | orderBy:\'-order\' as orderedResult track by subCategory.subcategoryApiCode">\n\n        <h6 ng-bind="subCategory.subcategoryName" ng-if="subCategoriesList.length > 1"></h6>\n\n      <span\n          class="icons-set_element"\n          ng-repeat="icon in subCategory.icons | orderBy:orderBy "\n          ng-include="\'template-single-icon-wrapper.html\'">\n      </span>\n    </div>\n\n\n    <!--For all other pages, like Search-->\n    <span\n        class="icons-set_element"\n        ng-if="(!rootScope.isCategoryPage || (rootScope.isCategoryPage && search.platform != \'all\')) && !subCategoriesList"\n        ng-repeat="icon in icons | orderBy:orderBy as orderedResult track by icon._id"\n        ng-include="\'template-single-icon-wrapper.html\'">\n    </span>\n\n\n  <span class="icons-set_empty"></span>\n  <span class="icons-set_empty"></span>\n  <span class="icons-set_empty"></span>\n  <span class="icons-set_empty"></span>\n  <span class="icons-set_empty"></span>\n\n  <span class="icons-set_empty"></span>\n  <span class="icons-set_empty"></span>\n  <span class="icons-set_empty"></span>\n  <span class="icons-set_empty"></span>\n  <span class="icons-set_empty"></span>\n\n  <span class="icons-set_empty"></span>\n  <span class="icons-set_empty"></span>\n  <span class="icons-set_empty"></span>\n  <span class="icons-set_empty"></span>\n  <span class="icons-set_empty"></span>\n\n  <span class="icons-set_empty"></span>\n  <span class="icons-set_empty"></span>\n  <span class="icons-set_empty"></span>\n  <span class="icons-set_empty"></span>\n  <span class="icons-set_empty"></span>\n\n</div>\n</div>\n\n<!--<div ng-if="!icons" ng-include="\'template-spinner.html\'" class="icons-set__spinner"></div>-->'),e.put("template-insert-html.html",'<div class="insert-html" ng-controller="InsertHtmlCtrl">\n\n  <div ng-show="insert.insertType != \'png\'">\n\n    <div class="insert-html-title">\n      <h2>Insert the SVG icon</h2>\n      <p>\n        You can insert SVG icon by three way: HTML tag (more customizale),\n        IMG tag and CSS injection\n      </p>\n\n      <div class="c-tabs m-center">\n        <span class="b-tab" ng-click="insert.svgType = \'html\'"\n              ng-class="{active: insert.svgType == \'html\'}">HTML\n        </span><span class="b-tab" ng-click="insert.svgType = \'img\'"\n              ng-class="{active: insert.svgType == \'img\'}">IMG tag\n        </span><span class="b-tab" ng-click="insert.svgType = \'css\'"\n              ng-class="{active: insert.svgType == \'css\'}">CSS injection</span>\n      </div>\n    </div>\n\n    <div class="insert-html-content">\n\n      <div ng-show="insert.svgType == \'html\'">\n\n        <div class="insert-html-code">\n          <style ng-if="insert.svgType == \'html\'" ng-bind-html="insert.html.css">\n          </style>\n\n          <p class="insert-html-code__label">\n            To show the icon paste this fragment into your HTML\n          </p>\n          <textarea class="insert-html-code__textarea svg" readonly\n                    ng-bind="insert.html.html"></textarea>\n\n          <p class="insert-html-code__label">\n            To customize color and size paste this fragment in your CSS.\n          </p>\n          <textarea class="insert-html-code__textarea css" readonly\n                    ng-bind="insert.html.css"></textarea>\n        </div>\n\n        <div class="insert-html-preview">\n          <p class="insert-html-preview__title">Live preview</p>\n          <div class="insert-html-preview__html" ng-bind-html="insert.html.html"></div>\n        </div>\n      </div>\n\n\n\n      <div ng-show="insert.svgType == \'img\'">\n\n        <div class="insert-html-code">\n          <style ng-if="insert.svgType == \'img\'" ng-bind-html="insert.img.css">\n          </style>\n\n          <p class="insert-html-code__label">\n            To show the icon paste this IMG tag into your HTML\n          </p>\n          <textarea class="insert-html-code__textarea svg" readonly\n                    ng-bind="insert.img.html"></textarea>\n\n          <p class="insert-html-code__label">\n            To customize size paste this fragment in your CSS\n          </p>\n          <textarea class="insert-html-code__textarea css" readonly\n                    ng-bind="insert.img.css"></textarea>\n        </div>\n\n        <div class="insert-html-preview">\n          <p class="insert-html-preview__title">Live preview</p>\n          <div class="insert-html-preview__html" ng-bind-html="insert.img.html"></div>\n        </div>\n\n      </div>\n\n\n\n      <div ng-show="insert.svgType == \'css\'">\n\n        <div class="insert-html-code">\n          <style ng-if="insert.svgType == \'css\'" ng-bind-html="insert.css.css">\n          </style>\n\n          <p class="insert-html-code__label">\n            To show the icon paste this fragment into your HTML\n          </p>\n          <textarea class="insert-html-code__textarea cssHtml" readonly\n                    ng-bind="insert.css.html"></textarea>\n\n          <p class="insert-html-code__label">\n            Paste this fragment in your CSS\n          </p>\n          <textarea class="insert-html-code__textarea cssCss" readonly\n                    ng-bind="insert.css.css"></textarea>\n        </div>\n\n        <div class="insert-html-preview">\n          <p class="insert-html-preview__title">Live preview</p>\n          <div class="insert-html-preview__html" ng-bind-html="insert.css.html"></div>\n        </div>\n\n      </div>\n\n    </div>\n\n  </div><!-- insert.insertType != \'png\' -->\n\n  <div ng-show="insert.insertType == \'png\'">\n    <div class="insert-html-title">\n      <h2>Generate HTML</h2>\n\n      <p>2 ways to insert icons, and neither of them requires uploading images to your server.</p>\n\n      <div class="c-tabs m-center">\n        <span class="b-tab" ng-click="insert.pngType = \'base64\'"\n              ng-class="{active: insert.pngType == \'base64\'}">Base64\n        </span><span class="b-tab" ng-click="insert.pngType = \'cdn\'"\n              ng-class="{active: insert.pngType == \'cdn\'}">Our CDN</span>\n      </div>\n    </div>\n\n    <div class="insert-html-content">\n\n      <div ng-show="insert.pngType == \'cdn\'">\n\n        <div class="insert-html-code">\n\n          <p class="insert-html-code__label">\n            Icons are served from our CDN. Free forever.\n            <span class="insert-html-sizer f-right">\n              <span ng-repeat="size in insert.png.sizes | premiumSizes:selectedIcon.icon" ng-click="insert.png.currentSize = size._height"\n                    ng-class="{active: insert.png.currentSize == size._height}">{{size._height}}px</span>\n            </span>\n          </p>\n          <textarea class="insert-html-code__textarea pngImg" readonly\n                    ng-bind="insert.png.html[insert.png.currentSize]"></textarea>\n\n          <p class="insert-html-code__label">\n            To use the icons for free please insert the link somewhere on the page.\n            <a href="/license">More</a>\n          </p>\n          <textarea class="insert-html-code__textarea pngLink" readonly><a href="https://icons8.com">Icon pack by Icons8</a></textarea>\n        </div>\n\n        <div class="insert-html-preview">\n          <p class="insert-html-preview__title">Live preview</p>\n          <div class="insert-html-preview__html" ng-bind-html="insert.png.html[insert.png.currentSize]"></div>\n        </div>\n      </div>\n\n      <div ng-show="insert.pngType == \'base64\'">\n\n        <div class="insert-html-code">\n\n          <p class="insert-html-code__label">\n            To show the icon, paste this fragment in your HTML\n          </p>\n          <textarea class="insert-html-code__textarea pngImg" readonly\n                    ng-bind="insert.pngBase64.html"></textarea>\n\n          <p class="insert-html-code__label">\n            To use the icons for free please insert the link somewhere on the page.\n            <a href="/license">More</a>\n          </p>\n          <textarea class="insert-html-code__textarea pngLink" readonly><a href="https://icons8.com">Icon pack by Icons8</a></textarea>\n        </div>\n\n        <div class="insert-html-preview">\n          <p class="insert-html-preview__title">Live preview</p>\n          <div class="insert-html-preview__html" ng-bind-html="insert.pngBase64.html"></div>\n        </div>\n      </div>\n\n    </div>\n  </div><!-- insert.insertType == \'png\' -->\n\n</div><!-- insert-html -->'),e.put("template-left-side-bar.html",'<div class="b-bar-content">\n\n  <div class="b-platform-list">\n    <div class="c-list">\n      <a class="b-list-item"\n            ng-href="/{{appUrl}}/{{platformUrl}}/{{platform.name}}/{{(search.category || search.term) | urlize}}{{promoCode()}}"\n            ng-click="platformClick(platform, $event)"\n            ng-class="{\'m-active\': platform.name == search.platform, \'m-win10\': platform.name == \'win10\',  \'m-win8\': platform.name == \'win8\', \'m-ios7\': platform.name == \'ios7\', \'m-androidL\': platform.name == \'androidL\', \'m-android\': platform.name == \'android\', \'m-color\': platform.name == \'color\'}"\n            ng-repeat="platform in platforms | toArray | orderBy : \'order\'">\n        {{platform.title}}\n      </a>\n    </div>\n  </div>\n\n  <div class="b-category-list" inject-service="UserInfo">\n    <div class="c-list m-scroll">\n      <a class="b-list-item"\n         ng-class="{\'m-active\': !search.category}"\n         ng-href="/{{appUrl}}/new-icons/{{search.platform }}{{promoCode()}}">\n        New Icons\n      </a>\n      \n      <a class="b-list-item"\n         ng-href="/{{appUrl}}/category/{{search.platform }}/{{category._name | urlize}}{{promoCode()}}"\n         ng-repeat="category in categoryPrependList track by category._name | orderBy : \'_name\'"\n         ng-class="{\'m-active\': category.urlizeName == search.category}">\n        {{category._name}}\n\n        <span\n            i8-tooltip="Free SVG"\n            i8-tooltip-data="The icons from this category<br>have all functionality unlocked for<br>all users: SVG, EPS, PDF, Fonts,<br>and SVG sets."\n            ng-show="category.content.perm.vector && !UserInfo.license.features.vector"\n            ng-if="category.content.perm.vector && !UserInfo.license.features.vector"\n            class="b-list-item-badge m-orange c-i8-tooltip">\n        </span>\n      </a>\n\n      <a class="b-list-item"\n         ng-href="/{{appUrl}}/category/{{search.platform }}/{{category._name | urlize}}{{promoCode()}}"\n         ng-repeat="category in categoryList track by category._name | orderBy : \'_name\'"\n         ng-class="{\'m-active\': category.urlizeName == search.category}">\n        {{category._name}}\n\n        <span\n            i8-tooltip="Free SVG"\n            i8-tooltip-data="The icons from this category<br>have all functionality unlocked for<br>all users: SVG, EPS, PDF, Fonts,<br>and SVG sets."\n            ng-show="category.content.perm.vector && !UserInfo.license.features.vector"\n            ng-if="category.content.perm.vector && !UserInfo.license.features.vector"\n            class="b-list-item-badge m-orange c-i8-tooltip">\n        </span>\n      </a>\n    </div>\n  </div>\n\n</div>'),e.put("template-light-box.html",'<div ng-controller="RightSideBarCtrl">\n\n<div class="side-bar__drop-zone"\n     drop-action="addIcon($item)"\n     drop-type="fromIconsSet"\n     drop-ext-action="import.importIcons($data.files)">\n\n  <div class="side-bar__header">\n    <div icon-formats="lightBox"></div>\n  </div>\n\n\n  <div class="b-bar-content">\n\n    <div class="icons-set-scroll-wrapper"\n         ng-class="{ \'icons-set-scroll-wrapper--centered\': colls.current.icons.length <= iconsStyleCount && colls.current.icons.length > 0 }">\n\n      <div class="icons-set icons-set--simple"\n            ng-class="{ \'icons-set--centered\':  colls.current.icons.length <= iconsStyleCount && colls.current.icons.length > 0, \'m-firefox\': isFirefox }">\n\n        <div class="icons-set__icon" title="{{icon.alt}}"\n             ng-click="icon.selected = !icon.selected"\n             ng-dblclick="showIconDetails(icon)"\n             ng-class="{ active: icon.selected, \'m-unavailable\': !icon.data.available, \'m-color-icon\': icon.data.colored }"\n             ng-repeat="icon in colls.current.icons track by icon._id"\n             draggable-item="icon" draggable-type="fromLightBox">\n          <div class="icons-set__icon-svg" ng-bind-html="svgToHtml(icon.data.svg)" ng-class="{\'m-color-icon\': icon.data.colored}"></div>\n\n          <div class="icons-set__icon-data" ng-class="{\'m-color-icon\': icon.data.colored}">\n            <div class="icons-set__icon-title">{{icon.data.name}}</div>\n          </div>\n        </div>\n\n        <span ng-if="colls.current.icons.length > iconsStyleCount" class="icons-set_empty"></span>\n        <span ng-if="colls.current.icons.length > iconsStyleCount" class="icons-set_empty"></span>\n        <span ng-if="colls.current.icons.length > iconsStyleCount" class="icons-set_empty"></span>\n        <span ng-if="colls.current.icons.length > iconsStyleCount" class="icons-set_empty"></span>\n        <span ng-if="colls.current.icons.length > iconsStyleCount" class="icons-set_empty"></span>\n\n<!--        <h1 class="icons-set-title t-center"-->\n<!--             ng-show="!colls.current.icons.length">-->\n<!--          How to Make a Font-->\n<!--        </h1>-->\n<!---->\n<!--        <div class="icons-set__empty t-center"-->\n<!--             ng-show="!colls.current.icons.length">-->\n<!--          Add some icons here and a button <br/>-->\n<!--          for generating a font will appear.-->\n<!--        </div>-->\n      </div>\n\n        <div class="icons-set__empty"\n             ng-show="!colls.current.icons.length">\n            <div class="i8-popup">\n                <div class="i8-popup-title">collections</div>\n                <div class="t-left">\n                    <p><strong>What can you do with collections?</strong></p>\n                    <ol>\n                        <li>Create fonts.</li>\n                        <li>Edit and download multiple icons at once.</li>\n                        <li>Store separate collections for separate projects.</li>\n<!--                        <li>Sync collections between multiple computers.</li>-->\n<!--                        <li>Share the collections with your teammates.</li>-->\n<!--                        <li>Icon designers, you can store your icons in the cloud.</li>-->\n                    </ol>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="icons-set-scroll-wrapper__panel"\n         ng-show="colls.current.icons.length">\n\n      <div class="b-bar-btns m-collections">\n        <div class="c-btn km-download-collection"\n            popup-target="\'download-collection\'"\n            ng-class="{\n                \'progress\': iconBuilderService.downloadPending,\n                \'m-inactive\': isDownloadCollectionButtonInactive()\n            }"\n            ng-show="hasAvailableIcons()"\n            >\n          <div click-need-register\n               click-need-register-if="appInfo.abTests.downloadIconWithRegister == \'register\'"\n               callback="downloadIconsCollection()">Download</div>\n        </div>\n        <a class="c-btn"\n           ng-hide="hasAvailableIcons()"\n           href="/paid-updates">\n          Renew Subscription\n        </a>\n\n        <div class="c-btn m-transparent"\n             popup-target="\'generate-font\'"\n             ng-class="{progress: font.inProgress}"\n             ng-click="downloadIconsFont()">\n          Generate Font\n        </div>\n        <div class="c-btn m-transparent"\n             popup-target="\'generate-svgset\'"\n             ng-click="downloadSVGSet()">\n          Get SVG Set\n        </div>\n      </div>\n      \n    </div>\n\n  </div>\n\n\n  <div class="b-bar-footer" ng-controller="LightBoxCollectionsCtrl">\n\n    <div class="b-bar-footer-block">\n\n      <div class="c-btn m-btn-small m-icon-right collection-toggle"\n         ng-if="!colls.current.isAutoCreated()"\n         ng-click="showCollectionsList()" popup-target="\'collectionsList\'">\n\n        <svg xmlns="http://www.w3.org/2000/svg" version="1.0" x="0px" y="0px" width="26px" height="18px" viewBox="0 0 26 18" style="enable-background:new 0 0 26 18;" class="icon"><g>	<rect y="8" width="26" height="2"></rect>	<rect width="26" height="2"></rect>	<rect y="16" width="26" height="2"></rect></g></svg>\n\n        {{colls.current.name}}&nbsp;\n\n      </div>\n\n      <div class="c-btn m-btn-small"\n           popup-target="\'firstCollection\'"\n           ng-click="createCollection()"\n           ng-if="colls.current.isAutoCreated()">\n        Create collection\n      </div>\n\n      <span class="f-right action action--no-hover"\n            ng-if="isSelectedIcons()"\n            ng-click="removeSelectedIcons()">\n          <span class="icon icons8-trash"></span>\n      </span>\n    </div>\n\n    <div class="b-bar-footer-block m-upload-icon"\n         ng-class="{progress: import.inProgress}">\n      <div class="file-uploader">\n        Drop here or\n        <a href="#" class="c-pretty-link"\n           file-open-dialog="import.importIcons($files)"\n           file-open-dialog-multi="true"\n           file-open-dialog-mime="\'image/svg\'">upload</a>\n        your own SVG\n      </div>\n    </div>\n  </div>\n\n</div>\n</div>'),
e.put("template-login.html",'<form id="login-form" method="post"\n      action="/login/?back=http%3A%2F%2Floca-icons8.com%2Fprofile%2Fsummary%2F">\n  <div class="row">\n    <div class="field">\n      <input class="medium filled" name="RegisterForm[email]" id="RegisterForm_email" type="text">        <label for="LoginForm_email">email</label>\n    </div>\n    <div class="field">\n      <input class="medium filled" name="RegisterForm[password]" id="RegisterForm_password" type="password">      <label for="LoginForm_password">password</label>\n      <span class="showPass">\n        <svg xmlns="http://www.w3.org/2000/svg" version="1.0" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;"><g>	<path d="M48.759,24.349C48.326,23.845,38.013,12,25,12C11.987,12,1.674,23.845,1.241,24.349c-0.322,0.375-0.322,0.928,0,1.303		C1.674,26.155,11.987,38,25,38c13.013,0,23.326-11.845,23.759-12.349C49.08,25.276,49.08,24.724,48.759,24.349z M17.486,15.4		C19.841,14.545,22.372,14,25,14s5.16,0.546,7.515,1.401C34.119,17.226,35,19.562,35,22c0,5.514-4.486,10-10,10		c-5.514,0-10-4.486-10-10C15,19.562,15.882,17.224,17.486,15.4z M25,36C14.6,36,5.701,27.455,3.359,25		c1.46-1.53,5.467-5.427,10.797-8.145C13.4,18.448,13,20.202,13,22c0,6.617,5.383,12,12,12c6.617,0,12-5.383,12-12		c0-1.798-0.4-3.552-1.156-5.145c5.331,2.718,9.338,6.614,10.798,8.145C44.299,27.455,35.4,36,25,36z"></path>	<circle cx="25" cy="22" r="5"></circle></g></svg>\n      </span>\n    </div>\n\n    <a class="f_right" href="/password-recovery/">Forgot password?</a>\n  </div>\n\n  <div class="row buttons">\n    <input class="btn btn-medium" type="submit" name="yt0" value="Login">    <br>\n  </div>\n\n</form>'),e.put("template-modals.html",'<div class="modal-container" ng-class="{active: modal.show}" ng-show="modal.show">\n  <div class="modal"\n       ng-class="{\'modal--right\': modal.animate == \'right\', \'m-animate-opacity\': modal.animate == \'opacity\', \'m-modal-wide\': modal.wide} ">\n    <div class="modal__title" ng-show="modal.title" ng-bind="modal.title"></div>\n\n    <div class="modal__content" ng-show="modal.content" ng-bind-html="modal.content">\n    </div>\n\n    <div class="modal__content" ng-show="modal.template" ng-include="modal.template">\n    </div>\n\n    <div ng-if="!modal.controls">\n      <div class="modal__action c-btn m-btn-small modal__action-confirm" ng-show="modal.actions">Ok</div>&nbsp;\n      <div class="modal__action c-btn m-btn-small" ng-show="modal.actions && modal.callback">Cancel</div>\n    </div>\n    <div\n        ng-if="modal.controls"\n        ng-repeat="control in modal.controls"\n        class="modal__action modal__action-control"\n        ng-class="control.class"\n        ng-click="controlClick(control)"\n        ng-bind="control.text">\n    </div>\n  </div>\n</div>'),e.put("template-popup-wrapper.html",'<div class="i8-popup-wrapper {{$wrapperVars.classList}}"\n     stop-events="click"\n     style="{{$wrapperVars.style}}">\n	<div ng-include="$popupTemplate"></div>\n</div>\n'),e.put("template-request-error-message.html",'<div class="not-found-icons-wrapper">\n  <div class="c-title-spinner">\n    <h1 class="icons-set-title">\n      Error\n    </h1>\n  </div>\n  <div class="nothing-found">\n    Error connecting to Icons8 server <br/><br/>\n    <a class="c-btn m-btn-small" ng-click="retry()">retry</a>\n  </div>\n</div>'),e.put("template-share-icon.html",'<!--<div class="share-icon" ng-controller="ShareIconCtrl">-->\n<!---->\n<!--  <h2>Share icon with friends</h2>-->\n<!---->\n<!--  <input autoselect class="share-icon-url" type="text" value="{{iconUrl}}"/>-->\n<!--  <br>-->\n<!--  <a class="action action--border" href="http://www.facebook.com/sharer/sharer.php?u={{encodedIconUrl}}" target="_blank">-->\n<!--    Facebook-->\n<!--  </a>-->\n<!--  <br>-->\n<!--  <a class="action action--border" href="https://plus.google.com/share?url=={{encodedIconUrl}}" target="_blank">-->\n<!--    Google +-->\n<!--  </a>-->\n<!--</div>-->\n\n<div class="i8-popup">\n    <div class="i8-popup-title">share icon</div>\n\n    <input autoselect class="share-icon-url" type="text" value="{{iconUrl}}"/>\n\n    <br>\n    <a class="share-icon-social" href="http://www.facebook.com/sharer/sharer.php?u={{encodedIconUrl}}" target="_blank">\n      Share on Facebook\n    </a>\n    <br>\n    <a class="share-icon-social" href="https://plus.google.com/share?url={{encodedIconUrl}}" target="_blank">\n      Share on Google +\n    </a>\n</div>'),e.put("template-single-icon-wrapper.html",'<a draggable-item="icon"\n   draggable-type="fromIconsSet"\n   class="icons-set__icon"\n   title="{{icon.alt}}"\n   href="/{{appUrl}}/{{icon._id}}/{{icon.name | lowercase | urlize}}"\n   ng-click="iconAction(icon, $event)"\n   ng-class="{ \'active\': iconIsSelectedByColl(icon), \'selected\': iconIsSelected(icon), \'m-unavailable\': !icon.available }"\n   itemprop="itemListElement"\n   itemscope=""\n   itemtype="http://schema.org/Product"\n   itemref="microdata-icons8-brand">\n\n    <meta itemprop="url" content="{{appHost}}/{{appUrl}}/{{icon._id}}/{{icon.name | lowercase | urlize}}" />\n    <meta itemprop="image" content="{{icon.preview}}" />\n    <meta itemprop="name" content="{{icon.name}}" />\n    <meta itemprop="description" content="{{icon.alt}}" />\n    <meta itemprop="model" content="{{icon._platform}}" />\n    <div itemprop="offers" itemscope itemtype="http://schema.org/Offer"><meta itemprop="price" content="$0.00" />\n    </div>\n\n    <div class="icons-set__icon-svg" ng-bind-html="getTrustedSvg(icon)"></div>\n\n    <div class="icons-set__icon-data">\n        <div class="icons-set__icon-title">{{icon.shortName}}</div>\n    </div>\n\n</a>'),e.put("template-spinner.html",'<div class="spinner">\n  <div class="spinner-container container1">\n    <div class="circle1"></div>\n    <div class="circle2"></div>\n    <div class="circle3"></div>\n    <div class="circle4"></div>\n  </div>\n  <div class="spinner-container container2">\n    <div class="circle1"></div>\n    <div class="circle2"></div>\n    <div class="circle3"></div>\n    <div class="circle4"></div>\n  </div>\n  <div class="spinner-container container3">\n    <div class="circle1"></div>\n    <div class="circle2"></div>\n    <div class="circle3"></div>\n    <div class="circle4"></div>\n  </div>\n</div>'),e.put("view-icon.html",'<div ng-cloak itemscope="" itemtype="http://schema.org/Product">\n    <meta itemprop="url" content="{{appHost}}/{{appUrl}}/{{mainIcon.id}}/{{mainIcon._name | urlize}}" />\n    <meta itemprop="image" content="{{mainIcon.preview}}" />\n    <meta itemprop="description" content="{{mainIcon.alt}}" />\n    <meta itemprop="model" content="{{mainIcon._platform}}" />\n    <div itemprop="offers" itemscope itemtype="http://schema.org/Offer">\n        <meta itemprop="price" content="$0.00" />\n    </div>\n    <div itemprop="brand" itemscope itemtype="http://schema.org/Brand">\n        <meta itemprop="name" content="Icons8" />\n        <meta itemprop="logo" content="https://icons8.com/static/images/icons/logo.png" />\n        <meta itemprop="url" content="https://icons8.com" />\n    </div>\n\n\n    <div class="c-view-icon m-underline" style="margin-top: 2.5rem;">\n        <div class="c-container">\n            <h1 class="b-title">\n                <span ng-bind="mainIcon._name" itemprop="name"></span> Icon\n            </h1>\n\n            <div class="b-subtitle" ng-bind-html="mainSubtitleText"></div>\n            <div class="b-with-icon">\n                <div class="b-side-icons col-md-4">\n                    <div>\n                        <a\n                            ng-repeat="icon in iconsList | filter: {filled: false} | orderBy:\'order\'"\n                            ng-click="chooseSidebarIcon(icon); $event.preventDefault()"\n                            ng-class="{\'b-active-icon\': icon.selected, \'m-unavailable\': !icon.available}"\n                            ng-href="{{icon.iconFullUrl}}"\n                            ng-cloak\n                            >\n                            <div ng-bind-html="icon.readySvg" class="b-icon-wrapper" ng-class="{\'m-color-icon\': icon.colored}"></div>\n                            <p class="b-icon-title" ng-bind-html="icon.platform.title"></p>\n                        </a>\n                        <a ng-if="(iconsList.length == 1 && iconsList[0].filled)"\n                           ng-click="chooseSidebarIcon(iconsList[0]); $event.preventDefault()"\n                           ng-class="{\'b-active-icon\': iconsList[0].selected}"\n                           ng-href="{{iconsList[0].iconFullUrl}}"\n                                >\n                            <div ng-bind-html="iconsList[0].readySvg" class="b-icon-wrapper"></div>\n                            <p class="b-icon-title" ng-bind-html="iconsList[0].platform.title"></p>\n                        </a>\n\n                    </div>\n                </div>\n\n                <div class="col-md-4 b-icon-option">\n                    <div class="b-option-wrapper">\n\n                        <div\n                            class="m-animate"\n                            ng-class="{\'m-margin-right\': (hasFilled && mainIcon.platform_code == \'ios7\')}"\n                            ng-if="mainIcon && !mainIcon.colored"\n                            ng-cloak>\n                            <div class="b-landing-color m-picker"\n                                 ng-click="colorPicker.toggleColorPicker($event)"\n                                 new-color-picker="colorPicker"\n                                 ng-class="{active: colorPicker.active}">\n                            </div>\n                            <span>Recolor</span>\n                        </div>\n\n                        <div\n                            class="b-filler-wrapper m-animate"\n                            ng-if="hasFilled"\n                            ng-show="mainIcon.platform_code == \'ios7\'"\n                            ng-click="toggleFiller()"\n                            ng-cloak\n                            >\n                            <div class="b-filler" ng-class="{\'active\': mainIcon.filled}">\n                            </div>\n                            <span>\n                                <span>\n                                    <svg width="8px" height="8px" viewBox="0 0 8 8" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                            <rect stroke="#9B9B9B" x="1" y="1" width="6" height="6" rx="6"></rect>\n                                        </g>\n                                    </svg>\n                                </span>\n                                Fill\n                                <span>\n                                    <svg width="8px" height="8px" viewBox="0 0 8 8" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                                        <g stroke="none" stroke-width="1" fill="#9B9B9B" fill-rule="evenodd">\n                                            <rect stroke="#9B9B9B" x="1" y="1" width="6" height="6" rx="6"></rect>\n                                        </g>\n                                    </svg>\n                                </span>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="col-md-4 b-main-icon">\n                    <div\n                        ng-bind-html="mainIcon.readySvg"\n                        ng-class="{\'m-color-icon\': mainIcon.colored, \'m-unavailable\': mainIcon && !mainIcon.available }"\n                        draggable-item="mainIcon"\n                        draggable-type="fromIconsSet"\n                        ng-if="!isPrerender"\n                        ng-cloak></div>\n\n                    <div ng-if="isPrerender">\n                        <img\n                            ng-src="{{mainIcon.googleImage}}"\n                            ng-if="mainIcon.googleImage"\n                            alt="{{mainIcon._name}} Icon"\n                            title="{{seo.title}}">\n                    </div>\n                </div>\n\n                <div class="clear"></div>\n            </div>\n\n            <div class="b-action-block">\n\n                <div class="col-md-4 b-icon-format">\n                    <div class="b-actions">\n                        <div new-icon-formats="mainIcon" icon="mainIcon"></div>\n                    </div>\n                </div>\n\n                <div class="col-md-4 b-buttons-block">\n                    <div class="b-actions" ng-show="mainIcon.available">\n                        <button class="c-button red"\n                                click-need-register\n                                callback="downloadIconFile(mainIcon)">Download</button>\n                        <button class="c-button white" ng-click="insert.show()" style="font-size: 15px;">Generate HTML</button>\n                    </div>\n                    <div class="b-actions" ng-show="!mainIcon.available">\n                        <a class="c-button red" href="/paid-updates">Renew Subscription</a>\n                    </div>\n                </div>\n\n                <div class="col-md-4 b-side-share">\n\n                    <click-to-copy\n                            href="{{mainIcon.share.shortLink}}"\n                            class="c-click-to-copy"\n                            tracking-id="{{mainIcon._name}}"\n                            tracking-type="icon">\n                    </click-to-copy>\n\n                    <a ng-href="http://www.facebook.com/sharer/sharer.php?u={{mainIcon.encodedIconFullUrl}}"\n                       target="_blank" class="b-social-share" ng-click="trackShareClick(\'facebook\')">\n\n                        <!-- Facebook icon by Icons8 -->\n                        <svg xmlns="http://www.w3.org/2000/svg" version="1.0" x="0px" y="0px" width="19" height="19" viewBox="0 0 26 26" class="icon icons8-Facebook" fill="#9B9B9B">    <path d="M21.125,0H4.875C2.182,0,0,2.182,0,4.875v16.25C0,23.818,2.182,26,4.875,26h16.25 C23.818,26,26,23.818,26,21.125V4.875C26,2.182,23.818,0,21.125,0z M20.464,14.002h-2.433v9.004h-4.063v-9.004h-1.576v-3.033h1.576 V9.037C13.969,6.504,15.021,5,18.006,5h3.025v3.022h-1.757c-1.162,0-1.238,0.433-1.238,1.243l-0.005,1.703h2.764L20.464,14.002z"></path></svg>\n                    </a>\n\n                    <a ng-href="http://www.twitter.com/share?url={{mainIcon.encodedIconUrl}}&via=icons_8&text={{mainIcon.titleLong}}"\n                       target="_blank" class="b-social-share" style="margin-left: 10px"\n                       ng-click="trackShareClick(\'twitter\')">\n\n                        <!-- Twitter icon by Icons8 -->\n                        <svg xmlns="http://www.w3.org/2000/svg" version="1.0" x="0px" y="0px" width="19" height="19" viewBox="0 0 26 26" class="icon icons8-Twitter" fill="#9B9B9B">    <path d="M25.855,5.574c-0.942,0.418-1.953,0.699-3.017,0.827c1.085-0.65,1.918-1.68,2.31-2.904 c-1.015,0.601-2.14,1.038-3.335,1.273c-0.957-1.021-2.321-1.658-3.831-1.658c-2.9,0-5.251,2.351-5.251,5.25 c0,0.411,0.047,0.812,0.137,1.196c-4.363-0.22-8.232-2.31-10.822-5.486c-0.452,0.777-0.71,1.679-0.71,2.641 c0,1.821,0.925,3.428,2.335,4.37c-0.861-0.027-1.67-0.264-2.378-0.657c0,0.022,0,0.044,0,0.066c0,2.545,1.81,4.664,4.21,5.148 c-0.439,0.121-0.903,0.185-1.382,0.185c-0.339,0-0.668-0.033-0.989-0.095c0.67,2.084,2.608,3.604,4.905,3.646 c-1.796,1.408-4.06,2.246-6.521,2.246c-0.425,0-0.842-0.023-1.252-0.073c2.322,1.49,5.083,2.359,8.048,2.359 c9.657,0,14.939-8.001,14.939-14.937c0-0.229-0.006-0.456-0.016-0.68C24.263,7.553,25.152,6.627,25.855,5.574"></path></svg>\n                    </a>\n\n                </div>\n\n                <div class="clear"></div>\n            </div>\n\n        </div>\n    </div>\n\n\n\n    <div class="c-related-icons m-animate m-margin-top m-underline"\n         ng-if="allReady">\n        <div class="c-container">\n\n            <h2 class="b-title">Related to {{mainIcon._name}} Icon</h2>\n            <div class="b-subtitle" ng-bind-html="relatedText">\n            </div>\n\n            <div ng-if="allReady" platform-preview="platforms" current-icon="mainIcon"\n                 class="c-landing-categories"></div>\n\n            <div class="b-tags-list" ng-if="iconTags.length > 0">\n                <span>Browse by tags &nbsp;</span>\n                <a ng-bind-html="tag.toString()"\n                   ng-repeat="tag in iconTags | limitTo: 10"\n                   ng-href="/{{appUrl}}/for/{{search.platform}}/{{tag | urlize}}"></a>\n            </div>\n\n            <div class="clear"></div>\n        </div>\n    </div>\n\n\n    <div class="c-inspired-block m-underline m-margin-top" ng-show="showInspired" ng-if="showInspired">\n        <h2 id="inspired-by" class="b-title m-inspired-title" ng-if="showInspired.author">\n            <a ng-href="{{showInspired.link}}" class="c-pretty-link m-black" ng-if="showInspired.link">Idea of {{mainIcon._name}} Icon</a>\n            <span ng-if="!showInspired.link">Idea of {{mainIcon._name}} Icon</span>\n            <span ng-if="showInspired.author">by {{showInspired.author}}</span>\n        </h2>\n\n        <div class="b-subtitle" ng-if="showInspired.created">\n            We\'ve received the idea on {{showInspired.created | reformatDate:false }}\n            <span ng-if="showInspired.competed">\n                and created the icons on {{showInspired.competed | reformatDate:true }}\n            </span>\n        </div>\n        <div class="b-inspired-text" ng-bind-html="toTrusted(showInspired.text)"></div>\n\n        <div ng-if="showInspired.comments.length > 0" class="b-inspired-comments">\n            <div ng-repeat="comment in showInspired.comments">\n                <div class="b-comment-author">\n                    <!-- Topic icon by Icons8 -->\n                    <svg xmlns="http://www.w3.org/2000/svg" version="1.0" x="0px" y="0px" width="16" height="16" viewBox="0 0 50 50" style="fill: #9B9B9B" class="icon icons8-Topic" >    <path style="text-indent:0;text-align:start;line-height:normal;text-transform:none;block-progression:tb;-inkscape-font-specification:Bitstream Vera Sans" d="M 25.1875 0 C 11.512753 0 0.40625 9.7897614 0.40625 22.09375 C 0.40625 28.09742 3.1104215 33.504442 7.53125 37.53125 C 7.3818965 40.441998 6.1014328 42.650003 4.5625 44.3125 C 2.9568465 46.047075 1.2343085 47.080414 0.34375 47.84375 A 1.0001 1.0001 0 0 0 0.75 49.5625 C 4.2082936 50.49569 8.1309684 49.823761 11.75 48.53125 C 15.201039 47.298736 18.299597 45.492493 20.46875 43.71875 C 21.993062 43.985143 23.559596 44.1875 25.1875 44.1875 C 38.765872 44.1875 50 34.403437 50 22.09375 C 50 9.7840634 38.765872 0 25.1875 0 z M 25.1875 2 C 37.809128 2 48 11.003437 48 22.09375 C 48 33.184063 37.809128 42.1875 25.1875 42.1875 C 23.565931 42.1875 21.92802 42.009941 20.375 41.71875 A 1.0001 1.0001 0 0 0 19.5625 41.9375 C 17.63455 43.583311 14.474718 45.448761 11.09375 46.65625 C 8.5412778 47.567847 5.9456431 47.875601 3.5625 47.75 C 4.4154389 47.10643 5.0047558 46.796413 6.03125 45.6875 C 7.8505965 43.722075 9.5393901 40.915222 9.59375 37.21875 A 1.0001 1.0001 0 0 0 9.25 36.4375 C 4.9392419 32.70151 2.40625 27.688665 2.40625 22.09375 C 2.40625 10.997739 12.462247 2 25.1875 2 z" color="#000" stroke-width="2" overflow="visible" enable-background="accumulate" font-family="Bitstream Vera Sans"></path></svg>\n                    <p>{{comment.author}}</p>\n                </div>\n                <div ng-bind-html="toTrusted(comment.text)" class="b-comment-text"></div>\n\n            </div>\n        </div>\n    </div>\n\n\n    <div class="c-inspired-block m-underline m-margin-top" ng-if="iconStory.text">\n        <div class="c-container">\n            <h2 class="b-title m-inspired-title" id="story">Story about {{mainIcon._name}} Icon</h2>\n            <div class="b-inspired-text" ng-bind-html="toTrusted(iconStory.text)"></div>\n            <div class="c-story-author" ng-if="iconStory.author_name">\n\n                <a ng-href="{{iconStory.author_link}}"\n                   ng-if="iconStory.author_link"\n                   class="b-story-author_link">\n                    <img ng-src="{{iconStory.author_photo}}"\n                         alt="Story Author"\n                         class="b-story-author_photo"\n                         ng-if="iconStory.author_photo" />\n                    <span class="b-story-author_name" ng-bind="iconStory.author_name"></span>\n                </a>\n\n                <span ng-if="!iconStory.author_link"\n                      class="b-story-author_no-link">\n                    <img ng-src="{{iconStory.author_photo}}"\n                         alt="Story Author"\n                         class="b-story-author_photo"\n                         ng-if="iconStory.author_photo" />\n                    <span class="b-story-author_name" ng-bind="iconStory.author_name"></span>\n                </span>\n            </div>\n        </div>\n    </div>\n\n\n    <div class="c-disqus-block" ng-if="!isPrerender">\n        <div>\n            <dir-disqus\n                disqus-shortname="{{disqus.shortname}}"\n                disqus-identifier="{{disqus.identifier}}"\n                disqus-url="{{disqus.url}}"\n                disqus-title="{{disqus.title}}"\n                ready-to-bind="{{disqus.ready}}" >\n            </dir-disqus>\n        </div>\n    </div>\n\n    <disqus-from-api disqus="disqus"></disqus-from-api>\n\n</div>\n')}]),e.module("web-app").run(["$templateCache",function(e){e.put("template-icon.html",'<div ng-controller="IconCtrl">\n\n<div class="side-bar__drop-zone"\n     drop-action="showIcon($item)"\n     drop-ext-action="import.importIcons($data.files)"\n     drop-type="fromIconsSet"\n    >\n\n  <div ng-if="selectedIcon.icon._id" itemscope="" itemtype="http://schema.org/Product">\n      <meta itemprop="name" content="{{selectedIcon.icon.name}}" />\n      <meta itemprop="url" content="{{appHost}}/{{appUrl}}/{{selectedIcon.icon._id}}/{{selectedIcon.icon.name | urlize}}" />\n      <meta itemprop="image" content="{{selectedIcon.icon.preview}}" />\n      <meta itemprop="description" content="{{selectedIcon.icon.alt}}" />\n      <meta itemprop="model" content="{{selectedIcon.icon._platform}}" />\n      <div itemprop="offers" itemscope itemtype="http://schema.org/Offer">\n          <meta itemprop="price" content="$0.00" />\n      </div>\n      <div id="microdata-icons8-brand" itemprop="brand" itemscope itemtype="http://schema.org/Brand">\n          <meta itemprop="name" content="Icons8" />\n          <meta itemprop="logo" content="https://icons8.com/static/images/icons/logo.png" />\n          <meta itemprop="url" content="https://icons8.com/" />\n      </div>\n  </div>\n\n\n    <div class="side-bar__header">\n        <div icon-formats="icon" icon="selectedIcon.icon"></div>\n    </div>\n\n\n  <div class="b-bar-content m-icon-preview" ng-class="{\'m-imported\': selectedIcon.icon.imported}">\n    <div class="icon-preview"\n        ng-class="{ \'m-unavailable\': selectedIcon.icon && !selectedIcon.icon.available}">\n      <!--<span class="icon-preview-share" popup-target="\'sharePopup\'"-->\n            <!--ng-click="showSharePopup()"><span class="icon icons8-link"></span></span>-->\n\n      <div class="t-center" ng-class="{ imported: selectedIcon.icon.vector }" draggable-item="selectedIcon.icon" draggable-type="preview">\n        <div class="icon-preview__svg"\n             ng-class="{ \'m-color-icon\': selectedIcon.icon.colored, \'m-unavailable\': !selectedIcon.icon.available }"\n             ng-bind-html="getTrustedSvg(selectedIcon.icon)"></div>\n      </div>\n\n      <div class="icon-preview__title">\n        {{selectedIcon.icon.name}}\n      </div>\n      <div class="icon-preview__sub-title"\n           ng-show="selectedIcon.icon.platform">\n        {{selectedIcon.icon.platform.fullTitle}} /\n        <a href="/{{appUrl}}/category/{{search.platform }}/{{selectedIcon.icon.category | urlize}}"\n           class="icon-preview__sub-title">\n          {{selectedIcon.icon.category}}\n        </a>\n      </div>\n\n      <div class="b-bar-btns m-icon" ng-class="{ \'m-single-btn\': isSingleButton() }">\n        <div class="c-btn km-download-single-icon"\n             ng-hide="isDownloadButtonDisabled()"\n             click-need-register\n             click-need-register-if="appInfo.abTests.downloadIconWithRegister == \'register\'"\n             callback="downloadIconFile(selectedIcon.icon)">\n          Download\n        </div>\n        <div class="c-btn m-transparent km-generate-html"\n             ng-hide="isGenerateHtmlButtonDisabled()"\n             ng-click="insert.show()">\n          Generate HTML\n        </div>\n        <div class="c-btn b-fullsize-btn"\n             ng-hide="isRenewSubscriptionButtonDisabled()"\n             ng-click="license.subscribeUrl()">\n          Subscribe to New Icons\n        </div>\n        <p ng-hide="isRenewSubscriptionButtonDisabled()">\n          We’ve created <span ng-bind="newIcons"></span> icons since your subscription expired\n          <span class="c-tooltip" ng-click="showSubscribeHelp = !showSubscribeHelp">?</span>\n          <span class="c-tooltip">\n            <span ng-class="{active: showSubscribeHelp}" class="b-tooltip-text m-side-panel-subscribe">Whatever you buy is yours. However, we charge $99/year for the new icons that we create. For this amount, you\'ll get all the icons created up to date plus all the icons that we\'ll create in the next year (around 6000).</span>\n          </span>\n        </p>\n      </div>\n\n    </div>\n  </div>\n\n  <div class="b-bar-footer m-icon-preview" ng-class="{\'m-imported\': selectedIcon.icon.imported}">\n    <div class="b-bar-footer-block m-share-icon"\n         ng-hide="selectedIcon.icon.imported">\n\n        <click-to-copy\n                href="{{iconUrl}}"\n                side-bars="{{sideBars}}"\n                class="c-click-to-copy"\n                tracking-id="{{selectedIcon.icon._name}}"\n                tracking-type="icon">\n        </click-to-copy>\n\n      <a class="f-right" href="http://www.twitter.com/share?url={{encodedIconUrl}}&via=icons_8&text={{selectedIcon.icon.titleLong}}" target="_blank" ng-click="trackShareClick(\'twitter\')">\n        <svg xmlns="http://www.w3.org/2000/svg" version="1.0" x="0px" y="0px" width="19" height="19" viewBox="0 0 26 26" class="icon icons8-Twitter" fill="#9B9B9B">    <path d="M25.855,5.574c-0.942,0.418-1.953,0.699-3.017,0.827c1.085-0.65,1.918-1.68,2.31-2.904 c-1.015,0.601-2.14,1.038-3.335,1.273c-0.957-1.021-2.321-1.658-3.831-1.658c-2.9,0-5.251,2.351-5.251,5.25 c0,0.411,0.047,0.812,0.137,1.196c-4.363-0.22-8.232-2.31-10.822-5.486c-0.452,0.777-0.71,1.679-0.71,2.641 c0,1.821,0.925,3.428,2.335,4.37c-0.861-0.027-1.67-0.264-2.378-0.657c0,0.022,0,0.044,0,0.066c0,2.545,1.81,4.664,4.21,5.148 c-0.439,0.121-0.903,0.185-1.382,0.185c-0.339,0-0.668-0.033-0.989-0.095c0.67,2.084,2.608,3.604,4.905,3.646 c-1.796,1.408-4.06,2.246-6.521,2.246c-0.425,0-0.842-0.023-1.252-0.073c2.322,1.49,5.083,2.359,8.048,2.359 c9.657,0,14.939-8.001,14.939-14.937c0-0.229-0.006-0.456-0.016-0.68C24.263,7.553,25.152,6.627,25.855,5.574"></path></svg>\n      </a>\n      <a class="f-right" href="http://www.facebook.com/sharer/sharer.php?u={{encodedIconFullUrl}}" target="_blank" ng-click="trackShareClick(\'facebook\')">\n        <svg xmlns="http://www.w3.org/2000/svg" version="1.0" x="0px" y="0px" width="19" height="19" viewBox="0 0 26 26" class="icon icons8-Facebook" fill="#9B9B9B">    <path d="M21.125,0H4.875C2.182,0,0,2.182,0,4.875v16.25C0,23.818,2.182,26,4.875,26h16.25 C23.818,26,26,23.818,26,21.125V4.875C26,2.182,23.818,0,21.125,0z M20.464,14.002h-2.433v9.004h-4.063v-9.004h-1.576v-3.033h1.576 V9.037C13.969,6.504,15.021,5,18.006,5h3.025v3.022h-1.757c-1.162,0-1.238,0.433-1.238,1.243l-0.005,1.703h2.764L20.464,14.002z"></path></svg>\n      </a>\n    </div>\n\n    <a class="b-bar-footer-block m-full-link"\n       ng-hide="selectedIcon.icon.imported"\n       ng-click="gotoFullIcon($event)"\n       ng-show="selectedIcon"\n       ng-href="{{fullIconUrl}}">\n      <span>Similar Icons</span>\n      <span class="b-svg">\n        <svg xmlns="http://www.w3.org/2000/svg" version="1.0" x="0px" y="0px" width="25" height="25" viewBox="0 0 50 50" class="icon icons8-Right" ><path style="text-indent:0;text-align:start;line-height:normal;text-transform:none;block-progression:tb;" d="M 29.84375 13.09375 A 1.0001 1.0001 0 0 0 29.34375 14.8125 L 38.53125 24 L 9 24 A 1.0001 1.0001 0 0 0 8.90625 24 A 1.001098 1.001098 0 0 0 9 26 L 38.53125 26 L 29.34375 35.1875 A 1.0001 1.0001 0 1 0 30.75 36.59375 L 41.65625 25.71875 L 42.34375 25 L 41.65625 24.28125 L 30.75 13.40625 A 1.0001 1.0001 0 0 0 29.9375 13.09375 A 1.0001 1.0001 0 0 0 29.84375 13.09375 z" stroke-width="2" overflow="visible" enable-background="accumulate"></path></svg>\n      </span>\n    </a>\n\n    <div class="b-bar-footer-block m-upload-icon" ng-controller="LightBoxCollectionsCtrl"\n         ng-class="{progress: import.inProgress}">\n      <div class="file-uploader">\n        Drop here or\n        <a href="#" class="c-pretty-link"\n        file-open-dialog="import.importIcons($files)"\n        file-open-dialog-mime="\'image/svg\'">upload</a>\n        your own SVG\n      </div>\n    </div>\n  </div>\n\n</div>\n\n</div>')}]),e.module("web-app").run(["$templateCache",function(e){e.put("page-single-category.html",'<div ng-cloak="ng-cloak"><div class="c-page-single-category m-underline"><div class="c-container"><h1 ng-bind-html="category.title" class="b-title"></h1><p ng-show="category.description" ng-bind-html="category.description" class="b-subtitle"></p><div ng-attr-data-title="{{category.twitterTitle}}" class="c-likely likely m-light likely-big"><div data-via="icons_8" class="twitter">Twitter</div><div class="facebook">Facebook</div><div class="plusone">Google+</div></div><div class="b-share-link"><click-to-copy href="{{shareLink}}" tracking-id="{{category.title}}" tracking-type="category" class="c-click-to-copy"></click-to-copy></div></div></div><div ng-show="allReady" class="c-page-single-category m-underline m-padding-bottom"><div class="c-container"><div ng-repeat="iconBlock in iconsList | orderBy:\'-icons.length\' " class="b-icons-block"><div class="b-icons-block-wrap"><div ng-repeat="icon in iconBlock.icons | orderBy:\'platform_order\' " class="b-icon-wrapper m-tooltip"><span ng-bind-html="icon.platform.title" ng-show="icon.platform" ng-class="{\'m-win10\': icon.platform_code == \'win10\',  \'m-win8\': icon.platform_code == \'win8\', \'m-ios7\': icon.platform_code == \'ios7\', \'m-androidL\': icon.platform_code == \'androidL\', \'m-android\': icon.platform_code == \'android\', \'m-color\': icon.platform_code == \'color\'}" class="b-t-container"></span><a ng-show="icon.svg" ng-bind-html="icon.readySvg" ng-href="{{icon.categoryUrl}}" ng-click="selectIcon(icon)" alt="{{icon.alt}}" title="{{icon.platform.seoTitle}}" class="b-icon"></a></div><span ng-bind="iconBlock.name" class="b-icon-name"></span></div></div></div></div><div ng-if="category.story" ng-show="category.story.text" class="c-page-single-category m-underline m-padding-top"><div class="c-container"><h1 id="story" class="b-title">Short Story on {{ category.title }}</h1><p class="b-subtitle">We have a literature experiment here. We\'ve asked the comedy writers to create a short story for each of the categories. Here we go with the one on {{ category.name | lowercase}}.</p><div ng-if="category.story.author_name" class="c-story-author m-category-page"><a ng-href="{{category.story.author_link}}" ng-if="category.story.author_link" class="b-story-author_link"><img ng-src="{{category.story.author_photo}}" alt="Story Author" ng-if="category.story.author_photo" class="b-story-author_photo"/><span ng-bind="category.story.author_name" class="b-story-author_name"></span></a><span ng-if="!category.story.author_link" class="b-story-author_no-link"><img ng-src="{{category.story.author_photo}}" alt="Story Author" ng-if="category.story.author_photo" class="b-story-author_photo"/><span ng-bind="category.story.author_name" class="b-story-author_name"></span></span></div></div><div ng-bind-html="category.story.text" class="b-short-story-text"></div></div><div class="c-page-single-category"><div class="c-container"><div ng-if="!isPrerender" class="c-disqus-block"><div ng-show="disqus.ready"><dir-disqus disqus-shortname="{{disqus.shortname}}" disqus-identifier="{{disqus.identifier}}" disqus-url="{{disqus.url}}" disqus-title="{{disqus.title}}" ready-to-bind="{{disqus.ready}}"></dir-disqus></div></div><div ng-if="isPrerender" class="c-disqus-block"><disqus-from-api disqus="disqus"></disqus-from-api></div></div></div></div>'),
e.put("template-free-user-download.html",'<div class="c-free-user-modal"><div class="b-column"><h4>PNG {{modal.templateParams.iconSize}}x{{modal.templateParams.iconSize}}px</h4><p>A link <a href="/license/" class="c-pretty-link m-blue">required</a></p><div ng-click="modal.confirm()" class="c-btn m-transparent modal__action-confirm">Download</div></div><div class="b-column m-wide"><h4>SVG, EPS, PSD, PDF, Fonts, Free&nbsp;Coke!</h4><p>Don\'t link to us unless you want it</p><a href="/paid-license-99/" ng-click="modal.templateParams.trackPriceEvent($event)" class="c-btn m-white">Check Pricing</a></div></div>'),e.put("template-i8-tooltip.html",'<span ng-bind-html="tooltipData" ng-class="{\'m-show\': toggleFlag}" class="b-tooltip-container m-pos-down-left m-free-svg"></span>{{tooltipName}}'),e.put("template-ios-spinner.html",'<div class="b-spinner"><div class="b-spinner-blade"></div><div class="b-spinner-blade"></div><div class="b-spinner-blade"></div><div class="b-spinner-blade"></div><div class="b-spinner-blade"></div><div class="b-spinner-blade"></div><div class="b-spinner-blade"></div><div class="b-spinner-blade"></div><div class="b-spinner-blade"></div><div class="b-spinner-blade"></div><div class="b-spinner-blade"></div><div class="b-spinner-blade"></div></div>'),e.put("template-line-backlink.html",'<div><strong ng-bind="getText()" class="b-sex-text"></strong> Sorry, we needed your attention. Don’t forget to\n<a class="b-link" href="//icons8.com/license/" target="_blank">set a link to us</a>.<div ng-click="cancel()" class="b-close"></div></div>'),e.put("template-modal-backlink.html",'<div class="b-container"><div class="b-backdrop"></div><div class="b-box"><div class="b-header"><button ng-click="cancel()" class="b-close">Close</button></div><div class="b-body"><div class="b-title">Sex!</div><div class="b-info">Sorry, we needed your attention. Don’t forget to include a link<br/>on each page that you use our icons.<br/><a href="/license/" target="_blank">More about linking</a></div><div class="b-code-box"><div class="b-code"><div ng-hide="isEndOfList()"><span ng-bind="getBeforeLinkText()"></span><span> &lt;<span class="b-code__tag">a </span><span class="b-code__attr">href</span>="<a ng-href="{{link.url}}" ng-bind="link.url" class="b-code__url"></a>"></span><wbr/><span class="b-code__line"><span ng-bind="getLinkText()"></span>&lt;/<span class="b-code__tag">a</span>&gt; </span><span ng-bind="getAfterLinkText()"></span></div><div ng-show="isEndOfList()">Let\'s admit it: we\'re not Shakespeare :) Therefore, you\'re welcome to write your text and link it to <a ng-href="{{link.url}}" ng-bind="link.url" class="b-code__url"></a></div></div><div ng-click="linkTextCircuit()" class="b-code-box-change"></div></div><div class="b-actions"><button ng-click="ok()">OK, I will set a link</button><br/><a href="/paid-license-99/" target="_blank" ng-click="cancel()">Buy a no-link license</a><br/><a href="/our-business-model" target="_blank" ng-click="cancel()">I want it for free and without a link</a></div></div><div class="b-footer"><div class="b-checkbox"><label><input type="checkbox" ng-model="onlyOnce"/><span>Don’t show it again</span></label></div></div></div></div>'),e.put("template-ok-popup.html",'<div class="i8-popup"><p><b ng-bind="title"></b></p><p ng-bind="message"></p><p><a ng-click="$closePopup()" class="c-btn m-btn-small">ok</a></p></div>'),e.put("template-see-pricing-popup.html",'<div class="i8-popup"><p><b ng-bind="title"></b></p><p ng-bind="message"></p><p inject-service="UserInfo"><a href="/paid-license-99" class="c-btn m-btn-small">see pricing</a>&nbsp;<a href="/login" onclick="location.href = \'/login?back=\' + app.auth.getRedirectUrl(); return false;" ng-if="UserInfo.isGuest" class="c-btn m-btn-small m-transparent">login</a></p></div>'),e.put("template-unlock-all-icons-popup.html",'<div class="i8-popup"><p><b ng-bind="title"></b></p><p ng-bind="message"></p><p><a href="/paid-updates" class="c-btn m-btn-small">unlock all icons</a>&nbsp;<a ng-click="$closePopup()" class="c-btn m-btn-small m-transparent">ok</a></p></div>')}])}(angular),$(function(){void 0!==window.angular&&angular.bootstrap(document.getElementById("app"),["web-app"]),_elev.docked_position="floor"});